(self.webpackChunkspp_labo_iv=self.webpackChunkspp_labo_iv||[]).push([[179],{8255:Ge=>{function Ce(L){return Promise.resolve().then(()=>{var u=new Error("Cannot find module '"+L+"'");throw u.code="MODULE_NOT_FOUND",u})}Ce.keys=()=>[],Ce.resolve=Ce,Ce.id=8255,Ge.exports=Ce},7716:(Ge,Ce,L)=>{"use strict";L.d(Ce,{deG:()=>mE,tb:()=>VT,AFp:()=>Py,ip1:()=>Q1,CZH:()=>lo,hGG:()=>LM,z2F:()=>Qh,sBO:()=>n1,Sil:()=>_r,_Vd:()=>xh,EJc:()=>UT,SBq:()=>Hr,qLn:()=>_,vpe:()=>Ki,gxx:()=>jl,tBr:()=>ma,XFs:()=>Xe,OlP:()=>pn,zs3:()=>Xt,ZZ4:()=>kc,aQg:()=>iy,soG:()=>Fy,YKP:()=>oy,v3s:()=>nI,h0i:()=>Ga,PXZ:()=>$y,R0b:()=>yr,FiY:()=>Ts,Lbi:()=>LT,g9A:()=>FT,Qsj:()=>Yb,FYo:()=>pg,JOm:()=>Ns,Tiy:()=>ey,q3G:()=>En,tp0:()=>ar,EAV:()=>oI,Rgc:()=>Fh,dDg:()=>qT,DyG:()=>xo,q4F:()=>ny,GfV:()=>ty,s_b:()=>_g,ifc:()=>Fe,eFA:()=>JT,G48:()=>WT,Gpc:()=>U,X6Q:()=>By,_c5:()=>Zy,VLi:()=>ZT,c2e:()=>cM,zSh:()=>th,wAp:()=>nt,vHH:()=>Ee,EiD:()=>Qu,mCW:()=>Sl,qzn:()=>zu,JVY:()=>Mm,pB0:()=>wa,eBb:()=>Wu,L6k:()=>ap,LAX:()=>eo,cg1:()=>$_,Tjo:()=>ai,kL8:()=>JC,yhl:()=>Vo,dqk:()=>en,sIi:()=>Gl,CqO:()=>Qp,QGY:()=>x_,F4k:()=>R_,RDi:()=>em,AaK:()=>K,z3N:()=>Xs,qOj:()=>T_,TTD:()=>Pr,_Bn:()=>Mc,xp6:()=>hn,uIk:()=>S_,Tol:()=>Db,DjV:()=>Rb,ekj:()=>Gi,Suo:()=>_T,Xpm:()=>zr,lG2:()=>od,Yz7:()=>Kt,cJS:()=>xt,oAB:()=>id,Yjl:()=>ll,Y36:()=>ks,_UZ:()=>Yp,BQk:()=>Os,ynx:()=>Va,qZA:()=>La,TgZ:()=>Cc,EpF:()=>Dc,n5z:()=>Gf,Ikx:()=>Ic,SDv:()=>Y_,QtT:()=>Zb,pQV:()=>K_,LFG:()=>on,$8M:()=>pm,NdJ:()=>lh,CRH:()=>yT,kcU:()=>Mv,O4$:()=>hE,oxw:()=>ch,ALo:()=>dT,lcZ:()=>V1,Hsn:()=>_n,F$t:()=>bb,Q6J:()=>Kl,s9C:()=>wb,MGl:()=>Jp,VKq:()=>wy,WLB:()=>P1,kEZ:()=>Ey,iGM:()=>tr,MAs:()=>cb,CHM:()=>Af,LSH:()=>Bd,kYT:()=>sd,Udp:()=>Ql,YNc:()=>Hi,W1O:()=>GN,_uU:()=>_h,Oqu:()=>Nb,hij:()=>V_,AsE:()=>Ln,Gf:()=>G1});var u=L(9765),X=L(5319),H=L(7574),ve=L(6682),fe=L(8819);function Q(o){for(let a in o)if(o[a]===Q)return a;throw Error("Could not find renamed property on target object.")}function ie(o,a){for(const c in a)a.hasOwnProperty(c)&&!o.hasOwnProperty(c)&&(o[c]=a[c])}function K(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(K).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const c=a.indexOf("\n");return-1===c?a:a.substring(0,c)}function j(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const F=Q({__forward_ref__:Q});function U(o){return o.__forward_ref__=U,o.toString=function(){return K(this())},o}function $(o){return oe(o)?o():o}function oe(o){return"function"==typeof o&&o.hasOwnProperty(F)&&o.__forward_ref__===U}class Ee extends Error{constructor(a,c){super(function(o,a){return`${o?`NG0${o}: `:""}${a}`}(a,c)),this.code=a}}function he(o){return"string"==typeof o?o:null==o?"":String(o)}function ye(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():he(o)}function Lt(o,a){const c=a?` in ${a}`:"";throw new Ee("201",`No provider for ${ye(o)} found${c}`)}function ut(o,a,c,h){throw new Error(`ASSERTION ERROR: ${o}`+(null==h?"":` [Expected=> ${c} ${h} ${a} <=Actual]`))}function Kt(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function xt(o){return{providers:o.providers||[],imports:o.imports||[]}}function br(o){return Ji(o,js)||Ji(o,$s)}function Ji(o,a){return o.hasOwnProperty(a)?o[a]:null}function _o(o){return o&&(o.hasOwnProperty(ra)||o.hasOwnProperty(ia))?o[ra]:null}const js=Q({\u0275prov:Q}),ra=Q({\u0275inj:Q}),$s=Q({ngInjectableDef:Q}),ia=Q({ngInjectorDef:Q});var Xe=(()=>((Xe=Xe||{})[Xe.Default=0]="Default",Xe[Xe.Host=1]="Host",Xe[Xe.Self=2]="Self",Xe[Xe.SkipSelf=4]="SkipSelf",Xe[Xe.Optional=8]="Optional",Xe))();let zn;function es(o){const a=zn;return zn=o,a}function pt(o,a,c){const h=br(o);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:c&Xe.Optional?null:void 0!==a?a:void Lt(K(o),"Injector")}function jt(o){return{toString:o}.toString()}var Ut=(()=>((Ut=Ut||{})[Ut.OnPush=0]="OnPush",Ut[Ut.Default=1]="Default",Ut))(),Fe=(()=>((Fe=Fe||{})[Fe.Emulated=0]="Emulated",Fe[Fe.None=2]="None",Fe[Fe.ShadowDom=3]="ShadowDom",Fe))();const st="undefined"!=typeof globalThis&&globalThis,ki="undefined"!=typeof window&&window,yo="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ys="undefined"!=typeof global&&global,en=st||ys||ki||yo,Z={},G=[],W=Q({\u0275cmp:Q}),De=Q({\u0275dir:Q}),re=Q({\u0275pipe:Q}),Ze=Q({\u0275mod:Q}),_t=Q({\u0275loc:Q}),Ot=Q({\u0275fac:Q}),nn=Q({__NG_ELEMENT_ID__:Q});let fn=0;function zr(o){return jt(()=>{const c={},h={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===Ut.OnPush,directiveDefs:null,pipeDefs:null,selectors:o.selectors||G,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||Fe.Emulated,id:"c",styles:o.styles||G,_:null,setInput:null,schemas:o.schemas||null,tView:null},f=o.directives,m=o.features,b=o.pipes;return h.id+=fn++,h.inputs=mf(o.inputs,c),h.outputs=mf(o.outputs),m&&m.forEach(w=>w(h)),h.directiveDefs=f?()=>("function"==typeof f?f():f).map(Wn):null,h.pipeDefs=b?()=>("function"==typeof b?b():b).map(hi):null,h})}function Wn(o){return or(o)||function(o){return o[De]||null}(o)}function hi(o){return function(o){return o[re]||null}(o)}const wu={};function id(o){return jt(()=>{const a={type:o.type,bootstrap:o.bootstrap||G,declarations:o.declarations||G,imports:o.imports||G,exports:o.exports||G,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null};return null!=o.id&&(wu[o.id]=o.type),a})}function sd(o,a){return jt(()=>{const c=Pi(o,!0);c.declarations=a.declarations||G,c.imports=a.imports||G,c.exports=a.exports||G})}function mf(o,a){if(null==o)return Z;const c={};for(const h in o)if(o.hasOwnProperty(h)){let f=o[h],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),c[f]=h,a&&(a[f]=m)}return c}const od=zr;function ll(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,onDestroy:o.type.prototype.ngOnDestroy||null}}function or(o){return o[W]||null}function Pi(o,a){const c=o[Ze]||null;if(!c&&!0===a)throw new Error(`Type ${K(o)} does not have '\u0275mod' property.`);return c}function ns(o){return Array.isArray(o)&&"object"==typeof o[1]}function Li(o){return Array.isArray(o)&&!0===o[1]}function Au(o){return 0!=(8&o.flags)}function ad(o){return 2==(2&o.flags)}function Cr(o){return 1==(1&o.flags)}function Yr(o){return null!==o.template}function Hn(o){return 0!=(512&o[2])}function Eo(o,a){return o.hasOwnProperty(Ot)?o[Ot]:null}class Xg{constructor(a,c,h){this.previousValue=a,this.currentValue=c,this.firstChange=h}isFirstChange(){return this.firstChange}}function Pr(){return Co}function Co(o){return o.type.prototype.ngOnChanges&&(o.setInput=vf),wv}function wv(){const o=wf(this),a=null==o?void 0:o.current;if(a){const c=o.previous;if(c===Z)o.previous=a;else for(let h in a)c[h]=a[h];o.current=null,this.ngOnChanges(a)}}function vf(o,a,c,h){const f=wf(o)||function(o,a){return o[bf]=a}(o,{previous:Z,current:null}),m=f.current||(f.current={}),b=f.previous,w=this.declaredInputs[c],T=b[w];m[w]=new Xg(T&&T.currentValue,a,b===Z),o[h]=a}Pr.ngInherit=!0;const bf="__ngSimpleChanges__";function wf(o){return o[bf]||null}const Nu="http://www.w3.org/2000/svg";let xu;function em(o){xu=o}function tm(){return void 0!==xu?xu:"undefined"!=typeof document?document:void 0}function cn(o){return!!o.listen}const qs={createRenderer:(o,a)=>tm()};function dn(o){for(;Array.isArray(o);)o=o[0];return o}function hl(o,a){return dn(a[o])}function Fr(o,a){return dn(a[o.index])}function hd(o,a){return o.data[a]}function Do(o,a){return o[a]}function Kr(o,a){const c=a[o];return ns(c)?c:c[0]}function Df(o){return 4==(4&o[2])}function im(o){return 128==(128&o[2])}function aa(o,a){return null==a?null:o[a]}function fd(o){o[18]=0}function pl(o,a){o[5]+=a;let c=o,h=o[3];for(;null!==h&&(1===a&&1===c[5]||-1===a&&0===c[5]);)h[5]+=a,c=h,h=h[3]}const ct={lFrame:am(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function If(){return ct.bindingsEnabled}function Ae(){return ct.lFrame.lView}function Nt(){return ct.lFrame.tView}function Af(o){return ct.lFrame.contextLView=o,o[8]}function rn(){let o=Sf();for(;null!==o&&64===o.type;)o=o.parent;return o}function Sf(){return ct.lFrame.currentTNode}function Zs(){const o=ct.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}function Vi(o,a){const c=ct.lFrame;c.currentTNode=o,c.isParent=a}function gd(){return ct.lFrame.isParent}function gl(){ct.lFrame.isParent=!1}function ml(){return ct.isInCheckNoChangesMode}function md(o){ct.isInCheckNoChangesMode=o}function xn(){const o=ct.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function ss(){return ct.lFrame.bindingIndex}function zs(){return ct.lFrame.bindingIndex++}function gi(o){const a=ct.lFrame,c=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,c}function _d(o){ct.lFrame.inI18n=o}function sm(o,a){const c=ct.lFrame;c.bindingIndex=c.bindingRootIndex=o,xf(a)}function xf(o){ct.lFrame.currentDirectiveIndex=o}function om(){return ct.lFrame.currentQueryIndex}function Ou(o){ct.lFrame.currentQueryIndex=o}function Rf(o){const a=o[1];return 2===a.type?a.declTNode:1===a.type?o[6]:null}function yd(o,a,c){if(c&Xe.SkipSelf){let f=a,m=o;for(;!(f=f.parent,null!==f||c&Xe.Host||(f=Rf(m),null===f||(m=m[15],10&f.type))););if(null===f)return!1;a=f,o=m}const h=ct.lFrame=ua();return h.currentTNode=a,h.lView=o,!0}function vd(o){const a=ua(),c=o[1];ct.lFrame=a,a.currentTNode=c.firstChild,a.lView=o,a.tView=c,a.contextLView=o,a.bindingIndex=c.bindingStartIndex,a.inI18n=!1}function ua(){const o=ct.lFrame,a=null===o?null:o.child;return null===a?am(o):a}function am(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function lm(){const o=ct.lFrame;return ct.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Av=lm;function Pu(){const o=lm();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Lr(){return ct.lFrame.selectedIndex}function _l(o){ct.lFrame.selectedIndex=o}function Rn(){const o=ct.lFrame;return hd(o.tView,o.selectedIndex)}function hE(){ct.lFrame.currentNamespace=Nu}function Mv(){ct.lFrame.currentNamespace=null}function yl(o,a){for(let c=a.directiveStart,h=a.directiveEnd;c<h;c++){const m=o.data[c].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:w,ngAfterViewInit:T,ngAfterViewChecked:A,ngOnDestroy:N}=m;b&&(o.contentHooks||(o.contentHooks=[])).push(-c,b),w&&((o.contentHooks||(o.contentHooks=[])).push(c,w),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(c,w)),T&&(o.viewHooks||(o.viewHooks=[])).push(-c,T),A&&((o.viewHooks||(o.viewHooks=[])).push(c,A),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(c,A)),null!=N&&(o.destroyHooks||(o.destroyHooks=[])).push(c,N)}}function vl(o,a,c){um(o,a,3,c)}function bd(o,a,c,h){(3&o[2])===c&&um(o,a,c,h)}function Of(o,a){let c=o[2];(3&c)===a&&(c&=2047,c+=1,o[2]=c)}function um(o,a,c,h){const m=null!=h?h:-1,b=a.length-1;let w=0;for(let T=void 0!==h?65535&o[18]:0;T<b;T++)if("number"==typeof a[T+1]){if(w=a[T],null!=h&&w>=h)break}else a[T]<0&&(o[18]+=65536),(w<m||-1==m)&&(Pf(o,c,a,T),o[18]=(4294901760&o[18])+T+2),T++}function Pf(o,a,c,h){const f=c[h]<0,m=c[h+1],w=o[f?-c[h]:c[h]];if(f){if(o[2]>>11<o[18]>>16&&(3&o[2])===a){o[2]+=2048;try{m.call(w)}finally{}}}else try{m.call(w)}finally{}}class wd{constructor(a,c,h){this.factory=a,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=h}}function ws(o,a,c){const h=cn(o);let f=0;for(;f<c.length;){const m=c[f];if("number"==typeof m){if(0!==m)break;f++;const b=c[f++],w=c[f++],T=c[f++];h?o.setAttribute(a,w,T,b):a.setAttributeNS(b,w,T)}else{const b=m,w=c[++f];Es(b)?h&&o.setProperty(a,b,w):h?o.setAttribute(a,b,w):a.setAttribute(b,w),f++}}return f}function dm(o){return 3===o||4===o||6===o}function Es(o){return 64===o.charCodeAt(0)}function To(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let c=-1;for(let h=0;h<a.length;h++){const f=a[h];"number"==typeof f?c=f:0===c||hm(o,c,f,null,-1===c||2===c?a[++h]:null)}}return o}function hm(o,a,c,h,f){let m=0,b=o.length;if(-1===a)b=-1;else for(;m<o.length;){const w=o[m++];if("number"==typeof w){if(w===a){b=-1;break}if(w>a){b=m-1;break}}}for(;m<o.length;){const w=o[m];if("number"==typeof w)break;if(w===c){if(null===h)return void(null!==f&&(o[m+1]=f));if(h===o[m+1])return void(o[m+2]=f)}m++,null!==h&&m++,null!==f&&m++}-1!==b&&(o.splice(b,0,a),m=b+1),o.splice(m++,0,c),null!==h&&o.splice(m++,0,h),null!==f&&o.splice(m++,0,f)}function wn(o){return-1!==o}function ca(o){return 32767&o}function Lu(o,a){let c=function(o){return o>>16}(o),h=a;for(;c>0;)h=h[15],c--;return h}let Ed=!0;function Cd(o){const a=Ed;return Ed=o,a}let jf=0;function Ys(o,a){const c=Jt(o,a);if(-1!==c)return c;const h=a[1];h.firstCreatePass&&(o.injectorIndex=a.length,Vu(h.data,o),Vu(a,null),Vu(h.blueprint,null));const f=ze(o,a),m=o.injectorIndex;if(wn(f)){const b=ca(f),w=Lu(f,a),T=w[1].data;for(let A=0;A<8;A++)a[m+A]=w[b+A]|T[b+A]}return a[m+8]=f,m}function Vu(o,a){o.push(0,0,0,0,0,0,0,0,a)}function Jt(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function ze(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let c=0,h=null,f=a;for(;null!==f;){const m=f[1],b=m.type;if(h=2===b?m.declTNode:1===b?f[6]:null,null===h)return-1;if(c++,f=f[15],-1!==h.injectorIndex)return h.injectorIndex|c<<16}return-1}function Zt(o,a,c){!function(o,a,c){let h;"string"==typeof c?h=c.charCodeAt(0)||0:c.hasOwnProperty(nn)&&(h=c[nn]),null==h&&(h=c[nn]=jf++);const f=255&h;a.data[o+(f>>5)]|=1<<f}(o,a,c)}function kn(o,a,c){if(c&Xe.Optional)return o;Lt(a,"NodeInjector")}function da(o,a,c,h){if(c&Xe.Optional&&void 0===h&&(h=null),0==(c&(Xe.Self|Xe.Host))){const f=o[9],m=es(void 0);try{return f?f.get(a,h,c&Xe.Optional):pt(a,h,c&Xe.Optional)}finally{es(m)}}return kn(h,a,c)}function Io(o,a,c,h=Xe.Default,f){if(null!==o){const m=function(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(nn)?o[nn]:void 0;return"number"==typeof a?a>=0?255&a:$f:a}(c);if("function"==typeof m){if(!yd(a,o,h))return h&Xe.Host?kn(f,c,h):da(a,c,h,f);try{const b=m(h);if(null!=b||h&Xe.Optional)return b;Lt(c)}finally{Av()}}else if("number"==typeof m){let b=null,w=Jt(o,a),T=-1,A=h&Xe.Host?a[16][6]:null;for((-1===w||h&Xe.SkipSelf)&&(T=-1===w?ze(o,a):a[w+8],-1!==T&&Uu(h,!1)?(b=a[1],w=ca(T),a=Lu(T,a)):w=-1);-1!==w;){const N=a[1];if(Td(m,w,N.data)){const R=pE(w,a,c,b,h,A);if(R!==Dr)return R}T=a[w+8],-1!==T&&Uu(h,a[1].data[w+8]===A)&&Td(m,w,a)?(b=N,w=ca(T),a=Lu(T,a)):w=-1}}}return da(a,c,h,f)}const Dr={};function $f(){return new So(rn(),Ae())}function pE(o,a,c,h,f,m){const b=a[1],w=b.data[o+8],N=Ao(w,b,c,null==h?ad(w)&&Ed:h!=b&&0!=(3&w.type),f&Xe.Host&&m===w);return null!==N?Tn(a,b,N,w):Dr}function Ao(o,a,c,h,f){const m=o.providerIndexes,b=a.data,w=1048575&m,T=o.directiveStart,N=m>>20,P=f?w+N:o.directiveEnd;for(let B=h?w:w+N;B<P;B++){const z=b[B];if(B<T&&c===z||B>=T&&z.type===c)return B}if(f){const B=b[T];if(B&&Yr(B)&&B.type===c)return T}return null}function Tn(o,a,c,h){let f=o[c];const m=a.data;if(function(o){return o instanceof wd}(f)){const b=f;b.resolving&&function(o,a){throw new Ee("200",`Circular dependency in DI detected for ${o}`)}(ye(m[c]));const w=Cd(b.canSeeViewProviders);b.resolving=!0;const T=b.injectImpl?es(b.injectImpl):null;yd(o,h,Xe.Default);try{f=o[c]=b.factory(void 0,m,o,h),a.firstCreatePass&&c>=h.directiveStart&&function(o,a,c){const{ngOnChanges:h,ngOnInit:f,ngDoCheck:m}=a.type.prototype;if(h){const b=Co(a);(c.preOrderHooks||(c.preOrderHooks=[])).push(o,b),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,b)}f&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-o,f),m&&((c.preOrderHooks||(c.preOrderHooks=[])).push(o,m),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,m))}(c,m[c],a)}finally{null!==T&&es(T),Cd(w),b.resolving=!1,Av()}}return f}function Td(o,a,c){return!!(c[a+(o>>5)]&1<<o)}function Uu(o,a){return!(o&Xe.Self||o&Xe.Host&&a)}class So{constructor(a,c){this._tNode=a,this._lView=c}get(a,c){return Io(this._tNode,this._lView,a,void 0,c)}}function Gf(o){return jt(()=>{const a=o.prototype.constructor,c=a[Ot]||Id(a),h=Object.prototype;let f=Object.getPrototypeOf(o.prototype).constructor;for(;f&&f!==h;){const m=f[Ot]||Id(f);if(m&&m!==c)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function Id(o){return oe(o)?()=>{const a=Id($(o));return a&&a()}:Eo(o)}function pm(o){return function(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const c=o.attrs;if(c){const h=c.length;let f=0;for(;f<h;){const m=c[f];if(dm(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<h&&"string"==typeof c[f];)f++;else{if(m===a)return c[f+1];f+=2}}}return null}(rn(),o)}const Ui="__parameters__";function Cs(o,a,c){return jt(()=>{const h=function(o){return function(...c){if(o){const h=o(...c);for(const f in h)this[f]=h[f]}}}(a);function f(...m){if(this instanceof f)return h.apply(this,m),this;const b=new f(...m);return w.annotation=b,w;function w(T,A,N){const R=T.hasOwnProperty(Ui)?T[Ui]:Object.defineProperty(T,Ui,{value:[]})[Ui];for(;R.length<=N;)R.push(null);return(R[N]=R[N]||[]).push(b),T}}return c&&(f.prototype=Object.create(c.prototype)),f.prototype.ngMetadataName=o,f.annotationCls=f,f})}class pn{constructor(a,c){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=Kt({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}toString(){return`InjectionToken ${this._desc}`}}const mE=new pn("AnalyzeForEntryComponents"),xo=Function;function ji(o,a){void 0===a&&(a=o);for(let c=0;c<o.length;c++){let h=o[c];Array.isArray(h)?(a===o&&(a=o.slice(0,c)),ji(h,a)):a!==o&&a.push(h)}return a}function Ds(o,a){o.forEach(c=>Array.isArray(c)?Ds(c,a):a(c))}function fa(o,a,c){a>=o.length?o.push(c):o.splice(a,0,c)}function Ro(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function ko(o,a){const c=[];for(let h=0;h<o;h++)c.push(a);return c}function An(o,a,c){let h=Oo(o,a);return h>=0?o[1|h]=c:(h=~h,function(o,a,c,h){let f=o.length;if(f==a)o.push(c,h);else if(1===f)o.push(h,o[0]),o[0]=c;else{for(f--,o.push(o[f-1],o[f]);f>a;)o[f]=o[f-2],f--;o[a]=c,o[a+1]=h}}(o,h,a,c)),h}function Gn(o,a){const c=Oo(o,a);if(c>=0)return o[1|c]}function Oo(o,a){return function(o,a,c){let h=0,f=o.length>>c;for(;f!==h;){const m=h+(f-h>>1),b=o[m<<c];if(a===b)return m<<c;b>a?f=m:h=m+1}return~(f<<c)}(o,a,1)}const Bu={},Jf="__NG_DI_FLAG__",Po="ngTempTokenPath",Em=/\n/gm,ep="__source",Cl=Q({provide:String,useValue:Q});let Fo;function bt(o){const a=Fo;return Fo=o,a}function tp(o,a=Xe.Default){if(void 0===Fo)throw new Error("inject() must be called from an injection context");return null===Fo?pt(o,void 0,a):Fo.get(o,a&Xe.Optional?null:void 0,a)}function on(o,a=Xe.Default){return(zn||tp)($(o),a)}function Lo(o){const a=[];for(let c=0;c<o.length;c++){const h=$(o[c]);if(Array.isArray(h)){if(0===h.length)throw new Error("Arguments array must have arguments.");let f,m=Xe.Default;for(let b=0;b<h.length;b++){const w=h[b],T=Dm(w);"number"==typeof T?-1===T?f=w.token:m|=T:f=w}a.push(on(f,m))}else a.push(on(h))}return a}function ju(o,a){return o[Jf]=a,o.prototype[Jf]=a,o}function Dm(o){return o[Jf]}function mi(o,a,c,h){const f=o[Po];throw a[ep]&&f.unshift(a[ep]),o.message=function(o,a,c,h=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.substr(2):o;let f=K(a);if(Array.isArray(a))f=a.map(K).join(" -> ");else if("object"==typeof a){let m=[];for(let b in a)if(a.hasOwnProperty(b)){let w=a[b];m.push(b+":"+("string"==typeof w?JSON.stringify(w):K(w)))}f=`{${m.join(", ")}}`}return`${c}${h?"("+h+")":""}[${f}]: ${o.replace(Em,"\n  ")}`}("\n"+o.message,f,c,h),o.ngTokenPath=f,o[Po]=null,o}const ma=ju(Cs("Inject",o=>({token:o})),-1),Ts=ju(Cs("Optional"),8),ar=ju(Cs("SkipSelf"),4);let Il;function Qs(o){var a;return(null===(a=function(){if(void 0===Il&&(Il=null,en.trustedTypes))try{Il=en.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return Il}())||void 0===a?void 0:a.createHTML(o))||o}class Js{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Bv extends Js{getTypeName(){return"HTML"}}class jv extends Js{getTypeName(){return"Style"}}class Pd extends Js{getTypeName(){return"Script"}}class $v extends Js{getTypeName(){return"URL"}}class Hv extends Js{getTypeName(){return"ResourceURL"}}function Xs(o){return o instanceof Js?o.changingThisBreaksApplicationSecurity:o}function zu(o,a){const c=Vo(o);if(null!=c&&c!==a){if("ResourceURL"===c&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===a}function Vo(o){return o instanceof Js&&o.getTypeName()||null}function Mm(o){return new Bv(o)}function ap(o){return new jv(o)}function Wu(o){return new Pd(o)}function eo(o){return new $v(o)}function wa(o){return new Hv(o)}function lp(o){const a=new up(o);return function(){try{return!!(new window.DOMParser).parseFromString(Qs(""),"text/html")}catch(o){return!1}}()?new xm(a):a}class xm{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const c=(new window.DOMParser).parseFromString(Qs(a),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(a):(c.removeChild(c.firstChild),c)}catch(c){return null}}}class up{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const h=this.inertDocument.createElement("body");c.appendChild(h)}}getInertBodyElement(a){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=Qs(a),c;const h=this.inertDocument.createElement("body");return h.innerHTML=Qs(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(a){const c=a.attributes;for(let f=c.length-1;0<f;f--){const b=c.item(f).name;("xmlns:ns1"===b||0===b.indexOf("ns1:"))&&a.removeAttribute(b)}let h=a.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const Rm=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Fd=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Sl(o){return(o=String(o)).match(Rm)||o.match(Fd)?o:"unsafe:"+o}function Ld(o){return(o=String(o)).split(",").map(a=>Sl(a.trim())).join(", ")}function ls(o){const a={};for(const c of o.split(","))a[c]=!0;return a}function Ea(...o){const a={};for(const c of o)for(const h in c)c.hasOwnProperty(h)&&(a[h]=!0);return a}const Yu=ls("area,br,col,hr,img,wbr"),Vd=ls("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ku=ls("rp,rt"),cp=Ea(Yu,Ea(Vd,ls("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ea(Ku,ls("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ea(Ku,Vd)),Nl=ls("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Is=ls("srcset"),dp=Ea(Nl,Is,ls("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ls("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Lm=ls("script,style,template");class hp{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let c=a.firstChild,h=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?h=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,h&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let f=this.checkClobberedElement(c,c.nextSibling);if(f){c=f;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(a){const c=a.nodeName.toLowerCase();if(!cp.hasOwnProperty(c))return this.sanitizedSomething=!0,!Lm.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const h=a.attributes;for(let f=0;f<h.length;f++){const m=h.item(f),b=m.name,w=b.toLowerCase();if(!dp.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let T=m.value;Nl[w]&&(T=Sl(T)),Is[w]&&(T=Ld(T)),this.buf.push(" ",b,'="',Vm(T),'"')}return this.buf.push(">"),!0}endElement(a){const c=a.nodeName.toLowerCase();cp.hasOwnProperty(c)&&!Yu.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(a){this.buf.push(Vm(a))}checkClobberedElement(a,c){if(c&&(a.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return c}}const Zv=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,zv=/([^\#-~ |!])/g;function Vm(o){return o.replace(/&/g,"&amp;").replace(Zv,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(zv,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Uo;function Qu(o,a){let c=null;try{Uo=Uo||lp(o);let h=a?String(a):"";c=Uo.getInertBodyElement(h);let f=5,m=h;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,h=m,m=c.innerHTML,c=Uo.getInertBodyElement(h)}while(h!==m);return Qs((new hp).sanitizeChildren(Ud(c)||c))}finally{if(c){const h=Ud(c)||c;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function Ud(o){return"content"in o&&function(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var En=(()=>((En=En||{})[En.NONE=0]="NONE",En[En.HTML=1]="HTML",En[En.STYLE=2]="STYLE",En[En.SCRIPT=3]="SCRIPT",En[En.URL=4]="URL",En[En.RESOURCE_URL=5]="RESOURCE_URL",En))();function Bd(o){const a=function(){const o=Ae();return o&&o[12]}();return a?a.sanitize(En.URL,o)||"":zu(o,"URL")?Xs(o):Sl(he(o))}const Ca="__ngContext__";function ur(o,a){o[Ca]=a}function Hd(o){const a=function(o){return o[Ca]||null}(o);return a?Array.isArray(a)?a:a.lView:null}function Ia(o){return o.ngOriginalError}function C(o,...a){o.error(...a)}class _{constructor(){this._console=console}handleError(a){const c=this._findOriginalError(a),h=this._findContext(a),f=(o=a)&&o.ngErrorLogger||C;var o;f(this._console,"ERROR",a),c&&f(this._console,"ORIGINAL ERROR",c),h&&f(this._console,"ERROR CONTEXT",h)}_findContext(a){return a?a.ngDebugContext||this._findContext(Ia(a)):null}_findOriginalError(a){let c=a&&Ia(a);for(;c&&Ia(c);)c=Ia(c);return c||null}}const M=/^>|^->|<!--|-->|--!>|<!-$/g,k=/(<|>)/;const ec=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(en))();function $i(o){return o instanceof Function?o():o}var Ns=(()=>((Ns=Ns||{})[Ns.Important=1]="Important",Ns[Ns.DashCase=2]="DashCase",Ns))();let tc;function Wd(o,a){return tc(o,a)}function vp(o){const a=o[3];return Li(a)?a[3]:a}function qm(o){return e0(o[13])}function CE(o){return e0(o[4])}function e0(o){for(;null!==o&&!Li(o);)o=o[4];return o}function nc(o,a,c,h,f){if(null!=h){let m,b=!1;Li(h)?m=h:ns(h)&&(b=!0,h=h[0]);const w=dn(h);0===o&&null!==c?null==f?SE(a,c,w):Ol(a,c,w,f||null,!0):1===o&&null!==c?Ol(a,c,w,f||null,!0):2===o?a0(a,w,b):3===o&&a.destroyNode(w),null!=m&&function(o,a,c,h,f){const m=c[7];m!==dn(c)&&nc(a,o,h,m,f);for(let w=10;w<c.length;w++){const T=c[w];ic(T[1],T,o,a,h,m)}}(a,o,m,c,f)}}function Zm(o,a){return cn(o)?o.createText(a):o.createTextNode(a)}function DE(o,a,c){cn(o)?o.setValue(a,c):a.textContent=c}function xA(o,a){return o.createComment(function(o){return o.replace(M,a=>a.replace(k,"\u200b$1\u200b"))}(a))}function t0(o,a,c){return cn(o)?o.createElement(a,c):null===c?o.createElement(a):o.createElementNS(c,a)}function zm(o,a){const c=o[9],h=c.indexOf(a),f=a[3];1024&a[2]&&(a[2]&=-1025,pl(f,-1)),c.splice(h,1)}function Wm(o,a){if(o.length<=10)return;const c=10+a,h=o[c];if(h){const f=h[17];null!==f&&f!==o&&zm(f,h),a>0&&(o[c-1][4]=h[4]);const m=Ro(o,10+a);!function(o,a){ic(o,a,a[11],2,null,null),a[0]=null,a[6]=null}(h[1],h);const b=m[19];null!==b&&b.detachView(m[1]),h[3]=null,h[4]=null,h[2]&=-129}return h}function TE(o,a){if(!(256&a[2])){const c=a[11];cn(c)&&c.destroyNode&&ic(o,a,c,3,null,null),function(o){let a=o[13];if(!a)return kl(o[1],o);for(;a;){let c=null;if(ns(a))c=a[13];else{const h=a[10];h&&(c=h)}if(!c){for(;a&&!a[4]&&a!==o;)ns(a)&&kl(a[1],a),a=a[3];null===a&&(a=o),ns(a)&&kl(a[1],a),c=a&&a[4]}a=c}}(a)}}function kl(o,a){if(!(256&a[2])){a[2]&=-129,a[2]|=256,function(o,a){let c;if(null!=o&&null!=(c=o.destroyHooks))for(let h=0;h<c.length;h+=2){const f=a[c[h]];if(!(f instanceof wd)){const m=c[h+1];if(Array.isArray(m))for(let b=0;b<m.length;b+=2){const w=f[m[b]],T=m[b+1];try{T.call(w)}finally{}}else try{m.call(f)}finally{}}}}(o,a),function(o,a){const c=o.cleanup,h=a[7];let f=-1;if(null!==c)for(let m=0;m<c.length-1;m+=2)if("string"==typeof c[m]){const b=c[m+1],w="function"==typeof b?b(a):dn(a[b]),T=h[f=c[m+2]],A=c[m+3];"boolean"==typeof A?w.removeEventListener(c[m],T,A):A>=0?h[f=A]():h[f=-A].unsubscribe(),m+=2}else{const b=h[f=c[m+1]];c[m].call(b)}if(null!==h){for(let m=f+1;m<h.length;m++)h[m]();a[7]=null}}(o,a),1===a[1].type&&cn(a[11])&&a[11].destroy();const c=a[17];if(null!==c&&Li(a[3])){c!==a[3]&&zm(c,a);const h=a[19];null!==h&&h.detachView(o)}}}function IE(o,a,c){return AE(o,a.parent,c)}function AE(o,a,c){let h=a;for(;null!==h&&40&h.type;)h=(a=h).parent;if(null===h)return c[0];if(2&h.flags){const f=o.data[h.directiveStart].encapsulation;if(f===Fe.None||f===Fe.Emulated)return null}return Fr(h,c)}function Ol(o,a,c,h,f){cn(o)?o.insertBefore(a,c,h,f):a.insertBefore(c,h,f)}function SE(o,a,c){cn(o)?o.appendChild(a,c):a.appendChild(c)}function NE(o,a,c,h,f){null!==h?Ol(o,a,c,h,f):SE(o,a,c)}function Ym(o,a){return cn(o)?o.parentNode(a):a.parentNode}function Qm(o,a,c){return rc(o,a,c)}function bp(o,a,c){return 40&o.type?Fr(o,c):null}let r0,rc=bp;function ME(o,a){rc=o,r0=a}function Yd(o,a,c,h){const f=IE(o,h,a),m=a[11],w=Qm(h.parent||a[6],h,a);if(null!=f)if(Array.isArray(c))for(let T=0;T<c.length;T++)NE(m,f,c[T],w,!1);else NE(m,f,c,w,!1);void 0!==r0&&r0(m,h,a,c,f)}function Jm(o,a){if(null!==a){const c=a.type;if(3&c)return Fr(a,o);if(4&c)return o0(-1,o[a.index]);if(8&c){const h=a.child;if(null!==h)return Jm(o,h);{const f=o[a.index];return Li(f)?o0(-1,f):dn(f)}}if(32&c)return Wd(a,o)()||dn(o[a.index]);{const h=s0(o,a);return null!==h?Array.isArray(h)?h[0]:Jm(vp(o[16]),h):Jm(o,a.next)}}return null}function s0(o,a){return null!==a?o[16][6].projection[a.projection]:null}function o0(o,a){const c=10+o+1;if(c<a.length){const h=a[c],f=h[1].firstChild;if(null!==f)return Jm(h,f)}return a[7]}function a0(o,a,c){const h=Ym(o,a);h&&function(o,a,c,h){cn(o)?o.removeChild(a,c,h):a.removeChild(c)}(o,h,a,c)}function Xm(o,a,c,h,f,m,b){for(;null!=c;){const w=h[c.index],T=c.type;if(b&&0===a&&(w&&ur(dn(w),h),c.flags|=4),64!=(64&c.flags))if(8&T)Xm(o,a,c.child,h,f,m,!1),nc(a,o,f,w,m);else if(32&T){const A=Wd(c,h);let N;for(;N=A();)nc(a,o,f,N,m);nc(a,o,f,w,m)}else 16&T?Pl(o,a,h,c,f,m):nc(a,o,f,w,m);c=b?c.projectionNext:c.next}}function ic(o,a,c,h,f,m){Xm(c,h,o.firstChild,a,f,m,!1)}function Pl(o,a,c,h,f,m){const b=c[16],T=b[6].projection[h.projection];if(Array.isArray(T))for(let A=0;A<T.length;A++)nc(a,o,f,T[A],m);else Xm(o,a,T,b[3],f,m,!0)}function RE(o,a,c){cn(o)?o.setAttribute(a,"style",c):a.style.cssText=c}function l0(o,a,c){cn(o)?""===c?o.removeAttribute(a,"class"):o.setAttribute(a,"class",c):a.className=c}function u0(o,a,c){let h=o.length;for(;;){const f=o.indexOf(a,c);if(-1===f)return f;if(0===f||o.charCodeAt(f-1)<=32){const m=a.length;if(f+m===h||o.charCodeAt(f+m)<=32)return f}c=f+1}}const kE="ng-template";function BA(o,a,c){let h=0;for(;h<o.length;){let f=o[h++];if(c&&"class"===f){if(f=o[h],-1!==u0(f.toLowerCase(),a,0))return!0}else if(1===f){for(;h<o.length&&"string"==typeof(f=o[h++]);)if(f.toLowerCase()===a)return!0;return!1}}return!1}function c0(o){return 4===o.type&&o.value!==kE}function jA(o,a,c){return a===(4!==o.type||c?o.value:kE)}function $A(o,a,c){let h=4;const f=o.attrs||[],m=function(o){for(let a=0;a<o.length;a++)if(dm(o[a]))return a;return o.length}(f);let b=!1;for(let w=0;w<a.length;w++){const T=a[w];if("number"!=typeof T){if(!b)if(4&h){if(h=2|1&h,""!==T&&!jA(o,T,c)||""===T&&1===a.length){if(no(h))return!1;b=!0}}else{const A=8&h?T:a[++w];if(8&h&&null!==o.attrs){if(!BA(o.attrs,A,c)){if(no(h))return!1;b=!0}continue}const R=d0(8&h?"class":T,f,c0(o),c);if(-1===R){if(no(h))return!1;b=!0;continue}if(""!==A){let P;P=R>m?"":f[R+1].toLowerCase();const B=8&h?P:null;if(B&&-1!==u0(B,A,0)||2&h&&A!==P){if(no(h))return!1;b=!0}}}}else{if(!b&&!no(h)&&!no(T))return!1;if(b&&no(T))continue;b=!1,h=T|1&h}}return no(h)||b}function no(o){return 0==(1&o)}function d0(o,a,c,h){if(null===a)return-1;let f=0;if(h||!c){let m=!1;for(;f<a.length;){const b=a[f];if(b===o)return f;if(3===b||6===b)m=!0;else{if(1===b||2===b){let w=a[++f];for(;"string"==typeof w;)w=a[++f];continue}if(4===b)break;if(0===b){f+=4;continue}}f+=m?1:2}return-1}return function(o,a){let c=o.indexOf(4);if(c>-1)for(c++;c<o.length;){const h=o[c];if("number"==typeof h)return-1;if(h===a)return c;c++}return-1}(a,o)}function OE(o,a,c=!1){for(let h=0;h<a.length;h++)if($A(o,a[h],c))return!0;return!1}function LR(o,a){e:for(let c=0;c<a.length;c++){const h=a[c];if(o.length===h.length){for(let f=0;f<o.length;f++)if(o[f]!==h[f])continue e;return!0}}return!1}function wp(o,a){return o?":not("+a.trim()+")":a}function ge(o){let a=o[0],c=1,h=2,f="",m=!1;for(;c<o.length;){let b=o[c];if("string"==typeof b)if(2&h){const w=o[++c];f+="["+b+(w.length>0?'="'+w+'"':"")+"]"}else 8&h?f+="."+b:4&h&&(f+=" "+b);else""!==f&&!no(b)&&(a+=wp(m,f),f=""),h=b,m=m||!no(h);c++}return""!==f&&(a+=wp(m,f)),a}const gt={};function hn(o){e_(Nt(),Ae(),Lr()+o,ml())}function e_(o,a,c,h){if(!h)if(3==(3&a[2])){const m=o.preOrderCheckHooks;null!==m&&vl(a,m,c)}else{const m=o.preOrderHooks;null!==m&&bd(a,m,0,c)}_l(c)}function t_(o,a){return o<<17|a<<2}function ro(o){return o>>17&32767}function f0(o){return 2|o}function Kn(o){return(131068&o)>>2}function LE(o,a){return-131069&o|a<<2}function Fl(o){return 1|o}function C0(o,a){const c=o.contentQueries;if(null!==c)for(let h=0;h<c.length;h+=2){const f=c[h],m=c[h+1];if(-1!==m){const b=o.data[m];Ou(f),b.contentQueries(2,a[m],m)}}}function Tp(o,a,c,h,f,m,b,w,T,A){const N=a.blueprint.slice();return N[0]=f,N[2]=140|h,fd(N),N[3]=N[15]=o,N[8]=c,N[10]=b||o&&o[10],N[11]=w||o&&o[11],N[12]=T||o&&o[12]||null,N[9]=A||o&&o[9]||null,N[6]=m,N[16]=2==a.type?o[16]:N,N}function oc(o,a,c,h,f){let m=o.data[a];if(null===m)m=Qd(o,a,c,h,f),ct.lFrame.inI18n&&(m.flags|=64);else if(64&m.type){m.type=c,m.value=h,m.attrs=f;const b=Zs();m.injectorIndex=null===b?-1:b.injectorIndex}return Vi(m,!0),m}function Qd(o,a,c,h,f){const m=Sf(),b=gd(),T=o.data[a]=function(o,a,c,h,f,m){return{type:c,index:h,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?m:m&&m.parent,c,a,h,f);return null===o.firstChild&&(o.firstChild=T),null!==m&&(b?null==m.child&&null!==T.parent&&(m.child=T):null===m.next&&(m.next=T)),T}function Vl(o,a,c,h){if(0===c)return-1;const f=a.length;for(let m=0;m<c;m++)a.push(h),o.blueprint.push(h),o.data.push(null);return f}function ac(o,a,c){vd(a);try{const h=o.viewQuery;null!==h&&U0(1,h,c);const f=o.template;null!==f&&GE(o,a,f,1,c),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&C0(o,a),o.staticViewQueries&&U0(2,o.viewQuery,c);const m=o.components;null!==m&&function(o,a){for(let c=0;c<a.length;c++)XE(o,a[c])}(a,m)}catch(h){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),h}finally{a[2]&=-5,Pu()}}function Ul(o,a,c,h){const f=a[2];if(256==(256&f))return;vd(a);const m=ml();try{fd(a),function(o){ct.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==c&&GE(o,a,c,2,h);const b=3==(3&f);if(!m)if(b){const A=o.preOrderCheckHooks;null!==A&&vl(a,A,null)}else{const A=o.preOrderHooks;null!==A&&bd(a,A,0,null),Of(a,0)}if(function(o){for(let a=qm(o);null!==a;a=CE(a)){if(!a[2])continue;const c=a[9];for(let h=0;h<c.length;h++){const f=c[h],m=f[3];0==(1024&f[2])&&pl(m,1),f[2]|=1024}}}(a),function(o){for(let a=qm(o);null!==a;a=CE(a))for(let c=10;c<a.length;c++){const h=a[c],f=h[1];im(h)&&Ul(f,h,f.template,h[8])}}(a),null!==o.contentQueries&&C0(o,a),!m)if(b){const A=o.contentCheckHooks;null!==A&&vl(a,A)}else{const A=o.contentHooks;null!==A&&bd(a,A,1),Of(a,1)}!function(o,a){const c=o.hostBindingOpCodes;if(null!==c)try{for(let h=0;h<c.length;h++){const f=c[h];if(f<0)_l(~f);else{const m=f,b=c[++h],w=c[++h];sm(b,m),w(2,a[m])}}}finally{_l(-1)}}(o,a);const w=o.components;null!==w&&function(o,a){for(let c=0;c<a.length;c++)V0(o,a[c])}(a,w);const T=o.viewQuery;if(null!==T&&U0(2,T,h),!m)if(b){const A=o.viewCheckHooks;null!==A&&vl(a,A)}else{const A=o.viewHooks;null!==A&&bd(a,A,2),Of(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),m||(a[2]&=-73),1024&a[2]&&(a[2]&=-1025,pl(a[3],-1))}finally{Pu()}}function QA(o,a,c,h){const f=a[10],m=!ml(),b=Df(a);try{m&&!b&&f.begin&&f.begin(),b&&ac(o,a,h),Ul(o,a,c,h)}finally{m&&!b&&f.end&&f.end()}}function GE(o,a,c,h,f){const m=Lr(),b=2&h;try{_l(-1),b&&a.length>20&&e_(o,a,20,ml()),c(h,f)}finally{_l(m)}}function o_(o,a,c){if(Au(a)){const f=a.directiveEnd;for(let m=a.directiveStart;m<f;m++){const b=o.data[m];b.contentQueries&&b.contentQueries(1,c[m],m)}}}function a_(o,a,c){!If()||(function(o,a,c,h){const f=c.directiveStart,m=c.directiveEnd;o.firstCreatePass||Ys(c,a),ur(h,a);const b=c.initialInputs;for(let w=f;w<m;w++){const T=o.data[w],A=Yr(T);A&&tS(a,c,T);const N=Tn(a,o,w,c);ur(N,a),null!==b&&F0(0,w-f,N,T,0,b),A&&(Kr(c.index,a)[8]=N)}}(o,a,c,Fr(c,a)),128==(128&c.flags)&&function(o,a,c){const h=c.directiveStart,f=c.directiveEnd,b=c.index,w=ct.lFrame.currentDirectiveIndex;try{_l(b);for(let T=h;T<f;T++){const A=o.data[T],N=a[T];xf(T),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&hr(A,N)}}finally{_l(-1),xf(w)}}(o,a,c))}function T0(o,a,c=Fr){const h=a.localNames;if(null!==h){let f=a.index+1;for(let m=0;m<h.length;m+=2){const b=h[m+1],w=-1===b?c(a,o):o[b];o[f++]=w}}}function qE(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=dr(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function dr(o,a,c,h,f,m,b,w,T,A){const N=20+h,R=N+f,P=function(o,a){const c=[];for(let h=0;h<a;h++)c.push(h<o?null:gt);return c}(N,R),B="function"==typeof A?A():A;return P[1]={type:o,blueprint:P,template:c,queries:null,viewQuery:w,declTNode:a,data:P.slice().fill(null,N),bindingStartIndex:N,expandoStartIndex:R,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:T,consts:B,incompleteFirstPass:!1}}function WE(o,a,c,h){const f=B0(a);null===c?f.push(h):(f.push(c),o.firstCreatePass&&xp(o).push(h,f.length-1))}function Ap(o,a,c){for(let h in o)if(o.hasOwnProperty(h)){const f=o[h];(c=null===c?{}:c).hasOwnProperty(h)?c[h].push(a,f):c[h]=[a,f]}return c}function wi(o,a,c,h,f,m,b,w){const T=Fr(a,c);let N,A=a.inputs;!w&&null!=A&&(N=A[h])?($0(o,c,N,h,f),ad(a)&&function(o,a){const c=Kr(a,o);16&c[2]||(c[2]|=64)}(c,a.index)):3&a.type&&(h=function(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(h),f=null!=b?b(f,a.value||"",h):f,cn(m)?m.setProperty(T,h,f):Es(h)||(T.setProperty?T.setProperty(h,f):T[h]=f))}function c_(o,a,c,h){let f=!1;if(If()){const m=function(o,a,c){const h=o.directiveRegistry;let f=null;if(h)for(let m=0;m<h.length;m++){const b=h[m];OE(c,b.selectors,!1)&&(f||(f=[]),Zt(Ys(c,a),o,b.type),Yr(b)?(Sp(o,c),f.unshift(b)):f.push(b))}return f}(o,a,c),b=null===h?null:{"":-1};if(null!==m){f=!0,QE(c,o.data.length,m.length);for(let N=0;N<m.length;N++){const R=m[N];R.providersResolver&&R.providersResolver(R)}let w=!1,T=!1,A=Vl(o,a,m.length,null);for(let N=0;N<m.length;N++){const R=m[N];c.mergedAttrs=To(c.mergedAttrs,R.hostAttrs),P0(o,c,a,A,R),eS(A,R,b),null!==R.contentQueries&&(c.flags|=8),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(c.flags|=128);const P=R.type.prototype;!w&&(P.ngOnChanges||P.ngOnInit||P.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(c.index),w=!0),!T&&(P.ngOnChanges||P.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(c.index),T=!0),A++}!function(o,a){const h=a.directiveEnd,f=o.data,m=a.attrs,b=[];let w=null,T=null;for(let A=a.directiveStart;A<h;A++){const N=f[A],R=N.inputs,P=null===m||c0(a)?null:nS(R,m);b.push(P),w=Ap(R,A,w),T=Ap(N.outputs,A,T)}null!==w&&(w.hasOwnProperty("class")&&(a.flags|=16),w.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=b,a.inputs=w,a.outputs=T}(o,c)}b&&function(o,a,c){if(a){const h=o.localNames=[];for(let f=0;f<a.length;f+=2){const m=c[a[f+1]];if(null==m)throw new Ee("301",`Export of name '${a[f+1]}' not found!`);h.push(a[f],m)}}}(c,h,b)}return c.mergedAttrs=To(c.mergedAttrs,c.attrs),f}function KE(o,a,c,h,f,m){const b=m.hostBindings;if(b){let w=o.hostBindingOpCodes;null===w&&(w=o.hostBindingOpCodes=[]);const T=~a.index;(function(o){let a=o.length;for(;a>0;){const c=o[--a];if("number"==typeof c&&c<0)return c}return 0})(w)!=T&&w.push(T),w.push(h,f,b)}}function hr(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function Sp(o,a){a.flags|=2,(o.components||(o.components=[])).push(a.index)}function eS(o,a,c){if(c){if(a.exportAs)for(let h=0;h<a.exportAs.length;h++)c[a.exportAs[h]]=o;Yr(a)&&(c[""]=o)}}function QE(o,a,c){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+c,o.providerIndexes=a}function P0(o,a,c,h,f){o.data[h]=f;const m=f.factory||(f.factory=Eo(f.type)),b=new wd(m,Yr(f),null);o.blueprint[h]=b,c[h]=b,KE(o,a,0,h,Vl(o,c,f.hostVars,gt),f)}function tS(o,a,c){const h=Fr(a,o),f=qE(c),m=o[10],b=Bl(o,Tp(o,f,null,c.onPush?64:16,h,a,m,m.createRenderer(h,c),null,null));o[a.index]=b}function Np(o,a,c,h,f,m,b){if(null==m)cn(o)?o.removeAttribute(a,f,c):a.removeAttribute(f);else{const w=null==b?he(m):b(m,h||"",f);cn(o)?o.setAttribute(a,f,w,c):c?a.setAttributeNS(c,f,w):a.setAttribute(f,w)}}function F0(o,a,c,h,f,m){const b=m[a];if(null!==b){const w=h.setInput;for(let T=0;T<b.length;){const A=b[T++],N=b[T++],R=b[T++];null!==w?h.setInput(c,R,A,N):c[N]=R}}}function nS(o,a){let c=null,h=0;for(;h<a.length;){const f=a[h];if(0!==f)if(5!==f){if("number"==typeof f)break;o.hasOwnProperty(f)&&(null===c&&(c=[]),c.push(f,o[f],a[h+1])),h+=2}else h+=2;else h+=4}return c}function L0(o,a,c,h){return new Array(o,!0,!1,a,null,0,h,c,null,null)}function V0(o,a){const c=Kr(a,o);if(im(c)){const h=c[1];80&c[2]?Ul(h,c,h.template,c[8]):c[5]>0&&Mp(c)}}function Mp(o){for(let h=qm(o);null!==h;h=CE(h))for(let f=10;f<h.length;f++){const m=h[f];if(1024&m[2]){const b=m[1];Ul(b,m,b.template,m[8])}else m[5]>0&&Mp(m)}const c=o[1].components;if(null!==c)for(let h=0;h<c.length;h++){const f=Kr(c[h],o);im(f)&&f[5]>0&&Mp(f)}}function XE(o,a){const c=Kr(a,o),h=c[1];(function(o,a){for(let c=a.length;c<o.blueprint.length;c++)a.push(o.blueprint[c])})(h,c),ac(h,c,c[8])}function Bl(o,a){return o[13]?o[14][4]=a:o[13]=a,o[14]=a,a}function h_(o){for(;o;){o[2]|=64;const a=vp(o);if(Hn(o)&&!a)return o;o=a}return null}function Jd(o,a,c){const h=a[10];h.begin&&h.begin();try{Ul(o,a,o.template,c)}catch(f){throw eh(a,f),f}finally{h.end&&h.end()}}function tC(o){!function(o){for(let a=0;a<o.components.length;a++){const c=o.components[a],h=Hd(c),f=h[1];QA(f,h,f.template,c)}}(o[8])}function U0(o,a,c){Ou(0),a(o,c)}const lc=(()=>Promise.resolve(null))();function B0(o){return o[7]||(o[7]=[])}function xp(o){return o.cleanup||(o.cleanup=[])}function eh(o,a){const c=o[9],h=c?c.get(_,null):null;h&&h.handleError(a)}function $0(o,a,c,h,f){for(let m=0;m<c.length;){const b=c[m++],w=c[m++],T=a[b],A=o.data[b];null!==A.setInput?A.setInput(T,f,h,w):T[w]=f}}function Sn(o,a,c){const h=hl(a,o);DE(o[11],h,c)}function Rp(o,a,c){let h=c?o.styles:null,f=c?o.classes:null,m=0;if(null!==a)for(let b=0;b<a.length;b++){const w=a[b];"number"==typeof w?m=w:1==m?f=j(f,w):2==m&&(h=j(h,w+": "+a[++b]+";"))}c?o.styles=h:o.stylesWithoutHost=h,c?o.classes=f:o.classesWithoutHost=f}const jl=new pn("INJECTOR",-1);class H0{get(a,c=Bu){if(c===Bu){const h=new Error(`NullInjectorError: No provider for ${K(a)}!`);throw h.name="NullInjectorError",h}return c}}const th=new pn("Set Injector scope."),Ra={},G0={};let Op;function g_(){return void 0===Op&&(Op=new H0),Op}function nh(o,a=null,c=null,h){return new nC(o,c,a||g_(),h)}class nC{constructor(a,c,h,f=null){this.parent=h,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const m=[];c&&Ds(c,w=>this.processProvider(w,a,c)),Ds([a],w=>this.processInjectorType(w,[],m)),this.records.set(jl,uc(void 0,this));const b=this.records.get(th);this.scope=null!=b?b.value:null,this.source=f||("object"==typeof a?null:K(a))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(a=>a.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(a,c=Bu,h=Xe.Default){this.assertNotDestroyed();const f=bt(this),m=es(void 0);try{if(!(h&Xe.SkipSelf)){let w=this.records.get(a);if(void 0===w){const T=("function"==typeof(o=a)||"object"==typeof o&&o instanceof pn)&&br(a);w=T&&this.injectableDefInScope(T)?uc(q0(a),Ra):null,this.records.set(a,w)}if(null!=w)return this.hydrate(a,w)}return(h&Xe.Self?g_():this.parent).get(a,c=h&Xe.Optional&&c===Bu?null:c)}catch(b){if("NullInjectorError"===b.name){if((b[Po]=b[Po]||[]).unshift(K(a)),f)throw b;return mi(b,a,"R3InjectorError",this.source)}throw b}finally{es(m),bt(f)}var o}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(a=>this.get(a))}toString(){const a=[];return this.records.forEach((h,f)=>a.push(K(f))),`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(a,c,h){if(!(a=$(a)))return!1;let f=_o(a);const m=null==f&&a.ngModule||void 0,b=void 0===m?a:m,w=-1!==h.indexOf(b);if(void 0!==m&&(f=_o(m)),null==f)return!1;if(null!=f.imports&&!w){let N;h.push(b);try{Ds(f.imports,R=>{this.processInjectorType(R,c,h)&&(void 0===N&&(N=[]),N.push(R))})}finally{}if(void 0!==N)for(let R=0;R<N.length;R++){const{ngModule:P,providers:B}=N[R];Ds(B,z=>this.processProvider(z,P,B||G))}}this.injectorDefTypes.add(b);const T=Eo(b)||(()=>new b);this.records.set(b,uc(T,Ra));const A=f.providers;if(null!=A&&!w){const N=a;Ds(A,R=>this.processProvider(R,N,A))}return void 0!==m&&void 0!==a.providers}processProvider(a,c,h){let f=jo(a=$(a))?a:$(a&&a.provide);const m=z0(o=a)?uc(void 0,o.useValue):uc(y_(o),Ra);var o;if(jo(a)||!0!==a.multi)this.records.get(f);else{let b=this.records.get(f);b||(b=uc(void 0,Ra,!0),b.factory=()=>Lo(b.multi),this.records.set(f,b)),f=a,b.multi.push(a)}this.records.set(f,m)}hydrate(a,c){return c.value===Ra&&(c.value=G0,c.value=c.factory()),"object"==typeof c.value&&c.value&&null!==(o=c.value)&&"object"==typeof o&&"function"==typeof o.ngOnDestroy&&this.onDestroy.add(c.value),c.value;var o}injectableDefInScope(a){if(!a.providedIn)return!1;const c=$(a.providedIn);return"string"==typeof c?"any"===c||c===this.scope:this.injectorDefTypes.has(c)}}function q0(o){const a=br(o),c=null!==a?a.factory:Eo(o);if(null!==c)return c;if(o instanceof pn)throw new Error(`Token ${K(o)} is missing a \u0275prov definition.`);if(o instanceof Function)return function(o){const a=o.length;if(a>0){const h=ko(a,"?");throw new Error(`Can't resolve all parameters for ${K(o)}: (${h.join(", ")}).`)}const c=function(o){const a=o&&(o[js]||o[$s]);if(a){const c=function(o){if(o.hasOwnProperty("name"))return o.name;const a=(""+o).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),a}return null}(o);return null!==c?()=>c.factory(o):()=>new o}(o);throw new Error("unreachable")}function y_(o,a,c){let h;if(jo(o)){const f=$(o);return Eo(f)||q0(f)}if(z0(o))h=()=>$(o.useValue);else if(function(o){return!(!o||!o.useFactory)}(o))h=()=>o.useFactory(...Lo(o.deps||[]));else if(function(o){return!(!o||!o.useExisting)}(o))h=()=>on($(o.useExisting));else{const f=$(o&&(o.useClass||o.provide));if(!function(o){return!!o.deps}(o))return Eo(f)||q0(f);h=()=>new f(...Lo(o.deps))}return h}function uc(o,a,c=!1){return{factory:o,value:a,multi:c?[]:void 0}}function z0(o){return null!==o&&"object"==typeof o&&Cl in o}function jo(o){return"function"==typeof o}const b_=function(o,a,c){return function(o,a=null,c=null,h){const f=nh(o,a,c,h);return f._resolveInjectorDefTypes(),f}({name:c},a,o,c)};let Xt=(()=>{class o{static create(c,h){return Array.isArray(c)?b_(c,h,""):b_(c.providers,c.parent,c.name||"")}}return o.THROW_IF_NOT_FOUND=Bu,o.NULL=new H0,o.\u0275prov=Kt({token:o,providedIn:"any",factory:()=>on(jl)}),o.__NG_ELEMENT_ID__=-1,o})();function jp(o,a){yl(Hd(o)[1],rn())}function T_(o){let a=function(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),c=!0;const h=[o];for(;a;){let f;if(Yr(o))f=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Error("Directives cannot inherit Components");f=a.\u0275dir}if(f){if(c){h.push(f);const b=o;b.inputs=hc(o.inputs),b.declaredInputs=hc(o.declaredInputs),b.outputs=hc(o.outputs);const w=f.hostBindings;w&&pC(o,w);const T=f.viewQuery,A=f.contentQueries;if(T&&_S(o,T),A&&Qn(o,A),ie(o.inputs,f.inputs),ie(o.declaredInputs,f.declaredInputs),ie(o.outputs,f.outputs),Yr(f)&&f.data.animation){const N=o.data;N.animation=(N.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let b=0;b<m.length;b++){const w=m[b];w&&w.ngInherit&&w(o),w===T_&&(c=!1)}}a=Object.getPrototypeOf(a)}!function(o){let a=0,c=null;for(let h=o.length-1;h>=0;h--){const f=o[h];f.hostVars=a+=f.hostVars,f.hostAttrs=To(f.hostAttrs,c=To(c,f.hostAttrs))}}(h)}function hc(o){return o===Z?{}:o===G?[]:o}function _S(o,a){const c=o.viewQuery;o.viewQuery=c?(h,f)=>{a(h,f),c(h,f)}:a}function Qn(o,a){const c=o.contentQueries;o.contentQueries=c?(h,f,m)=>{a(h,f,m),c(h,f,m)}:a}function pC(o,a){const c=o.hostBindings;o.hostBindings=c?(h,f)=>{a(h,f),c(h,f)}:a}let I_=null;function fc(){if(!I_){const o=en.Symbol;if(o&&o.iterator)I_=o.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<a.length;++c){const h=a[c];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(I_=h)}}}return I_}class Rs{constructor(a){this.wrapped=a}static wrap(a){return new Rs(a)}static unwrap(a){return Rs.isWrapped(a)?a.wrapped:a}static isWrapped(a){return a instanceof Rs}}function Gl(o){return!!A_(o)&&(Array.isArray(o)||!(o instanceof Map)&&fc()in o)}function A_(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Ho(o,a,c){return o[a]=c}function Jn(o,a,c){return!Object.is(o[a],c)&&(o[a]=c,!0)}function ql(o,a,c,h){const f=Jn(o,a,c);return Jn(o,a+1,h)||f}function S_(o,a,c,h){const f=Ae();return Jn(f,zs(),a)&&(Nt(),function(o,a,c,h,f,m){const b=Fr(o,a);Np(a[11],b,m,o.value,c,h,f)}(Rn(),f,o,a,c,h)),S_}function Fa(o,a,c,h){return Jn(o,zs(),c)?a+he(c)+h:gt}function Go(o,a,c,h,f,m,b,w,T,A){const R=function(o,a,c,h,f,m){const b=ql(o,a,c,h);return ql(o,a+2,f,m)||b}(o,ss(),c,f,b,T);return gi(4),R?a+he(c)+h+he(f)+m+he(b)+w+he(T)+A:gt}function Hi(o,a,c,h,f,m,b,w){const T=Ae(),A=Nt(),N=o+20,R=A.firstCreatePass?function(o,a,c,h,f,m,b,w,T){const A=a.consts,N=oc(a,o,4,b||null,aa(A,w));c_(a,c,N,aa(A,T)),yl(a,N);const R=N.tViews=dr(2,N,h,f,m,a.directiveRegistry,a.pipeRegistry,null,a.schemas,A);return null!==a.queries&&(a.queries.template(a,N),R.queries=a.queries.embeddedTView(N)),N}(N,A,T,a,c,h,f,m,b):A.data[N];Vi(R,!1);const P=T[11].createComment("");Yd(A,T,P,R),ur(P,T),Bl(T,T[N]=L0(P,T,P,R)),Cr(R)&&a_(A,T,R),null!=b&&T0(T,R,w)}function cb(o){return Do(ct.lFrame.contextLView,20+o)}function ks(o,a=Xe.Default){const c=Ae();return null===c?on(o,a):Io(rn(),c,$(o),a)}function Kl(o,a,c){const h=Ae();return Jn(h,zs(),a)&&wi(Nt(),Rn(),h,o,a,h[11],c,!1),Kl}function Wp(o,a,c,h,f){const b=f?"class":"style";$0(o,c,a.inputs[b],b,h)}function Cc(o,a,c,h){const f=Ae(),m=Nt(),b=20+o,w=f[11],T=f[b]=t0(w,a,ct.lFrame.currentNamespace),A=m.firstCreatePass?function(o,a,c,h,f,m,b){const w=a.consts,A=oc(a,o,2,f,aa(w,m));return c_(a,c,A,aa(w,b)),null!==A.attrs&&Rp(A,A.attrs,!1),null!==A.mergedAttrs&&Rp(A,A.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,A),A}(b,m,f,0,a,c,h):m.data[b];Vi(A,!0);const N=A.mergedAttrs;null!==N&&ws(w,T,N);const R=A.classes;null!==R&&l0(w,T,R);const P=A.styles;null!==P&&RE(w,T,P),64!=(64&A.flags)&&Yd(m,f,T,A),0===ct.lFrame.elementDepthCount&&ur(T,f),ct.lFrame.elementDepthCount++,Cr(A)&&(a_(m,f,A),o_(m,A,f)),null!==h&&T0(f,A)}function La(){let o=rn();gd()?gl():(o=o.parent,Vi(o,!1));const a=o;ct.lFrame.elementDepthCount--;const c=Nt();c.firstCreatePass&&(yl(c,o),Au(o)&&c.queries.elementEnd(o)),null!=a.classesWithoutHost&&function(o){return 0!=(16&o.flags)}(a)&&Wp(c,a,Ae(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function(o){return 0!=(32&o.flags)}(a)&&Wp(c,a,Ae(),a.stylesWithoutHost,!1)}function Yp(o,a,c,h){Cc(o,a,c,h),La()}function Va(o,a,c){const h=Ae(),f=Nt(),m=o+20,b=f.firstCreatePass?function(o,a,c,h,f){const m=a.consts,b=aa(m,h),w=oc(a,o,8,"ng-container",b);return null!==b&&Rp(w,b,!0),c_(a,c,w,aa(m,f)),null!==a.queries&&a.queries.elementStart(a,w),w}(m,f,h,a,c):f.data[m];Vi(b,!0);const w=h[m]=h[11].createComment("");Yd(f,h,w,b),ur(w,h),Cr(b)&&(a_(f,h,b),o_(f,b,h)),null!=c&&T0(h,b)}function Os(){let o=rn();const a=Nt();gd()?gl():(o=o.parent,Vi(o,!1)),a.firstCreatePass&&(yl(a,o),Au(o)&&a.queries.elementEnd(o))}function Dc(){return Ae()}function x_(o){return!!o&&"function"==typeof o.then}function R_(o){return!!o&&"function"==typeof o.subscribe}const Qp=R_;function lh(o,a,c,h){const f=Ae(),m=Nt(),b=rn();return function(o,a,c,h,f,m,b,w){const T=Cr(h),N=o.firstCreatePass&&xp(o),R=a[8],P=B0(a);let B=!0;if(3&h.type||w){const J=Fr(h,a),Me=w?w(J):J,we=P.length,et=w?ft=>w(dn(ft[h.index])):h.index;if(cn(c)){let ft=null;if(!w&&T&&(ft=function(o,a,c,h){const f=o.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const b=f[m];if(b===c&&f[m+1]===h){const w=a[7],T=f[m+2];return w.length>T?w[T]:null}"string"==typeof b&&(m+=2)}return null}(o,a,f,h.index)),null!==ft)(ft.__ngLastListenerFn__||ft).__ngNextListenerFn__=m,ft.__ngLastListenerFn__=m,B=!1;else{m=uh(h,a,R,m,!1);const kt=c.listen(Me,f,m);P.push(m,kt),N&&N.push(f,et,we,we+1)}}else m=uh(h,a,R,m,!0),Me.addEventListener(f,m,b),P.push(m),N&&N.push(f,et,we,b)}else m=uh(h,a,R,m,!1);const z=h.outputs;let ne;if(B&&null!==z&&(ne=z[f])){const J=ne.length;if(J)for(let Me=0;Me<J;Me+=2){const vr=a[ne[Me]][ne[Me+1]].subscribe(m),ms=P.length;P.push(m,vr),N&&N.push(f,h.index,ms,-(ms+1))}}}(m,f,f[11],b,o,a,!!c,h),lh}function vb(o,a,c,h){try{return!1!==c(h)}catch(f){return eh(o,f),!1}}function uh(o,a,c,h,f){return function m(b){if(b===Function)return h;const w=2&o.flags?Kr(o.index,a):a;0==(32&a[2])&&h_(w);let T=vb(a,0,h,b),A=m.__ngNextListenerFn__;for(;A;)T=vb(a,0,A,b)&&T,A=A.__ngNextListenerFn__;return f&&!1===T&&(b.preventDefault(),b.returnValue=!1),T}}function ch(o=1){return function(o){return(ct.lFrame.contextLView=function(o,a){for(;o>0;)a=a[15],o--;return a}(o,ct.lFrame.contextLView))[8]}(o)}function ti(o,a){let c=null;const h=function(o){const a=o.attrs;if(null!=a){const c=a.indexOf(5);if(0==(1&c))return a[c+1]}return null}(o);for(let f=0;f<a.length;f++){const m=a[f];if("*"!==m){if(null===h?OE(o,m,!0):LR(h,m))return f}else c=f}return c}function bb(o){const a=Ae()[16][6];if(!a.projection){const h=a.projection=ko(o?o.length:1,null),f=h.slice();let m=a.child;for(;null!==m;){const b=o?ti(m,o):0;null!==b&&(f[b]?f[b].projectionNext=m:h[b]=m,f[b]=m),m=m.next}}}function _n(o,a=0,c){const h=Ae(),f=Nt(),m=oc(f,20+o,16,null,c||null);null===m.projection&&(m.projection=a),gl(),64!=(64&m.flags)&&function(o,a,c){Pl(a[11],0,a,c,IE(o,c,a),Qm(c.parent||a[6],c,a))}(f,h,m)}function wb(o,a,c){return Jp(o,"",a,"",c),wb}function Jp(o,a,c,h,f){const m=Ae(),b=Fa(m,a,c,h);return b!==gt&&wi(Nt(),Rn(),m,o,b,m[11],f,!1),Jp}function MC(o,a,c,h,f){const m=o[c+1],b=null===a;let w=h?ro(m):Kn(m),T=!1;for(;0!==w&&(!1===T||b);){const N=o[w+1];NS(o[w],a)&&(T=!0,o[w+1]=h?Fl(N):f0(N)),w=h?ro(N):Kn(N)}T&&(o[c+1]=h?f0(m):Fl(m))}function NS(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&Oo(o,a)>=0}const gr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function hh(o){return o.substring(gr.key,gr.keyEnd)}function xC(o,a){const c=gr.textEnd;return c===a?-1:(a=gr.keyEnd=function(o,a,c){for(;a<c&&o.charCodeAt(a)>32;)a++;return a}(o,gr.key=a,c),Tc(o,a,c))}function Tc(o,a,c){for(;a<c&&o.charCodeAt(a)<=32;)a++;return a}function Ql(o,a,c){return Ci(o,a,c,!1),Ql}function Gi(o,a){return Ci(o,a,null,!0),Gi}function Db(o){Fs(An,Ps,o,!0)}function Ps(o,a){for(let c=function(o){return function(o){gr.key=0,gr.keyEnd=0,gr.value=0,gr.valueEnd=0,gr.textEnd=o.length}(o),xC(o,Tc(o,0,gr.textEnd))}(a);c>=0;c=xC(a,c))An(o,hh(a),!0)}function Ci(o,a,c,h){const f=Ae(),m=Nt(),b=gi(2);m.firstUpdatePass&&Tb(m,o,b,h),a!==gt&&Jn(f,b,a)&&Xl(m,m.data[Lr()],f,f[11],o,f[b+1]=function(o,a){return null==o||("string"==typeof a?o+=a:"object"==typeof o&&(o=K(Xs(o)))),o}(a,c),h,b)}function Fs(o,a,c,h){const f=Nt(),m=gi(2);f.firstUpdatePass&&Tb(f,null,m,h);const b=Ae();if(c!==gt&&Jn(b,m,c)){const w=f.data[Lr()];if(Sb(w,h)&&!OC(f,m)){let T=h?w.classesWithoutHost:w.stylesWithoutHost;null!==T&&(c=j(T,c||"")),Wp(f,w,b,c,h)}else!function(o,a,c,h,f,m,b,w){f===gt&&(f=G);let T=0,A=0,N=0<f.length?f[0]:null,R=0<m.length?m[0]:null;for(;null!==N||null!==R;){const P=T<f.length?f[T+1]:void 0,B=A<m.length?m[A+1]:void 0;let ne,z=null;N===R?(T+=2,A+=2,P!==B&&(z=R,ne=B)):null===R||null!==N&&N<R?(T+=2,z=N):(A+=2,z=R,ne=B),null!==z&&Xl(o,a,c,h,z,ne,b,w),N=T<f.length?f[T]:null,R=A<m.length?m[A]:null}}(f,w,b,b[11],b[m+1],b[m+1]=function(o,a,c){if(null==c||""===c)return G;const h=[],f=Xs(c);if(Array.isArray(f))for(let m=0;m<f.length;m++)o(h,f[m],!0);else if("object"==typeof f)for(const m in f)f.hasOwnProperty(m)&&o(h,m,f[m]);else"string"==typeof f&&a(h,f);return h}(o,a,c),h,m)}}function OC(o,a){return a>=o.expandoStartIndex}function Tb(o,a,c,h){const f=o.data;if(null===f[c+1]){const m=f[Lr()],b=OC(o,c);Sb(m,h)&&null===a&&!b&&(a=!1),a=function(o,a,c,h){const f=function(o){const a=ct.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}(o);let m=h?a.residualClasses:a.residualStyles;if(null===f)0===(h?a.classBindings:a.styleBindings)&&(c=gh(c=Ib(null,o,a,c,h),a.attrs,h),m=null);else{const b=a.directiveStylingLast;if(-1===b||o[b]!==f)if(c=Ib(f,o,a,c,h),null===m){let T=function(o,a,c){const h=c?a.classBindings:a.styleBindings;if(0!==Kn(h))return o[ro(h)]}(o,a,h);void 0!==T&&Array.isArray(T)&&(T=Ib(null,o,a,T[1],h),T=gh(T,a.attrs,h),function(o,a,c,h){o[ro(c?a.classBindings:a.styleBindings)]=h}(o,a,h,T))}else m=function(o,a,c){let h;const f=a.directiveEnd;for(let m=1+a.directiveStylingLast;m<f;m++)h=gh(h,o[m].hostAttrs,c);return gh(h,a.attrs,c)}(o,a,h)}return void 0!==m&&(h?a.residualClasses=m:a.residualStyles=m),c}(f,m,a,h),function(o,a,c,h,f,m){let b=m?a.classBindings:a.styleBindings,w=ro(b),T=Kn(b);o[h]=c;let N,A=!1;if(Array.isArray(c)){const R=c;N=R[1],(null===N||Oo(R,N)>0)&&(A=!0)}else N=c;if(f)if(0!==T){const P=ro(o[w+1]);o[h+1]=t_(P,w),0!==P&&(o[P+1]=LE(o[P+1],h)),o[w+1]=function(o,a){return 131071&o|a<<17}(o[w+1],h)}else o[h+1]=t_(w,0),0!==w&&(o[w+1]=LE(o[w+1],h)),w=h;else o[h+1]=t_(T,0),0===w?w=h:o[T+1]=LE(o[T+1],h),T=h;A&&(o[h+1]=f0(o[h+1])),MC(o,N,h,!0),MC(o,N,h,!1),function(o,a,c,h,f){const m=f?o.residualClasses:o.residualStyles;null!=m&&"string"==typeof a&&Oo(m,a)>=0&&(c[h+1]=Fl(c[h+1]))}(a,N,o,h,m),b=t_(w,T),m?a.classBindings=b:a.styleBindings=b}(f,m,a,c,b,h)}}function Ib(o,a,c,h,f){let m=null;const b=c.directiveEnd;let w=c.directiveStylingLast;for(-1===w?w=c.directiveStart:w++;w<b&&(m=a[w],h=gh(h,m.hostAttrs,f),m!==o);)w++;return null!==o&&(c.directiveStylingLast=w),h}function gh(o,a,c){const h=c?1:2;let f=-1;if(null!==a)for(let m=0;m<a.length;m++){const b=a[m];"number"==typeof b?f=b:f===h&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),An(o,b,!!c||a[++m]))}return void 0===o?null:o}function Xl(o,a,c,h,f,m,b,w){if(!(3&a.type))return;const T=o.data,A=T[w+1];Ua(function(o){return 1==(1&o)}(A)?Ab(T,a,c,f,Kn(A),b):void 0)||(Ua(m)||function(o){return 2==(2&o)}(A)&&(m=Ab(T,null,c,f,w,b)),function(o,a,c,h,f){const m=cn(o);if(a)f?m?o.addClass(c,h):c.classList.add(h):m?o.removeClass(c,h):c.classList.remove(h);else{let b=-1===h.indexOf("-")?void 0:Ns.DashCase;if(null==f)m?o.removeStyle(c,h,b):c.style.removeProperty(h);else{const w="string"==typeof f&&f.endsWith("!important");w&&(f=f.slice(0,-10),b|=Ns.Important),m?o.setStyle(c,h,f,b):c.style.setProperty(h,f,w?"important":"")}}}(h,b,hl(Lr(),c),f,m))}function Ab(o,a,c,h,f,m){const b=null===a;let w;for(;f>0;){const T=o[f],A=Array.isArray(T),N=A?T[1]:T,R=null===N;let P=c[f+1];P===gt&&(P=R?G:void 0);let B=R?Gn(P,h):N===h?P:void 0;if(A&&!Ua(B)&&(B=Gn(T,h)),Ua(B)&&(w=B,b))return w;const z=o[f+1];f=b?ro(z):Kn(z)}if(null!==a){let T=m?a.residualClasses:a.residualStyles;null!=T&&(w=Gn(T,h))}return w}function Ua(o){return void 0!==o}function Sb(o,a){return 0!=(o.flags&(a?16:32))}function _h(o,a=""){const c=Ae(),h=Nt(),f=o+20,m=h.firstCreatePass?oc(h,f,1,a,null):h.data[f],b=c[f]=Zm(c[11],a);Yd(h,c,b,m),Vi(m,!1)}function Nb(o){return V_("",o,""),Nb}function V_(o,a,c){const h=Ae(),f=Fa(h,o,a,c);return f!==gt&&Sn(h,Lr(),f),V_}function Ln(o,a,c,h,f){const m=Ae(),b=function(o,a,c,h,f,m){const w=ql(o,ss(),c,f);return gi(2),w?a+he(c)+h+he(f)+m:gt}(m,o,a,c,h,f);return b!==gt&&Sn(m,Lr(),b),Ln}function Rb(o,a,c,h,f,m,b,w,T){Fs(An,Ps,Go(Ae(),o,a,c,h,f,m,b,w,T),!0)}function Ic(o,a,c){const h=Ae();return Jn(h,zs(),a)&&wi(Nt(),Rn(),h,o,a,h[11],c,!0),Ic}const Zo=void 0;var QC=["en",[["a","p"],["AM","PM"],Zo],[["AM","PM"],Zo,Zo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Zo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Zo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Zo,"{1} 'at' {0}",Zo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(o){const a=Math.floor(Math.abs(o)),c=o.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let Ac={};function $_(o){const a=function(o){return o.toLowerCase().replace(/_/g,"-")}(o);let c=XC(a);if(c)return c;const h=a.split("-")[0];if(c=XC(h),c)return c;if("en"===h)return QC;throw new Error(`Missing locale data for the locale "${o}".`)}function JC(o){return $_(o)[nt.PluralCase]}function XC(o){return o in Ac||(Ac[o]=en.ng&&en.ng.common&&en.ng.common.locales&&en.ng.common.locales[o]),Ac[o]}var nt=(()=>((nt=nt||{})[nt.LocaleId=0]="LocaleId",nt[nt.DayPeriodsFormat=1]="DayPeriodsFormat",nt[nt.DayPeriodsStandalone=2]="DayPeriodsStandalone",nt[nt.DaysFormat=3]="DaysFormat",nt[nt.DaysStandalone=4]="DaysStandalone",nt[nt.MonthsFormat=5]="MonthsFormat",nt[nt.MonthsStandalone=6]="MonthsStandalone",nt[nt.Eras=7]="Eras",nt[nt.FirstDayOfWeek=8]="FirstDayOfWeek",nt[nt.WeekendRange=9]="WeekendRange",nt[nt.DateFormat=10]="DateFormat",nt[nt.TimeFormat=11]="TimeFormat",nt[nt.DateTimeFormat=12]="DateTimeFormat",nt[nt.NumberSymbols=13]="NumberSymbols",nt[nt.NumberFormats=14]="NumberFormats",nt[nt.CurrencyCode=15]="CurrencyCode",nt[nt.CurrencySymbol=16]="CurrencySymbol",nt[nt.CurrencyName=17]="CurrencyName",nt[nt.Currencies=18]="Currencies",nt[nt.Directionality=19]="Directionality",nt[nt.PluralCase=20]="PluralCase",nt[nt.ExtraData=21]="ExtraData",nt))();const OS=["zero","one","two","few","many"],vh="en-US",tu={marker:"element"},ds={marker:"ICU"};var Cn=(()=>((Cn=Cn||{})[Cn.SHIFT=2]="SHIFT",Cn[Cn.APPEND_EAGERLY=1]="APPEND_EAGERLY",Cn[Cn.COMMENT=2]="COMMENT",Cn))();let bh=vh;function H_(o){(function(o,a){null==o&&ut(a,o,null,"!=")})(o,"Expected localeId to be defined"),"string"==typeof o&&(bh=o.toLowerCase().replace(/_/g,"-"))}function Pb(o,a,c){const h=a.insertBeforeIndex,f=Array.isArray(h)?h[0]:h;return null===f?bp(o,0,c):dn(c[f])}function rD(o,a,c,h,f){const m=a.insertBeforeIndex;if(Array.isArray(m)){let b=h,w=null;if(3&a.type||(w=b,b=f),null!==b&&0==(2&a.flags))for(let T=1;T<m.length;T++)Ol(o,b,c[m[T]],w,!1)}}function iD(o,a){if(o.push(a),o.length>1)for(let c=o.length-2;c>=0;c--){const h=o[c];lg(h)||sD(h,a)&&null===FS(h)&&oD(h,a.index)}}function lg(o){return!(64&o.type)}function sD(o,a){return lg(a)||o.index>a.index}function FS(o){const a=o.insertBeforeIndex;return Array.isArray(a)?a[0]:a}function oD(o,a){const c=o.insertBeforeIndex;Array.isArray(c)?c[0]=a:(ME(Pb,rD),o.insertBeforeIndex=a)}function wh(o,a){const c=o.data[a];return null===c||"string"==typeof c?null:c.hasOwnProperty("currentCaseLViewIndex")?c:c.value}function lD(o,a,c){const h=Qd(o,c,64,null,null);return iD(a,h),h}function ug(o,a){const c=a[o.currentCaseLViewIndex];return null===c?c:c<0?~c:c}function Fb(o){return o>>>17}function uD(o){return(131070&o)>>>1}let zo=0,cg=0;function Ls(o,a,c,h){const f=c[11];let b,m=null;for(let w=0;w<a.length;w++){const T=a[w];if("string"==typeof T){const A=a[++w];null===c[A]&&(c[A]=Zm(f,T))}else if("number"==typeof T)switch(1&T){case 0:const A=Fb(T);let N,R;if(null===m&&(m=A,b=Ym(f,h)),A===m?(N=h,R=b):(N=null,R=dn(c[A])),null!==R){const ne=uD(T);Ol(f,R,c[ne],N,!1);const Me=wh(o,ne);if(null!==Me&&"object"==typeof Me){const we=ug(Me,c);null!==we&&Ls(o,Me.create[we],c,c[Me.anchorIdx])}}break;case 1:const B=a[++w],z=a[++w];Np(f,hl(T>>>1,c),null,null,B,z,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${T}"`)}else switch(T){case ds:const A=a[++w],N=a[++w];null===c[N]&&ur(c[N]=xA(f,A),c);break;case tu:const R=a[++w],P=a[++w];null===c[P]&&ur(c[P]=t0(f,R,null),c)}}}function hD(o,a,c,h,f){for(let m=0;m<c.length;m++){const b=c[m],w=c[++m];if(b&f){let T="";for(let A=m+1;A<=m+w;A++){const N=c[A];if("string"==typeof N)T+=N;else if("number"==typeof N)if(N<0)T+=he(a[h-N]);else{const R=N>>>2;switch(3&N){case 1:const P=c[++A],B=c[++A],z=o.data[R];"string"==typeof z?Np(a[11],a[R],null,z,P,T,B):wi(o,z,a,P,T,a[11],B,!1);break;case 0:const ne=a[R];null!==ne&&DE(a[11],ne,T);break;case 2:Ba(o,wh(o,R),a,T);break;case 3:Lb(o,wh(o,R),h,a)}}}}else{const T=c[m+1];if(T>0&&3==(3&T)){const N=wh(o,T>>>2);a[N.currentCaseLViewIndex]<0&&Lb(o,N,h,a)}}m+=w}}function Lb(o,a,c,h){let f=h[a.currentCaseLViewIndex];if(null!==f){let m=zo;f<0&&(f=h[a.currentCaseLViewIndex]=~f,m=-1),hD(o,h,a.update[f],c,m)}}function Ba(o,a,c,h){const f=function(o,a){let c=o.cases.indexOf(a);if(-1===c)switch(o.type){case 1:{const h=function(o,a){const c=JC(a)(parseInt(o,10)),h=OS[c];return void 0!==h?h:"other"}(a,bh);c=o.cases.indexOf(h),-1===c&&"other"!==h&&(c=o.cases.indexOf("other"));break}case 0:c=o.cases.indexOf("other")}return-1===c?null:c}(a,h);if(ug(a,c)!==f&&(fD(o,a,c),c[a.currentCaseLViewIndex]=null===f?null:~f,null!==f)){const b=c[a.anchorIdx];b&&Ls(o,a.create[f],c,b)}}function fD(o,a,c){let h=ug(a,c);if(null!==h){const f=a.remove[h];for(let m=0;m<f.length;m++){const b=f[m];if(b>0){const w=hl(b,c);null!==w&&a0(c[11],w)}else fD(o,wh(o,~b),c)}}}function nu(){const o=[];let c,h,a=-1;function m(w,T){a=0;const A=ug(w,T);h=null!==A?w.remove[A]:G}function b(){if(a<h.length){const w=h[a++];return w>0?c[w]:(o.push(a,h),m(c[1].data[~w],c),b())}return 0===o.length?null:(h=o.pop(),a=o.pop(),b())}return function(w,T){for(c=T;o.length;)o.pop();return m(w.value,T),b}}const fs=/\ufffd(\d+):?\d*\ufffd/gi,$r=/\ufffd(\d+)\ufffd/,Zi=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,ja=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Ch=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Dh=/\uE500/g;function Vb(o,a,c,h,f,m,b){const w=Vl(o,h,1,null);let T=w<<Cn.SHIFT,A=Zs();a===A&&(A=null),null===A&&(T|=Cn.APPEND_EAGERLY),b&&(T|=Cn.COMMENT,function(o){void 0===tc&&(tc=o())}(nu)),f.push(T,null===m?"":m);const N=Qd(o,w,b?32:1,null===m?"":m,null);iD(c,N);const R=N.index;return Vi(N,!1),null!==A&&a!==A&&function(o,a){let c=o.insertBeforeIndex;null===c?(ME(Pb,rD),c=o.insertBeforeIndex=[null,a]):(function(o,a,c){o!=a&&ut(c,o,a,"==")}(Array.isArray(c),!0,"Expecting array here"),c.push(a))}(A,R),N}function Se(o,a,c,h,f,m,b){const w=b.match(fs),T=Vb(o,a,c,m,h,w?null:b,!1);w&&ri(f,b,T.index,null,0,null)}function ri(o,a,c,h,f,m){const b=o.length,w=b+1;o.push(null,null);const T=b+2,A=a.split(fs);let N=0;for(let R=0;R<A.length;R++){const P=A[R];if(1&R){const B=f+parseInt(P,10);o.push(-1-B),N|=Th(B)}else""!==P&&o.push(P)}return o.push(c<<2|(h?1:0)),h&&o.push(h,m),o[b]=N,o[w]=o.length-T,N}function Th(o){return 1<<Math.min(o,31)}function gD(o){let a,m,c="",h=0,f=!1;for(;null!==(a=ja.exec(o));)f?a[0]===`\ufffd/*${m}\ufffd`&&(h=a.index,f=!1):(c+=o.substring(h,a.index+a[0].length),m=a[1],f=!0);return c+=o.substr(h),c}function Ub(o,a,c,h,f,m){let b=0;const w={type:f.type,currentCaseLViewIndex:Vl(o,a,1,null),anchorIdx:m,cases:[],create:[],remove:[],update:[]};(function(o,a,c){o.push(Th(a.mainBinding),2,-1-a.mainBinding,c<<2|2)})(c,f,m),function(o,a,c){const h=o.data[a];null===h?o.data[a]=c:h.value=c}(o,m,w);const T=f.values;for(let A=0;A<T.length;A++){const N=T[A],R=[];for(let P=0;P<N.length;P++){const B=N[P];if("string"!=typeof B){const z=R.push(B)-1;N[P]=`\x3c!--\ufffd${z}\ufffd--\x3e`}}b=zi(o,w,a,c,h,f.cases[A],N.join(""),R)|b}b&&function(o,a,c){o.push(a,1,c<<2|3)}(c,b,m)}function Bb(o){const a=[],c=[];let h=1,f=0;const m=q_(o=o.replace(Zi,function(b,w,T){return h="select"===T?0:1,f=parseInt(w.substr(1),10),""}));for(let b=0;b<m.length;){let w=m[b++].trim();1===h&&(w=w.replace(/\s*(?:=)?(\w+)\s*/,"$1")),w.length&&a.push(w);const T=q_(m[b++]);a.length>c.length&&c.push(T)}return{type:h,mainBinding:f,cases:a,values:c}}function q_(o){if(!o)return[];let a=0;const c=[],h=[],f=/[{}]/g;let m;for(f.lastIndex=0;m=f.exec(o);){const w=m.index;if("}"==m[0]){if(c.pop(),0==c.length){const T=o.substring(a,w);Zi.test(T)?h.push(Bb(T)):h.push(T),a=w+1}}else{if(0==c.length){const T=o.substring(a,w);h.push(T),a=w+1}c.push("{")}}const b=o.substring(a);return h.push(b),h}function zi(o,a,c,h,f,m,b,w){const T=[],A=[],N=[];a.cases.push(m),a.create.push(T),a.remove.push(A),a.update.push(N);const P=lp(tm()).getInertBodyElement(b),B=Ud(P)||P;return B?Z_(o,a,c,h,T,A,N,B,f,w,0):0}function Z_(o,a,c,h,f,m,b,w,T,A,N){let R=0,P=w.firstChild;for(;P;){const B=Vl(o,c,1,null);switch(P.nodeType){case Node.ELEMENT_NODE:const z=P,ne=z.tagName.toLowerCase();if(cp.hasOwnProperty(ne)){W_(f,tu,ne,T,B),o.data[B]=ne;const et=z.attributes;for(let ft=0;ft<et.length;ft++){const kt=et.item(ft),vr=kt.name.toLowerCase();kt.value.match(fs)?dp.hasOwnProperty(vr)&&ri(b,kt.value,B,kt.name,0,Nl[vr]?Sl:Is[vr]?Ld:null):$b(f,B,kt)}R=Z_(o,a,c,h,f,m,b,P,B,A,N+1)|R,z_(m,B,N)}break;case Node.TEXT_NODE:const J=P.textContent||"",Me=J.match(fs);W_(f,null,Me?"":J,T,B),z_(m,B,N),Me&&(R=ri(b,J,B,null,0,null)|R);break;case Node.COMMENT_NODE:const we=$r.exec(P.textContent||"");if(we){const ft=A[parseInt(we[1],10)];W_(f,ds,"",T,B),Ub(o,c,h,T,ft,B),ru(m,B,N)}}P=P.nextSibling}return R}function z_(o,a,c){0===c&&o.push(a)}function ru(o,a,c){0===c&&(o.push(~a),o.push(a))}function W_(o,a,c,h,f){null!==a&&o.push(a),o.push(c,f,function(o,a,c){return 0|a<<17|c<<1}(0,h,f))}function $b(o,a,c){o.push(a<<1|1,c.name,c.value)}function qb(o,a,c=-1){const h=Nt(),f=Ae(),m=20+o,b=aa(h.consts,a),w=Zs();h.firstCreatePass&&function(o,a,c,h,f,m){const b=Zs(),w=[],T=[],A=[[]],N=function(o){return o.replace(Dh," ")}(f=function(o,a){if(function(o){return-1===o}(a))return gD(o);{const c=o.indexOf(`:${a}\ufffd`)+2+a.toString().length,h=o.search(new RegExp(`\ufffd\\/\\*\\d+:${a}\ufffd`));return gD(o.substring(c,h))}}(f,m)).split(Ch);for(let R=0;R<N.length;R++){let P=N[R];if(0==(1&R)){const B=q_(P);for(let z=0;z<B.length;z++){let ne=B[z];if(0==(1&z)){const J=ne;""!==J&&Se(o,b,A[0],w,T,c,J)}else{const J=ne;if("object"!=typeof J)throw new Error(`Unable to parse ICU expression in "${f}" message.`);Ub(o,c,T,a,J,Vb(o,b,A[0],c,w,"",!0).index)}}}else{const B=47===P.charCodeAt(0),ne=(P.charCodeAt(B?1:0),20+Number.parseInt(P.substring(B?2:1)));if(B)A.shift(),Vi(Zs(),!1);else{const J=lD(o,A[0],ne);A.unshift([]),Vi(J,!0)}}}o.data[h]={create:w,update:T}}(h,null===w?0:w.index,f,m,b,c);const T=h.data[m],N=AE(h,w===f[6]?null:w,f);(function(o,a,c,h){const f=o[11];for(let m=0;m<a.length;m++){const b=a[m++],w=a[m],T=(b&Cn.COMMENT)===Cn.COMMENT,A=(b&Cn.APPEND_EAGERLY)===Cn.APPEND_EAGERLY,N=b>>>Cn.SHIFT;let R=o[N];null===R&&(R=o[N]=T?f.createComment(w):Zm(f,w)),A&&null!==c&&Ol(f,c,R,h,!1)}})(f,T.create,N,w&&8&w.type?f[w.index]:null),_d(!0)}function Y_(o,a,c){qb(o,a,c),_d(!1)}function K_(o){return function(o){o&&(zo|=1<<Math.min(cg,31)),cg++}(Jn(Ae(),zs(),o)),K_}function Zb(o){!function(o,a,c){if(cg>0){const h=o.data[c];hD(o,a,Array.isArray(h)?h:h.update,ss()-cg-1,zo)}zo=0,cg=0}(Nt(),Ae(),o+20)}function Nh(o,a,c,h,f){if(o=$(o),Array.isArray(o))for(let m=0;m<o.length;m++)Nh(o[m],a,c,h,f);else{const m=Nt(),b=Ae();let w=jo(o)?o:$(o.provide),T=y_(o);const A=rn(),N=1048575&A.providerIndexes,R=A.directiveStart,P=A.providerIndexes>>20;if(jo(o)||!o.multi){const B=new wd(T,f,ks),z=Wo(w,a,f?N:N+P,R);-1===z?(Zt(Ys(A,b),m,w),hg(m,o,a.length),a.push(w),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),c.push(B),b.push(B)):(c[z]=B,b[z]=B)}else{const B=Wo(w,a,N+P,R),z=Wo(w,a,N,N+P),ne=B>=0&&c[B],J=z>=0&&c[z];if(f&&!J||!f&&!ne){Zt(Ys(A,b),m,w);const Me=function(o,a,c,h,f){const m=new wd(o,c,ks);return m.multi=[],m.index=a,m.componentProviders=0,zb(m,f,h&&!c),m}(f?wD:Mh,c.length,f,h,T);!f&&J&&(c[z].providerFactory=Me),hg(m,o,a.length,0),a.push(w),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),c.push(Me),b.push(Me)}else hg(m,o,B>-1?B:z,zb(c[f?z:B],T,!f&&h));!f&&h&&J&&c[z].componentProviders++}}}function hg(o,a,c,h){const f=jo(a);if(f||function(o){return!!o.useClass}(a)){const b=(a.useClass||a).prototype.ngOnDestroy;if(b){const w=o.destroyHooks||(o.destroyHooks=[]);if(!f&&a.multi){const T=w.indexOf(c);-1===T?w.push(c,[h,b]):w[T+1].push(h,b)}else w.push(c,b)}}}function zb(o,a,c){return c&&o.componentProviders++,o.multi.push(a)-1}function Wo(o,a,c,h){for(let f=c;f<h;f++)if(a[f]===o)return f;return-1}function Mh(o,a,c,h){return $a(this.multi,[])}function wD(o,a,c,h){const f=this.multi;let m;if(this.providerFactory){const b=this.providerFactory.componentProviders,w=Tn(c,c[1],this.providerFactory.index,h);m=w.slice(0,b),$a(f,m);for(let T=b;T<w.length;T++)m.push(w[T])}else m=[],$a(f,m);return m}function $a(o,a){for(let c=0;c<o.length;c++)a.push((0,o[c])());return a}function Mc(o,a=[]){return c=>{c.providersResolver=(h,f)=>function(o,a,c){const h=Nt();if(h.firstCreatePass){const f=Yr(o);Nh(c,h.data,h.blueprint,f,!0),Nh(a,h.data,h.blueprint,f,!1)}}(h,f?f(o):o,a)}}class Ha{}const Q_="ngComponent";class ZS{resolveComponentFactory(a){throw function(o){const a=Error(`No component factory found for ${K(o)}. Did you add it to @NgModule.entryComponents?`);return a[Q_]=o,a}(a)}}let xh=(()=>{class o{}return o.NULL=new ZS,o})();function xc(...o){}function Rc(o,a){return new Hr(Fr(o,a))}const CD=function(){return Rc(rn(),Ae())};let Hr=(()=>{class o{constructor(c){this.nativeElement=c}}return o.__NG_ELEMENT_ID__=CD,o})();function fg(o){return o instanceof Hr?o.nativeElement:o}class pg{}let Yb=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>X_(),o})();const X_=function(){const o=Ae(),c=Kr(rn().index,o);return function(o){return o[11]}(ns(c)?c:o)};let ey=(()=>{class o{}return o.\u0275prov=Kt({token:o,providedIn:"root",factory:()=>null}),o})();class ty{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const ny=new ty("12.2.8");class DD{constructor(){}supports(a){return Gl(a)}create(a){return new Jb(a)}}const TD=(o,a)=>a;class Jb{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||TD}forEachItem(a){let c;for(c=this._itHead;null!==c;c=c._next)a(c)}forEachOperation(a){let c=this._itHead,h=this._removalsHead,f=0,m=null;for(;c||h;){const b=!h||c&&c.currentIndex<Xb(h,f,m)?c:h,w=Xb(b,f,m),T=b.currentIndex;if(b===h)f--,h=h._nextRemoved;else if(c=c._next,null==b.previousIndex)f++;else{m||(m=[]);const A=w-f,N=T-f;if(A!=N){for(let P=0;P<A;P++){const B=P<m.length?m[P]:m[P]=0,z=B+P;N<=z&&z<A&&(m[P]=B+1)}m[b.previousIndex]=N-A}}w!==T&&a(b,w,T)}}forEachPreviousItem(a){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachMovedItem(a){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}forEachIdentityChange(a){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)a(c)}diff(a){if(null==a&&(a=[]),!Gl(a))throw new Error(`Error trying to diff '${K(a)}'. Only arrays and iterables are allowed`);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let f,m,b,c=this._itHead,h=!1;if(Array.isArray(a)){this.length=a.length;for(let w=0;w<this.length;w++)m=a[w],b=this._trackByFn(w,m),null!==c&&Object.is(c.trackById,b)?(h&&(c=this._verifyReinsertion(c,m,b,w)),Object.is(c.item,m)||this._addIdentityChange(c,m)):(c=this._mismatch(c,m,b,w),h=!0),c=c._next}else f=0,function(o,a){if(Array.isArray(o))for(let c=0;c<o.length;c++)a(o[c]);else{const c=o[fc()]();let h;for(;!(h=c.next()).done;)a(h.value)}}(a,w=>{b=this._trackByFn(f,w),null!==c&&Object.is(c.trackById,b)?(h&&(c=this._verifyReinsertion(c,w,b,f)),Object.is(c.item,w)||this._addIdentityChange(c,w)):(c=this._mismatch(c,w,b,f),h=!0),c=c._next,f++}),this.length=f;return this._truncate(c),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,c,h,f){let m;return null===a?m=this._itTail:(m=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._reinsertAfter(a,m,f)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(h,f))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._moveAfter(a,m,f)):a=this._addAfter(new KS(c,h),m,f),a}_verifyReinsertion(a,c,h,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==m?a=this._reinsertAfter(m,a._prev,f):a.currentIndex!=f&&(a.currentIndex=f,this._addToMoves(a,f)),a}_truncate(a){for(;null!==a;){const c=a._next;this._addToRemovals(this._unlink(a)),a=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,c,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const f=a._prevRemoved,m=a._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(a,c,h),this._addToMoves(a,h),a}_moveAfter(a,c,h){return this._unlink(a),this._insertAfter(a,c,h),this._addToMoves(a,h),a}_addAfter(a,c,h){return this._insertAfter(a,c,h),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,c,h){const f=null===c?this._itHead:c._next;return a._next=f,a._prev=c,null===f?this._itTail=a:f._prev=a,null===c?this._itHead=a:c._next=a,null===this._linkedRecords&&(this._linkedRecords=new AD),this._linkedRecords.put(a),a.currentIndex=h,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const c=a._prev,h=a._next;return null===c?this._itHead=h:c._next=h,null===h?this._itTail=c:h._prev=c,a}_addToMoves(a,c){return a.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new AD),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,c){return a.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class KS{constructor(a,c){this.item=a,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ID{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,c){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===c||c<=h.currentIndex)&&Object.is(h.trackById,a))return h;return null}remove(a){const c=a._prevDup,h=a._nextDup;return null===c?this._head=h:c._nextDup=h,null===h?this._tail=c:h._prevDup=c,null===this._head}}class AD{constructor(){this.map=new Map}put(a){const c=a.trackById;let h=this.map.get(c);h||(h=new ID,this.map.set(c,h)),h.add(a)}get(a,c){const f=this.map.get(a);return f?f.get(a,c):null}remove(a){const c=a.trackById;return this.map.get(c).remove(a)&&this.map.delete(c),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Xb(o,a,c){const h=o.previousIndex;if(null===h)return h;let f=0;return c&&h<c.length&&(f=c[h]),h+a+f}class SD{constructor(){}supports(a){return a instanceof Map||A_(a)}create(){return new kh}}class kh{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let c;for(c=this._mapHead;null!==c;c=c._next)a(c)}forEachPreviousItem(a){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)a(c)}forEachChangedItem(a){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}diff(a){if(a){if(!(a instanceof Map||A_(a)))throw new Error(`Error trying to diff '${K(a)}'. Only maps and objects are allowed`)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(a,(h,f)=>{if(c&&c.key===f)this._maybeAddToChanges(c,h),this._appendAfter=c,c=c._next;else{const m=this._getOrCreateRecordForKey(f,h);c=this._insertBeforeOrAppend(c,m)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let h=c;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,c){if(a){const h=a._prev;return c._next=a,c._prev=h,a._prev=c,h&&(h._next=c),a===this._mapHead&&(this._mapHead=c),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(a,c){if(this._records.has(a)){const f=this._records.get(a);this._maybeAddToChanges(f,c);const m=f._prev,b=f._next;return m&&(m._next=b),b&&(b._prev=m),f._next=null,f._prev=null,f}const h=new Oh(a);return this._records.set(a,h),h.currentValue=c,this._addToAdditions(h),h}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,c){Object.is(c,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=c,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,c){a instanceof Map?a.forEach(c):Object.keys(a).forEach(h=>c(a[h],h))}}class Oh{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ry(){return new kc([new DD])}let kc=(()=>{class o{constructor(c){this.factories=c}static create(c,h){if(null!=h){const f=h.factories.slice();c=c.concat(f)}return new o(c)}static extend(c){return{provide:o,useFactory:h=>o.create(c,h||ry()),deps:[[o,new ar,new Ts]]}}find(c){const h=this.factories.find(f=>f.supports(c));if(null!=h)return h;throw new Error(`Cannot find a differ supporting object '${c}' of type '${function(o){return o.name||typeof o}(c)}'`)}}return o.\u0275prov=Kt({token:o,providedIn:"root",factory:ry}),o})();function e1(){return new iy([new SD])}let iy=(()=>{class o{constructor(c){this.factories=c}static create(c,h){if(h){const f=h.factories.slice();c=c.concat(f)}return new o(c)}static extend(c){return{provide:o,useFactory:h=>o.create(c,h||e1()),deps:[[o,new ar,new Ts]]}}find(c){const h=this.factories.find(f=>f.supports(c));if(h)return h;throw new Error(`Cannot find a differ supporting object '${c}'`)}}return o.\u0275prov=Kt({token:o,providedIn:"root",factory:e1}),o})();function Ph(o,a,c,h,f=!1){for(;null!==c;){const m=a[c.index];if(null!==m&&h.push(dn(m)),Li(m))for(let w=10;w<m.length;w++){const T=m[w],A=T[1].firstChild;null!==A&&Ph(T[1],T,A,h)}const b=c.type;if(8&b)Ph(o,a,c.child,h);else if(32&b){const w=Wd(c,a);let T;for(;T=w();)h.push(T)}else if(16&b){const w=s0(a,c);if(Array.isArray(w))h.push(...w);else{const T=vp(a[16]);Ph(T[1],T,w,h,!0)}}c=f?c.projectionNext:c.next}return h}class gg{constructor(a,c){this._lView=a,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,c=a[1];return Ph(c,a,c.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(Li(a)){const c=a[8],h=c?c.indexOf(this):-1;h>-1&&(Wm(a,h),Ro(c,h))}this._attachedToViewContainer=!1}TE(this._lView[1],this._lView)}onDestroy(a){WE(this._lView[1],this._lView,null,a)}markForCheck(){h_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Jd(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(o,a,c){md(!0);try{Jd(o,a,c)}finally{md(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var a;this._appRef=null,ic(this._lView[1],a=this._lView,a[11],2,null,null)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=a}}class t1 extends gg{constructor(a){super(a),this._view=a}detectChanges(){tC(this._view)}checkNoChanges(){!function(o){md(!0);try{tC(o)}finally{md(!1)}}(this._view)}get context(){return null}}const JS=function(o){return function(o,a,c){if(ad(o)&&!c){const h=Kr(o.index,a);return new gg(h,h)}return 47&o.type?new gg(a[16],a):null}(rn(),Ae(),16==(16&o))};let n1=(()=>{class o{}return o.__NG_ELEMENT_ID__=JS,o})();const eN=[new SD],nN=new kc([new DD]),rN=new iy(eN),RD=function(){return Oc(rn(),Ae())};let Fh=(()=>{class o{}return o.__NG_ELEMENT_ID__=RD,o})();const r1=Fh,sy=class extends r1{constructor(a,c,h){super(),this._declarationLView=a,this._declarationTContainer=c,this.elementRef=h}createEmbeddedView(a){const c=this._declarationTContainer.tViews,h=Tp(this._declarationLView,c,a,16,null,c.declTNode,null,null,null,null);h[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(h[19]=m.createEmbeddedView(c)),ac(c,h,a),new gg(h)}};function Oc(o,a){return 4&o.type?new sy(a,o,Rc(o,a)):null}class Ga{}class oy{}const oN=function(){return Vh(rn(),Ae())};let _g=(()=>{class o{}return o.__NG_ELEMENT_ID__=oN,o})();const lN=_g,kD=class extends lN{constructor(a,c,h){super(),this._lContainer=a,this._hostTNode=c,this._hostLView=h}get element(){return Rc(this._hostTNode,this._hostLView)}get injector(){return new So(this._hostTNode,this._hostLView)}get parentInjector(){const a=ze(this._hostTNode,this._hostLView);if(wn(a)){const c=Lu(a,this._hostLView),h=ca(a);return new So(c[1].data[h+8],c)}return new So(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const c=s1(this._lContainer);return null!==c&&c[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,c,h){const f=a.createEmbeddedView(c||{});return this.insert(f,h),f}createComponent(a,c,h,f,m){const b=h||this.parentInjector;if(!m&&null==a.ngModule&&b){const T=b.get(Ga,null);T&&(m=T)}const w=a.create(b,f,void 0,m);return this.insert(w.hostView,c),w}insert(a,c){const h=a._lView,f=h[1];if(Li(h[3])){const N=this.indexOf(a);if(-1!==N)this.detach(N);else{const R=h[3],P=new kD(R,R[6],R[3]);P.detach(P.indexOf(a))}}const m=this._adjustIndex(c),b=this._lContainer;!function(o,a,c,h){const f=10+h,m=c.length;h>0&&(c[f-1][4]=a),h<m-10?(a[4]=c[f],fa(c,10+h,a)):(c.push(a),a[4]=null),a[3]=c;const b=a[17];null!==b&&c!==b&&function(o,a){const c=o[9];a[16]!==a[3][3][16]&&(o[2]=!0),null===c?o[9]=[a]:c.push(a)}(b,a);const w=a[19];null!==w&&w.insertView(o),a[2]|=128}(f,h,b,m);const w=o0(m,b),T=h[11],A=Ym(T,b[7]);return null!==A&&function(o,a,c,h,f,m){h[0]=f,h[6]=a,ic(o,h,c,1,f,m)}(f,b[6],T,h,A,w),a.attachToViewContainerRef(),fa(Lh(b),m,a),a}move(a,c){return this.insert(a,c)}indexOf(a){const c=s1(this._lContainer);return null!==c?c.indexOf(a):-1}remove(a){const c=this._adjustIndex(a,-1),h=Wm(this._lContainer,c);h&&(Ro(Lh(this._lContainer),c),TE(h[1],h))}detach(a){const c=this._adjustIndex(a,-1),h=Wm(this._lContainer,c);return h&&null!=Ro(Lh(this._lContainer),c)?new gg(h):null}_adjustIndex(a,c=0){return null==a?this.length+c:a}};function s1(o){return o[8]}function Lh(o){return o[8]||(o[8]=[])}function Vh(o,a){let c;const h=a[o.index];if(Li(h))c=h;else{let f;if(8&o.type)f=dn(h);else{const m=a[11];f=m.createComment("");const b=Fr(o,a);Ol(m,Ym(m,b),f,function(o,a){return cn(o)?o.nextSibling(a):a.nextSibling}(m,b),!1)}a[o.index]=c=L0(h,a,f,o),Bl(a,c)}return new kD(c,o,a)}const Bh={};class M1 extends xh{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const c=or(a);return new wg(c,this.ngModule)}}function x1(o){const a=[];for(let c in o)o.hasOwnProperty(c)&&a.push({propName:o[c],templateName:c});return a}const R1=new pn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>ec});class wg extends Ha{constructor(a,c){super(),this.componentDef=a,this.ngModule=c,this.componentType=a.type,this.selector=a.selectors.map(ge).join(","),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return x1(this.componentDef.inputs)}get outputs(){return x1(this.componentDef.outputs)}create(a,c,h,f){const m=(f=f||this.ngModule)?function(o,a){return{get:(c,h,f)=>{const m=o.get(c,Bh,f);return m!==Bh||h===Bh?m:a.get(c,h,f)}}}(a,f.injector):a,b=m.get(pg,qs),w=m.get(ey,null),T=b.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",N=h?function(o,a,c){if(cn(o))return o.selectRootElement(a,c===Fe.ShadowDom);let h="string"==typeof a?o.querySelector(a):a;return h.textContent="",h}(T,h,this.componentDef.encapsulation):t0(b.createRenderer(null,this.componentDef),A,function(o){const a=o.toLowerCase();return"svg"===a?Nu:"math"===a?"http://www.w3.org/1998/MathML/":null}(A)),R=this.componentDef.onPush?576:528,P=function(o,a){return{components:[],scheduler:o||ec,clean:lc,playerHandler:a||null,flags:0}}(),B=dr(0,null,null,1,0,null,null,null,null,null),z=Tp(null,B,P,R,null,null,b,T,w,m);let ne,J;vd(z);try{const Me=function(o,a,c,h,f,m){const b=c[1];c[20]=o;const T=oc(b,20,2,"#host",null),A=T.mergedAttrs=a.hostAttrs;null!==A&&(Rp(T,A,!0),null!==o&&(ws(f,o,A),null!==T.classes&&l0(f,o,T.classes),null!==T.styles&&RE(f,o,T.styles)));const N=h.createRenderer(o,a),R=Tp(c,qE(a),null,a.onPush?64:16,c[20],T,h,N,m||null,null);return b.firstCreatePass&&(Zt(Ys(T,c),b,a.type),Sp(b,T),QE(T,c.length,1)),Bl(c,R),c[20]=R}(N,this.componentDef,z,b,T);if(N)if(h)ws(T,N,["ng-version",ny.full]);else{const{attrs:we,classes:et}=function(o){const a=[],c=[];let h=1,f=2;for(;h<o.length;){let m=o[h];if("string"==typeof m)2===f?""!==m&&a.push(m,o[++h]):8===f&&c.push(m);else{if(!no(f))break;f=m}h++}return{attrs:a,classes:c}}(this.componentDef.selectors[0]);we&&ws(T,N,we),et&&et.length>0&&l0(T,N,et.join(" "))}if(J=hd(B,20),void 0!==c){const we=J.projection=[];for(let et=0;et<this.ngContentSelectors.length;et++){const ft=c[et];we.push(null!=ft?Array.from(ft):null)}}ne=function(o,a,c,h,f){const m=c[1],b=function(o,a,c){const h=rn();o.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),P0(o,h,a,Vl(o,a,1,null),c));const f=Tn(a,o,h.directiveStart,h);ur(f,a);const m=Fr(h,a);return m&&ur(m,a),f}(m,c,a);if(h.components.push(b),o[8]=b,f&&f.forEach(T=>T(b,a)),a.contentQueries){const T=rn();a.contentQueries(1,b,T.directiveStart)}const w=rn();return!m.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(_l(w.index),KE(c[1],w,0,w.directiveStart,w.directiveEnd,a),hr(a,b)),b}(Me,this.componentDef,z,P,[jp]),ac(B,z,null)}finally{Pu()}return new kN(this.componentType,ne,Rc(J,z),z,J)}}class kN extends class{}{constructor(a,c,h,f,m){super(),this.location=h,this._rootLView=f,this._tNode=m,this.instance=c,this.hostView=this.changeDetectorRef=new t1(f),this.componentType=a}get injector(){return new So(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}const Hc=new Map;class by extends Ga{constructor(a,c){super(),this._parent=c,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new M1(this);const h=Pi(a),f=a[_t]||null;f&&H_(f),this._bootstrapComponents=$i(h.bootstrap),this._r3Injector=nh(a,c,[{provide:Ga,useValue:this},{provide:xh,useValue:this.componentFactoryResolver}],K(a)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(a)}get(a,c=Xt.THROW_IF_NOT_FOUND,h=Xe.Default){return a===Xt||a===Ga||a===jl?this:this._r3Injector.get(a,c,h)}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class Eg extends oy{constructor(a){super(),this.moduleType=a,null!==Pi(a)&&function(o){const a=new Set;!function c(h){const f=Pi(h,!0),m=f.id;null!==m&&(function(o,a,c){if(a&&a!==c)throw new Error(`Duplicate module registered for ${o} - ${K(a)} vs ${K(a.name)}`)}(m,Hc.get(m),h),Hc.set(m,h));const b=$i(f.imports);for(const w of b)a.has(w)||(a.add(w),c(w))}(o)}(a)}create(a){return new by(this.moduleType,a)}}function wy(o,a,c,h){return L1(Ae(),xn(),o,a,c,h)}function P1(o,a,c,h,f){return function(o,a,c,h,f,m,b){const w=a+c;return ql(o,w,f,m)?Ho(o,w+2,b?h.call(b,f,m):h(f,m)):Cg(o,w+2)}(Ae(),xn(),o,a,c,h,f)}function Ey(o,a,c,h,f,m){return function(o,a,c,h,f,m,b,w){const T=a+c;return function(o,a,c,h,f){const m=ql(o,a,c,h);return Jn(o,a+2,f)||m}(o,T,f,m,b)?Ho(o,T+3,w?h.call(w,f,m,b):h(f,m,b)):Cg(o,T+3)}(Ae(),xn(),o,a,c,h,f,m)}function Cg(o,a){const c=o[a];return c===gt?void 0:c}function L1(o,a,c,h,f,m){const b=a+c;return Jn(o,b,f)?Ho(o,b+1,m?h.call(m,f):h(f)):Cg(o,b+1)}function dT(o,a){const c=Nt();let h;const f=o+20;c.firstCreatePass?(h=function(o,a){if(a)for(let c=a.length-1;c>=0;c--){const h=a[c];if(o===h.name)return h}throw new Ee("302",`The pipe '${o}' could not be found!`)}(a,c.pipeRegistry),c.data[f]=h,h.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(f,h.onDestroy)):h=c.data[f];const m=h.factory||(h.factory=Eo(h.type)),b=es(ks);try{const w=Cd(!1),T=m();return Cd(w),function(o,a,c,h){c>=o.data.length&&(o.data[c]=null,o.blueprint[c]=null),a[c]=h}(c,Ae(),f,T),T}finally{es(b)}}function V1(o,a,c){const h=o+20,f=Ae(),m=Do(f,h);return function(o,a){Rs.isWrapped(a)&&(a=Rs.unwrap(a),o[ss()]=gt);return a}(f,function(o,a){return o[1].data[a].pure}(f,h)?L1(f,xn(),a,m.transform,c,m):m.transform(c))}function Cy(o){return a=>{setTimeout(o,void 0,a)}}const Ki=class extends u.xQ{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,c,h){var f,m,b;let w=a,T=c||(()=>null),A=h;if(a&&"object"==typeof a){const R=a;w=null===(f=R.next)||void 0===f?void 0:f.bind(R),T=null===(m=R.error)||void 0===m?void 0:m.bind(R),A=null===(b=R.complete)||void 0===b?void 0:b.bind(R)}this.__isAsync&&(T=Cy(T),w&&(w=Cy(w)),A&&(A=Cy(A)));const N=super.subscribe({next:w,error:T,complete:A});return a instanceof X.w&&a.add(N),N}};function VN(){return this._results[fc()]()}class tn{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=fc(),h=tn.prototype;h[c]||(h[c]=VN)}get changes(){return this._changes||(this._changes=new Ki)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,c){return this._results.reduce(a,c)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,c){const h=this;h.dirty=!1;const f=ji(a);(this._changesDetected=!function(o,a,c){if(o.length!==a.length)return!1;for(let h=0;h<o.length;h++){let f=o[h],m=a[h];if(c&&(f=c(f),m=c(m)),m!==f)return!1}return!0}(h._results,f,c))&&(h._results=f,h.length=f.length,h.last=f[this.length-1],h.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class B1{constructor(a){this.queryList=a,this.matches=null}clone(){return new B1(this.queryList)}setDirty(){this.queryList.setDirty()}}class Hh{constructor(a=[]){this.queries=a}createEmbeddedView(a){const c=a.queries;if(null!==c){const h=null!==a.contentQueries?a.contentQueries[0]:c.length,f=[];for(let m=0;m<h;m++){const b=c.getByIndex(m);f.push(this.queries[b.indexInDeclarationView].clone())}return new Hh(f)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let c=0;c<this.queries.length;c++)null!==ET(a,c).matches&&this.queries[c].setDirty()}}class j1{constructor(a,c,h=null){this.predicate=a,this.flags=c,this.read=h}}class Dy{constructor(a=[]){this.queries=a}elementStart(a,c){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(a,c)}elementEnd(a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(a)}embeddedTView(a){let c=null;for(let h=0;h<this.length;h++){const f=null!==c?c.length:0,m=this.getByIndex(h).embeddedTView(a,f);m&&(m.indexInDeclarationView=h,null!==c?c.push(m):c=[m])}return null!==c?new Dy(c):null}template(a,c){for(let h=0;h<this.queries.length;h++)this.queries[h].template(a,c)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class $1{constructor(a,c=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(a,c){this.isApplyingToNode(c)&&this.matchTNode(a,c)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,c){this.elementStart(a,c)}embeddedTView(a,c){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,c),new $1(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let h=a.parent;for(;null!==h&&8&h.type&&h.index!==c;)h=h.parent;return c===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(a,c){const h=this.metadata.predicate;if(Array.isArray(h))for(let f=0;f<h.length;f++){const m=h[f];this.matchTNodeWithReadOption(a,c,H1(c,m)),this.matchTNodeWithReadOption(a,c,Ao(c,a,m,!1,!1))}else h===Fh?4&c.type&&this.matchTNodeWithReadOption(a,c,-1):this.matchTNodeWithReadOption(a,c,Ao(c,a,h,!1,!1))}matchTNodeWithReadOption(a,c,h){if(null!==h){const f=this.metadata.read;if(null!==f)if(f===Hr||f===_g||f===Fh&&4&c.type)this.addMatch(c.index,-2);else{const m=Ao(c,a,f,!1,!1);null!==m&&this.addMatch(c.index,m)}else this.addMatch(c.index,h)}}addMatch(a,c){null===this.matches?this.matches=[a,c]:this.matches.push(a,c)}}function H1(o,a){const c=o.localNames;if(null!==c)for(let h=0;h<c.length;h+=2)if(c[h]===a)return c[h+1];return null}function jN(o,a,c,h){return-1===c?function(o,a){return 11&o.type?Rc(o,a):4&o.type?Oc(o,a):null}(a,o):-2===c?function(o,a,c){return c===Hr?Rc(a,o):c===Fh?Oc(a,o):c===_g?Vh(a,o):void 0}(o,a,h):Tn(o,o[1],c,a)}function $N(o,a,c,h){const f=a[19].queries[h];if(null===f.matches){const m=o.data,b=c.matches,w=[];for(let T=0;T<b.length;T+=2){const A=b[T];w.push(A<0?null:jN(a,m[A],b[T+1],c.metadata.read))}f.matches=w}return f.matches}function mT(o,a,c,h){const f=o.queries.getByIndex(c),m=f.matches;if(null!==m){const b=$N(o,a,f,c);for(let w=0;w<m.length;w+=2){const T=m[w];if(T>0)h.push(b[w/2]);else{const A=m[w+1],N=a[-T];for(let R=10;R<N.length;R++){const P=N[R];P[17]===P[3]&&mT(P[1],P,A,h)}if(null!==N[9]){const R=N[9];for(let P=0;P<R.length;P++){const B=R[P];mT(B[1],B,A,h)}}}}}return h}function tr(o){const a=Ae(),c=Nt(),h=om();Ou(h+1);const f=ET(c,h);if(o.dirty&&Df(a)===(2==(2&f.metadata.flags))){if(null===f.matches)o.reset([]);else{const m=f.crossesNgTemplate?mT(c,a,h,[]):$N(c,a,f,h);o.reset(m,fg),o.notifyOnChanges()}return!0}return!1}function G1(o,a,c){const h=Nt();h.firstCreatePass&&(wT(h,new j1(o,a,c),-1),2==(2&a)&&(h.staticViewQueries=!0)),bT(h,Ae(),a)}function _T(o,a,c,h){const f=Nt();if(f.firstCreatePass){const m=rn();wT(f,new j1(a,c,h),m.index),function(o,a){const c=o.contentQueries||(o.contentQueries=[]);a!==(c.length?c[c.length-1]:-1)&&c.push(o.queries.length-1,a)}(f,o),2==(2&c)&&(f.staticContentQueries=!0)}bT(f,Ae(),c)}function yT(){return o=Ae(),a=om(),o[19].queries[a].queryList;var o,a}function bT(o,a,c){const h=new tn(4==(4&c));WE(o,a,h,h.destroy),null===a[19]&&(a[19]=new Hh),a[19].queries.push(new B1(h))}function wT(o,a,c){null===o.queries&&(o.queries=new Dy),o.queries.track(new $1(a,c))}function ET(o,a){return o.queries.getByIndex(a)}function GN(o,a){return Oc(o,a)}const Q1=new pn("Application Initializer");let lo=(()=>{class o{constructor(c){this.appInits=c,this.resolve=xc,this.reject=xc,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,f)=>{this.resolve=h,this.reject=f})}runInitializers(){if(this.initialized)return;const c=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const m=this.appInits[f]();if(x_(m))c.push(m);else if(Qp(m)){const b=new Promise((w,T)=>{m.subscribe({complete:w,error:T})});c.push(b)}}Promise.all(c).then(()=>{h()}).catch(f=>{this.reject(f)}),0===c.length&&h(),this.initialized=!0}}return o.\u0275fac=function(c){return new(c||o)(on(Q1,8))},o.\u0275prov=Kt({token:o,factory:o.\u0275fac}),o})();const Py=new pn("AppId"),uM={provide:Py,useFactory:function(){return`${J1()}${J1()}${J1()}`},deps:[]};function J1(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const FT=new pn("Platform Initializer"),LT=new pn("Platform ID"),VT=new pn("appBootstrapListener");let cM=(()=>{class o{log(c){console.log(c)}warn(c){console.warn(c)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=Kt({token:o,factory:o.\u0275fac}),o})();const Fy=new pn("LocaleId"),UT=new pn("DefaultCurrencyCode");class hM{constructor(a,c){this.ngModuleFactory=a,this.componentFactories=c}}const Yh=function(o){return new Eg(o)},pM=Yh,Zc=function(o){return Promise.resolve(Yh(o))},oi=function(o){const a=Yh(o),h=$i(Pi(o).declarations).reduce((f,m)=>{const b=or(m);return b&&f.push(new wg(b)),f},[]);return new hM(a,h)},$T=oi,Ig=function(o){return Promise.resolve(oi(o))};let _r=(()=>{class o{constructor(){this.compileModuleSync=pM,this.compileModuleAsync=Zc,this.compileModuleAndAllComponentsSync=$T,this.compileModuleAndAllComponentsAsync=Ig}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=Kt({token:o,factory:o.\u0275fac}),o})();const Kh=(()=>Promise.resolve(0))();function tl(o){"undefined"==typeof Zone?Kh.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class yr{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ki(!1),this.onMicrotaskEmpty=new Ki(!1),this.onStable=new Ki(!1),this.onError=new Ki(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!h&&c,f.shouldCoalesceRunChangeDetection=h,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function(){let o=en.requestAnimationFrame,a=en.cancelAnimationFrame;if("undefined"!=typeof Zone&&o&&a){const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c);const h=a[Zone.__symbol__("OriginalDelegate")];h&&(a=h)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function(o){const a=()=>{!function(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(en,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,zc(o),o.isCheckStableRunning=!0,tw(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),zc(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,h,f,m,b,w)=>{try{return HT(o),c.invokeTask(f,m,b,w)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||o.shouldCoalesceRunChangeDetection)&&a(),GT(o)}},onInvoke:(c,h,f,m,b,w,T)=>{try{return HT(o),c.invoke(f,m,b,w,T)}finally{o.shouldCoalesceRunChangeDetection&&a(),GT(o)}},onHasTask:(c,h,f,m)=>{c.hasTask(f,m),h===f&&("microTask"==m.change?(o._hasPendingMicrotasks=m.microTask,zc(o),tw(o)):"macroTask"==m.change&&(o.hasPendingMacrotasks=m.macroTask))},onHandleError:(c,h,f,m)=>(c.handleError(f,m),o.runOutsideAngular(()=>o.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!yr.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(yr.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(a,c,h){return this._inner.run(a,c,h)}runTask(a,c,h,f){const m=this._inner,b=m.scheduleEventTask("NgZoneEvent: "+f,a,vM,xc,xc);try{return m.runTask(b,c,h)}finally{m.cancelTask(b)}}runGuarded(a,c,h){return this._inner.runGuarded(a,c,h)}runOutsideAngular(a){return this._outer.run(a)}}const vM={};function tw(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function zc(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function HT(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function GT(o){o._nesting--,tw(o)}class wM{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ki,this.onMicrotaskEmpty=new Ki,this.onStable=new Ki,this.onError=new Ki}run(a,c,h){return a.apply(c,h)}runGuarded(a,c,h){return a.apply(c,h)}runOutsideAngular(a){return a()}runTask(a,c,h,f){return a.apply(c,h)}}let qT=(()=>{class o{constructor(c){this._ngZone=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{yr.assertNotInAngularZone(),tl(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())tl(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(c)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,h,f){let m=-1;h&&h>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==m),c(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:c,timeoutId:m,updateCb:f})}whenStable(c,h,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,h,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(c,h,f){return[]}}return o.\u0275fac=function(c){return new(c||o)(on(yr))},o.\u0275prov=Kt({token:o,factory:o.\u0275fac}),o})(),rw=(()=>{class o{constructor(){this._applications=new Map,Ag.addToWindow(this)}registerApplication(c,h){this._applications.set(c,h)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,h=!0){return Ag.findTestabilityInTree(this,c,h)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=Kt({token:o,factory:o.\u0275fac}),o})();class EM{addToWindow(a){}findTestabilityInTree(a,c,h){return null}}function ZT(o){Ag=o}let Ag=new EM,Uy=!0,zT=!1;function By(){return zT=!0,Uy}function WT(){if(zT)throw new Error("Cannot enable prod mode after platform setup.");Uy=!1}let Us;const jy=new pn("AllowMultipleToken");class $y{constructor(a,c){this.name=a,this.token=c}}function JT(o,a,c=[]){const h=`Platform: ${a}`,f=new pn(h);return(m=[])=>{let b=ow();if(!b||b.injector.get(jy,!1))if(o)o(c.concat(m).concat({provide:f,useValue:!0}));else{const w=c.concat(m).concat({provide:f,useValue:!0},{provide:th,useValue:"platform"});!function(o){if(Us&&!Us.destroyed&&!Us.injector.get(jy,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Us=o.get(aw);const a=o.get(FT,null);a&&a.forEach(c=>c())}(Xt.create({providers:w,name:h}))}return function(o){const a=ow();if(!a)throw new Error("No platform exists!");if(!a.injector.get(o,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return a}(f)}}function ow(){return Us&&!Us.destroyed?Us:null}let aw=(()=>{class o{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,h){const w=function(o,a){let c;return c="noop"===o?new wM:("zone.js"===o?void 0:o)||new yr({enableLongStackTrace:By(),shouldCoalesceEventChangeDetection:!!(null==a?void 0:a.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==a?void 0:a.ngZoneRunCoalescing)}),c}(h?h.ngZone:void 0,{ngZoneEventCoalescing:h&&h.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:h&&h.ngZoneRunCoalescing||!1}),T=[{provide:yr,useValue:w}];return w.run(()=>{const A=Xt.create({providers:T,parent:this.injector,name:c.moduleType.name}),N=c.create(A),R=N.injector.get(_,null);if(!R)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return w.runOutsideAngular(()=>{const P=w.onError.subscribe({next:B=>{R.handleError(B)}});N.onDestroy(()=>{uw(this._modules,N),P.unsubscribe()})}),function(o,a,c){try{const h=c();return x_(h)?h.catch(f=>{throw a.runOutsideAngular(()=>o.handleError(f)),f}):h}catch(h){throw a.runOutsideAngular(()=>o.handleError(h)),h}}(R,w,()=>{const P=N.injector.get(lo);return P.runInitializers(),P.donePromise.then(()=>(H_(N.injector.get(Fy,vh)||vh),this._moduleDoBootstrap(N),N))})})}bootstrapModule(c,h=[]){const f=lw({},h);return function(o,a,c){const h=new Eg(c);return Promise.resolve(h)}(0,0,c).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(c){const h=c.injector.get(Qh);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(f=>h.bootstrap(f));else{if(!c.instance.ngDoBootstrap)throw new Error(`The module ${K(c.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);c.instance.ngDoBootstrap(h)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(c){return new(c||o)(on(Xt))},o.\u0275prov=Kt({token:o,factory:o.\u0275fac}),o})();function lw(o,a){return Array.isArray(a)?a.reduce(lw,o):Object.assign(Object.assign({},o),a)}let Qh=(()=>{class o{constructor(c,h,f,m,b){this._zone=c,this._injector=h,this._exceptionHandler=f,this._componentFactoryResolver=m,this._initStatus=b,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new H.y(A=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{A.next(this._stable),A.complete()})}),T=new H.y(A=>{let N;this._zone.runOutsideAngular(()=>{N=this._zone.onStable.subscribe(()=>{yr.assertNotInAngularZone(),tl(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,A.next(!0))})})});const R=this._zone.onUnstable.subscribe(()=>{yr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{A.next(!1)}))});return()=>{N.unsubscribe(),R.unsubscribe()}});this.isStable=(0,ve.T)(w,T.pipe((0,fe.B)()))}bootstrap(c,h){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let f;f=c instanceof Ha?c:this._componentFactoryResolver.resolveComponentFactory(c),this.componentTypes.push(f.componentType);const m=function(o){return o.isBoundToModule}(f)?void 0:this._injector.get(Ga),w=f.create(Xt.NULL,[],h||f.selector,m),T=w.location.nativeElement,A=w.injector.get(qT,null),N=A&&w.injector.get(rw);return A&&N&&N.registerApplication(T,A),w.onDestroy(()=>{this.detachView(w.hostView),uw(this.components,w),N&&N.unregisterApplication(T)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const h=c;this._views.push(h),h.attachToAppRef(this)}detachView(c){const h=c;uw(this._views,h),h.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(VT,[]).concat(this._bootstrapListeners).forEach(f=>f(c))}ngOnDestroy(){this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return o.\u0275fac=function(c){return new(c||o)(on(yr),on(Xt),on(_),on(xh),on(lo))},o.\u0275prov=Kt({token:o,factory:o.\u0275fac}),o})();function uw(o,a){const c=o.indexOf(a);c>-1&&o.splice(c,1)}class nI{}class pu{}const sI={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let oI=(()=>{class o{constructor(c,h){this._compiler=c,this._config=h||sI}load(c){return this.loadAndCompile(c)}loadAndCompile(c){let[h,f]=c.split("#");return void 0===f&&(f="default"),L(8255)(h).then(m=>m[f]).then(m=>aI(m,h,f)).then(m=>this._compiler.compileModuleAsync(m))}loadFactory(c){let[h,f]=c.split("#"),m="NgFactory";return void 0===f&&(f="default",m=""),L(8255)(this._config.factoryPathPrefix+h+this._config.factoryPathSuffix).then(b=>b[f+m]).then(b=>aI(b,h,f))}}return o.\u0275fac=function(c){return new(c||o)(on(_r),on(pu,8))},o.\u0275prov=Kt({token:o,factory:o.\u0275fac}),o})();function aI(o,a,c){if(!o)throw new Error(`Cannot find '${c}' in '${a}'`);return o}const ai=function(o){return null},Zy=JT(null,"core",[{provide:LT,useValue:"unknown"},{provide:aw,deps:[Xt]},{provide:rw,deps:[]},{provide:cM,deps:[]}]),FM=[{provide:Qh,useClass:Qh,deps:[yr,Xt,_,xh,lo]},{provide:R1,deps:[yr],useFactory:function(o){let a=[];return o.onStable.subscribe(()=>{for(;a.length;)a.pop()()}),function(c){a.push(c)}}},{provide:lo,useClass:lo,deps:[[new Ts,Q1]]},{provide:_r,useClass:_r,deps:[]},uM,{provide:kc,useFactory:function(){return nN},deps:[]},{provide:iy,useFactory:function(){return rN},deps:[]},{provide:Fy,useFactory:function(o){return H_(o=o||"undefined"!=typeof $localize&&$localize.locale||vh),o},deps:[[new ma(Fy),new Ts,new ar]]},{provide:UT,useValue:"USD"}];let LM=(()=>{class o{constructor(c){}}return o.\u0275fac=function(c){return new(c||o)(on(Qh))},o.\u0275mod=id({type:o}),o.\u0275inj=xt({providers:FM}),o})()},8939:(Ge,Ce,L)=>{"use strict";L.d(Ce,{hO:()=>oe,xv:()=>j,Dh:()=>K,GT:()=>Q,on:()=>F,pX:()=>fe});var u=L(7716),X=L(7841),H=L(9126);Ge=L.hmd(Ge);const ve=["ngOnDestroy"],fe=(be,Ee,de,Ie={})=>new Proxy(be,{get:(he,ye)=>de.runOutsideAngular(()=>{var Le;if(be[ye])return(null===(Le=null==Ie?void 0:Ie.spy)||void 0===Le?void 0:Le.get)&&Ie.spy.get(ye,be[ye]),be[ye];if(ve.indexOf(ye)>-1)return()=>{};const Be=Ee.toPromise().then(at=>{const Lt=at&&at[ye];return"function"==typeof Lt?Lt.bind(at):Lt&&Lt.then?Lt.then(Mt=>de.run(()=>Mt)):de.run(()=>Lt)});return new Proxy(()=>{},{get:(at,Lt)=>Be[Lt],apply:(at,Lt,Mt)=>Be.then(Vt=>{var Te;const se=Vt&&Vt(...Mt);return(null===(Te=null==Ie?void 0:Ie.spy)||void 0===Te?void 0:Te.apply)&&Ie.spy.apply(ye,Mt,se),se})})})}),Q=(be,Ee)=>{Ee.forEach(de=>{Object.getOwnPropertyNames(de.prototype||de).forEach(Ie=>{Object.defineProperty(be.prototype,Ie,Object.getOwnPropertyDescriptor(de.prototype||de,Ie))})})};class ie{constructor(Ee){return Ee}}const K=new u.OlP("angularfire2.app.options"),j=new u.OlP("angularfire2.app.name");function F(be,Ee,de){const he="object"==typeof de&&de||{};he.name=he.name||"string"==typeof de&&de||"[DEFAULT]";const Le=X.Z.apps.filter(Be=>Be&&Be.name===he.name)[0]||Ee.runOutsideAngular(()=>X.Z.initializeApp(be,he));try{JSON.stringify(be)!==JSON.stringify(Le.options)&&U("error",`${Le.name} Firebase App already initialized with different options${Ge.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Be){}return new ie(Le)}const U=(be,...Ee)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[be](...Ee)},$={provide:ie,useFactory:F,deps:[K,u.R0b,[new u.FiY,j]]};let oe=(()=>{class be{constructor(de){X.Z.registerVersion("angularfire",H.q4.full,"core"),X.Z.registerVersion("angularfire",H.q4.full,"app-compat"),X.Z.registerVersion("angular",u.q4F.full,de.toString())}static initializeApp(de,Ie){return{ngModule:be,providers:[{provide:K,useValue:de},{provide:j,useValue:Ie}]}}}return be.\u0275fac=function(de){return new(de||be)(u.LFG(u.Lbi))},be.\u0275mod=u.oAB({type:be}),be.\u0275inj=u.cJS({providers:[$]}),be})()},9126:(Ge,Ce,L)=>{"use strict";L.d(Ce,{q4:()=>F,iC:()=>se,fc:()=>Vt,HU:()=>Be,cc:()=>oe});var u=L(7716);(0,L(5452).registerVersion)("firebase","9.1.1","app");var fe=L(7771),Q=L(3637),ie=L(8307),K=L(9746),j=L(2639);Ge=L.hmd(Ge);const F=new u.GfV("7.0.4"),U=!!Ge.hot,$=(ue,...ee)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[ue](...ee)};function oe(ue,ee,ke,We,Ct){const[,rt,Je]=globalThis.\u0275AngularfireInstanceCache.find(ut=>ut[0]===ue)||[];if(rt)return function(ue,ee){try{return ue.toString()===ee.toString()}catch(ke){return ue===ee}}(Ct,Je)||($("error",`${ee} was already initialized on the ${ke} Firebase App with different settings.${U?" You may need to reload as Firebase is not HMR aware.":""}`),$("warn",{is:Ct,was:Je})),rt;{const ut=We();return globalThis.\u0275AngularfireInstanceCache.push([ue,ut,Ct]),ut}}function he(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class ye{constructor(ee,ke=fe.N){this.zone=ee,this.delegate=ke}now(){return this.delegate.now()}schedule(ee,ke,We){const Ct=this.zone;return this.delegate.schedule(function(Je){Ct.runGuarded(()=>{ee.apply(this,[Je])})},ke,We)}}class Le{constructor(ee){this.zone=ee,this.task=null}call(ee,ke){const We=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",he,{},he,he)),ke.pipe((0,ie.b)({next:We,complete:We,error:We})).subscribe(ee).add(We)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Be=(()=>{class ue{constructor(ke){this.ngZone=ke,this.outsideAngular=ke.runOutsideAngular(()=>new ye(Zone.current)),this.insideAngular=ke.run(()=>new ye(Zone.current,Q.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return ue.\u0275fac=function(ke){return new(ke||ue)(u.LFG(u.R0b))},ue.\u0275prov=u.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"}),ue})();function at(){const ue=globalThis.\u0275AngularFireScheduler;if(!ue)throw new Error("AngularFireModule has not been provided");return ue}function Vt(ue){return ue.pipe((0,K.QV)(at().outsideAngular))}function se(ue){return at(),function(ue){return function(ke){return(ke=ke.lift(new Le(ue.ngZone))).pipe((0,j.R)(ue.outsideAngular),(0,K.QV)(ue.insideAngular))}}(at())(ue)}},4486:(Ge,Ce,L)=>{"use strict";L.d(Ce,{Z:()=>Ee});var u=L(3854),X=L(6034),H=L(5452),ve=L(5601);class fe{constructor(Ie,he){this._delegate=Ie,this.firebase=he,(0,H._addComponent)(Ie,new X.wA("app-compat",()=>this,"PUBLIC")),this.container=Ie.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ie){this._delegate.automaticDataCollectionEnabled=Ie}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ie=>{this._delegate.checkDestroyed(),Ie()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,H.deleteApp)(this._delegate)))}_getService(Ie,he=H._DEFAULT_ENTRY_NAME){var ye;this._delegate.checkDestroyed();const Le=this._delegate.container.getProvider(Ie);return!Le.isInitialized()&&"EXPLICIT"===(null===(ye=Le.getComponent())||void 0===ye?void 0:ye.instantiationMode)&&Le.initialize(),Le.getImmediate({identifier:he})}_removeServiceInstance(Ie,he=H._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ie).clearInstance(he)}_addComponent(Ie){(0,H._addComponent)(this._delegate,Ie)}_addOrOverwriteComponent(Ie){(0,H._addOrOverwriteComponent)(this._delegate,Ie)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ie=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),F=function j(){const de=function(de){const Ie={},he={__esModule:!0,initializeApp:function(Vt,Te={}){const se=H.initializeApp(Vt,Te);if((0,u.r3)(Ie,se.name))return Ie[se.name];const le=new de(se,he);return Ie[se.name]=le,le},app:Le,registerVersion:H.registerVersion,setLogLevel:H.setLogLevel,onLog:H.onLog,apps:null,SDK_VERSION:H.SDK_VERSION,INTERNAL:{registerComponent:function(Vt){const Te=Vt.name,se=Te.replace("-compat","");if(H._registerComponent(Vt)&&"PUBLIC"===Vt.type){const le=(_e=Le())=>{if("function"!=typeof _e[se])throw ie.create("invalid-app-argument",{appName:Te});return _e[se]()};void 0!==Vt.serviceProps&&(0,u.ZB)(le,Vt.serviceProps),he[se]=le,de.prototype[se]=function(..._e){return this._getService.bind(this,Te).apply(this,Vt.multipleInstances?_e:[])}}return"PUBLIC"===Vt.type?he[se]:null},removeApp:function(Vt){delete Ie[Vt]},useAsService:function(Vt,Te){return"serverAuth"===Te?null:Te},modularAPIs:H}};function Le(Vt){if(!(0,u.r3)(Ie,Vt=Vt||H._DEFAULT_ENTRY_NAME))throw ie.create("no-app",{appName:Vt});return Ie[Vt]}return he.default=he,Object.defineProperty(he,"apps",{get:function(){return Object.keys(Ie).map(Vt=>Ie[Vt])}}),Le.App=de,he}(fe);return de.INTERNAL=Object.assign(Object.assign({},de.INTERNAL),{createFirebaseNamespace:j,extendNamespace:function(he){(0,u.ZB)(de,he)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),de}(),U=new ve.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){U.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const de=self.firebase.SDK_VERSION;de&&de.indexOf("LITE")>=0&&U.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ee=F;(0,H.registerVersion)("@firebase/app-compat","0.1.3",undefined)},5452:(Ge,Ce,L)=>{"use strict";L.r(Ce),L.d(Ce,{FirebaseError:()=>ve.ZR,SDK_VERSION:()=>Ri,_DEFAULT_ENTRY_NAME:()=>Ct,_addComponent:()=>vn,_addOrOverwriteComponent:()=>Qi,_apps:()=>Je,_clearComponents:()=>xt,_components:()=>ut,_getProvider:()=>Kt,_registerComponent:()=>xi,_removeServiceInstance:()=>an,deleteApp:()=>$s,getApp:()=>js,getApps:()=>ra,initializeApp:()=>_o,onLog:()=>zn,registerVersion:()=>Xe,setLogLevel:()=>Xi});var u=L(8239),X=L(6034),H=L(5601),ve=L(3854);class fe{constructor(it){this.container=it}getPlatformInfoString(){return this.container.getProviders().map(jt=>{if(function(pt){const it=pt.getComponent();return"VERSION"===(null==it?void 0:it.type)}(jt)){const Ut=jt.getImmediate();return`${Ut.library}/${Ut.version}`}return null}).filter(jt=>jt).join(" ")}}const ie="@firebase/app",j=new H.Yd("@firebase/app"),Ct="[DEFAULT]",rt={[ie]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Je=new Map,ut=new Map;function vn(pt,it){try{pt.container.addComponent(it)}catch(jt){j.debug(`Component ${it.name} failed to register with FirebaseApp ${pt.name}`,jt)}}function Qi(pt,it){pt.container.addOrOverwriteComponent(it)}function xi(pt){const it=pt.name;if(ut.has(it))return j.debug(`There were multiple attempts to register component ${it}.`),!1;ut.set(it,pt);for(const jt of Je.values())vn(jt,pt);return!0}function Kt(pt,it){return pt.container.getProvider(it)}function an(pt,it,jt=Ct){Kt(pt,it).clearInstance(jt)}function xt(){ut.clear()}const Ji=new ve.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class na{constructor(it,jt,Ut){this._isDeleted=!1,this._options=Object.assign({},it),this._config=Object.assign({},jt),this._name=jt.name,this._automaticDataCollectionEnabled=jt.automaticDataCollectionEnabled,this._container=Ut,this.container.addComponent(new X.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(it){this.checkDestroyed(),this._automaticDataCollectionEnabled=it}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(it){this._isDeleted=it}checkDestroyed(){if(this.isDeleted)throw Ji.create("app-deleted",{appName:this._name})}}const Ri="9.1.1";function _o(pt,it={}){"object"!=typeof it&&(it={name:it});const jt=Object.assign({name:Ct,automaticDataCollectionEnabled:!1},it),Ut=jt.name;if("string"!=typeof Ut||!Ut)throw Ji.create("bad-app-name",{appName:String(Ut)});const Or=Je.get(Ut);if(Or){if((0,ve.vZ)(pt,Or.options)&&(0,ve.vZ)(jt,Or.config))return Or;throw Ji.create("duplicate-app",{appName:Ut})}const Wt=new X.H0(Ut);for(const st of ut.values())Wt.addComponent(st);const Fe=new na(pt,jt,Wt);return Je.set(Ut,Fe),Fe}function js(pt=Ct){const it=Je.get(pt);if(!it)throw Ji.create("no-app",{appName:pt});return it}function ra(){return Array.from(Je.values())}function $s(pt){return ia.apply(this,arguments)}function ia(){return(ia=(0,u.Z)(function*(pt){const it=pt.name;Je.has(it)&&(Je.delete(it),yield Promise.all(pt.container.getProviders().map(jt=>jt.delete())),pt.isDeleted=!0)})).apply(this,arguments)}function Xe(pt,it,jt){var Ut;let Or=null!==(Ut=rt[pt])&&void 0!==Ut?Ut:pt;jt&&(Or+=`-${jt}`);const Wt=Or.match(/\s|\//),Fe=it.match(/\s|\//);if(Wt||Fe){const st=[`Unable to register library "${Or}" with version "${it}":`];return Wt&&st.push(`library name "${Or}" contains illegal characters (whitespace or "/")`),Wt&&Fe&&st.push("and"),Fe&&st.push(`version name "${it}" contains illegal characters (whitespace or "/")`),void j.warn(st.join(" "))}xi(new X.wA(`${Or}-version`,()=>({library:Or,version:it}),"VERSION"))}function zn(pt,it){if(null!==pt&&"function"!=typeof pt)throw Ji.create("invalid-log-argument");(0,H.Am)(pt,it)}function Xi(pt){(0,H.Ub)(pt)}xi(new X.wA("platform-logger",it=>new fe(it),"PRIVATE")),Xe(ie,"0.7.2",undefined),Xe("fire-js","")},6034:(Ge,Ce,L)=>{"use strict";L.d(Ce,{wA:()=>H,H0:()=>K});var u=L(4762),X=L(3854),H=function(){function j(F,U,$){this.name=F,this.instanceFactory=U,this.type=$,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return j.prototype.setInstantiationMode=function(F){return this.instantiationMode=F,this},j.prototype.setMultipleInstances=function(F){return this.multipleInstances=F,this},j.prototype.setServiceProps=function(F){return this.serviceProps=F,this},j.prototype.setInstanceCreatedCallback=function(F){return this.onInstanceCreated=F,this},j}(),ve="[DEFAULT]",fe=function(){function j(F,U){this.name=F,this.container=U,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return j.prototype.get=function(F){var U=this.normalizeInstanceIdentifier(F);if(!this.instancesDeferred.has(U)){var $=new X.BH;if(this.instancesDeferred.set(U,$),this.isInitialized(U)||this.shouldAutoInitialize())try{var oe=this.getOrInitializeService({instanceIdentifier:U});oe&&$.resolve(oe)}catch(be){}}return this.instancesDeferred.get(U).promise},j.prototype.getImmediate=function(F){var U,$=this.normalizeInstanceIdentifier(null==F?void 0:F.identifier),oe=null!==(U=null==F?void 0:F.optional)&&void 0!==U&&U;if(!this.isInitialized($)&&!this.shouldAutoInitialize()){if(oe)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:$})}catch(be){if(oe)return null;throw be}},j.prototype.getComponent=function(){return this.component},j.prototype.setComponent=function(F){var U,$;if(F.name!==this.name)throw Error("Mismatching Component "+F.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=F,this.shouldAutoInitialize()){if(function(j){return"EAGER"===j.instantiationMode}(F))try{this.getOrInitializeService({instanceIdentifier:ve})}catch(Le){}try{for(var oe=(0,u.XA)(this.instancesDeferred.entries()),be=oe.next();!be.done;be=oe.next()){var Ee=(0,u.CR)(be.value,2),Ie=Ee[1],he=this.normalizeInstanceIdentifier(Ee[0]);try{var ye=this.getOrInitializeService({instanceIdentifier:he});Ie.resolve(ye)}catch(Le){}}}catch(Le){U={error:Le}}finally{try{be&&!be.done&&($=oe.return)&&$.call(oe)}finally{if(U)throw U.error}}}},j.prototype.clearInstance=function(F){void 0===F&&(F=ve),this.instancesDeferred.delete(F),this.instancesOptions.delete(F),this.instances.delete(F)},j.prototype.delete=function(){return(0,u.mG)(this,void 0,void 0,function(){var F;return(0,u.Jh)(this,function(U){switch(U.label){case 0:return F=Array.from(this.instances.values()),[4,Promise.all((0,u.ev)((0,u.ev)([],(0,u.CR)(F.filter(function($){return"INTERNAL"in $}).map(function($){return $.INTERNAL.delete()}))),(0,u.CR)(F.filter(function($){return"_delete"in $}).map(function($){return $._delete()}))))];case 1:return U.sent(),[2]}})})},j.prototype.isComponentSet=function(){return null!=this.component},j.prototype.isInitialized=function(F){return void 0===F&&(F=ve),this.instances.has(F)},j.prototype.getOptions=function(F){return void 0===F&&(F=ve),this.instancesOptions.get(F)||{}},j.prototype.initialize=function(F){var U,$;void 0===F&&(F={});var oe=F.options,be=void 0===oe?{}:oe,Ee=this.normalizeInstanceIdentifier(F.instanceIdentifier);if(this.isInitialized(Ee))throw Error(this.name+"("+Ee+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var de=this.getOrInitializeService({instanceIdentifier:Ee,options:be});try{for(var Ie=(0,u.XA)(this.instancesDeferred.entries()),he=Ie.next();!he.done;he=Ie.next()){var ye=(0,u.CR)(he.value,2),Be=ye[1];Ee===this.normalizeInstanceIdentifier(ye[0])&&Be.resolve(de)}}catch(Lt){U={error:Lt}}finally{try{he&&!he.done&&($=Ie.return)&&$.call(Ie)}finally{if(U)throw U.error}}return de},j.prototype.onInit=function(F,U){var $,oe=this.normalizeInstanceIdentifier(U),be=null!==($=this.onInitCallbacks.get(oe))&&void 0!==$?$:new Set;be.add(F),this.onInitCallbacks.set(oe,be);var Ee=this.instances.get(oe);return Ee&&F(Ee,oe),function(){be.delete(F)}},j.prototype.invokeOnInitCallbacks=function(F,U){var $,oe,be=this.onInitCallbacks.get(U);if(be)try{for(var Ee=(0,u.XA)(be),de=Ee.next();!de.done;de=Ee.next()){var Ie=de.value;try{Ie(F,U)}catch(he){}}}catch(he){$={error:he}}finally{try{de&&!de.done&&(oe=Ee.return)&&oe.call(Ee)}finally{if($)throw $.error}}},j.prototype.getOrInitializeService=function(F){var U=F.instanceIdentifier,$=F.options,oe=void 0===$?{}:$,be=this.instances.get(U);if(!be&&this.component&&(be=this.component.instanceFactory(this.container,{instanceIdentifier:Q(U),options:oe}),this.instances.set(U,be),this.instancesOptions.set(U,oe),this.invokeOnInitCallbacks(be,U),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,U,be)}catch(Ee){}return be||null},j.prototype.normalizeInstanceIdentifier=function(F){return void 0===F&&(F=ve),this.component?this.component.multipleInstances?F:ve:F},j.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},j}();function Q(j){return j===ve?void 0:j}var K=function(){function j(F){this.name=F,this.providers=new Map}return j.prototype.addComponent=function(F){var U=this.getProvider(F.name);if(U.isComponentSet())throw new Error("Component "+F.name+" has already been registered with "+this.name);U.setComponent(F)},j.prototype.addOrOverwriteComponent=function(F){this.getProvider(F.name).isComponentSet()&&this.providers.delete(F.name),this.addComponent(F)},j.prototype.getProvider=function(F){if(this.providers.has(F))return this.providers.get(F);var U=new fe(F,this);return this.providers.set(F,U),U},j.prototype.getProviders=function(){return Array.from(this.providers.values())},j}()},5601:(Ge,Ce,L)=>{"use strict";L.d(Ce,{in:()=>X,Yd:()=>ie,Ub:()=>K,Am:()=>j});const u=[];var X=(()=>{return(F=X||(X={}))[F.DEBUG=0]="DEBUG",F[F.VERBOSE=1]="VERBOSE",F[F.INFO=2]="INFO",F[F.WARN=3]="WARN",F[F.ERROR=4]="ERROR",F[F.SILENT=5]="SILENT",X;var F})();const H={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},ve=X.INFO,fe={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},Q=(F,U,...$)=>{if(U<F.logLevel)return;const oe=(new Date).toISOString(),be=fe[U];if(!be)throw new Error(`Attempted to log a message with an invalid logType (value: ${U})`);console[be](`[${oe}]  ${F.name}:`,...$)};class ie{constructor(U){this.name=U,this._logLevel=ve,this._logHandler=Q,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(U){if(!(U in X))throw new TypeError(`Invalid value "${U}" assigned to \`logLevel\``);this._logLevel=U}setLogLevel(U){this._logLevel="string"==typeof U?H[U]:U}get logHandler(){return this._logHandler}set logHandler(U){if("function"!=typeof U)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=U}get userLogHandler(){return this._userLogHandler}set userLogHandler(U){this._userLogHandler=U}debug(...U){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...U),this._logHandler(this,X.DEBUG,...U)}log(...U){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...U),this._logHandler(this,X.VERBOSE,...U)}info(...U){this._userLogHandler&&this._userLogHandler(this,X.INFO,...U),this._logHandler(this,X.INFO,...U)}warn(...U){this._userLogHandler&&this._userLogHandler(this,X.WARN,...U),this._logHandler(this,X.WARN,...U)}error(...U){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...U),this._logHandler(this,X.ERROR,...U)}}function K(F){u.forEach(U=>{U.setLogLevel(F)})}function j(F,U){for(const $ of u){let oe=null;U&&U.level&&(oe=H[U.level]),$.userLogHandler=null===F?null:(be,Ee,...de)=>{const Ie=de.map(he=>{if(null==he)return null;if("string"==typeof he)return he;if("number"==typeof he||"boolean"==typeof he)return he.toString();if(he instanceof Error)return he.message;try{return JSON.stringify(he)}catch(ye){return null}}).filter(he=>he).join(" ");Ee>=(null!=oe?oe:be.logLevel)&&F({level:X[Ee].toLowerCase(),message:Ie,args:de,type:be.name})}}}},3854:(Ge,Ce,L)=>{"use strict";L.d(Ce,{BH:()=>oe,LL:()=>ee,ZR:()=>ue,tV:()=>j,r3:()=>Kt,Sg:()=>be,ne:()=>$s,vZ:()=>Ji,ZB:()=>U,pd:()=>js,m9:()=>al,z$:()=>Ee,jU:()=>he,ru:()=>ye,d:()=>Be,xb:()=>xt,w1:()=>at,hl:()=>Te,uI:()=>de,UG:()=>Ie,b$:()=>Le,G6:()=>Vt,Mn:()=>Lt,xO:()=>Ri,zd:()=>_o});const ve=function(Z){const G=[];let W=0;for(let De=0;De<Z.length;De++){let re=Z.charCodeAt(De);re<128?G[W++]=re:re<2048?(G[W++]=re>>6|192,G[W++]=63&re|128):55296==(64512&re)&&De+1<Z.length&&56320==(64512&Z.charCodeAt(De+1))?(re=65536+((1023&re)<<10)+(1023&Z.charCodeAt(++De)),G[W++]=re>>18|240,G[W++]=re>>12&63|128,G[W++]=re>>6&63|128,G[W++]=63&re|128):(G[W++]=re>>12|224,G[W++]=re>>6&63|128,G[W++]=63&re|128)}return G},Q={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Z,G){if(!Array.isArray(Z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const W=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,De=[];for(let re=0;re<Z.length;re+=3){const Ze=Z[re],_t=re+1<Z.length,Ot=_t?Z[re+1]:0,nn=re+2<Z.length,fn=nn?Z[re+2]:0;let Wn=(15&Ot)<<2|fn>>6,hi=63&fn;nn||(hi=64,_t||(Wn=64)),De.push(W[Ze>>2],W[(3&Ze)<<4|Ot>>4],W[Wn],W[hi])}return De.join("")},encodeString(Z,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(Z):this.encodeByteArray(ve(Z),G)},decodeString(Z,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(Z):function(Z){const G=[];let W=0,De=0;for(;W<Z.length;){const re=Z[W++];if(re<128)G[De++]=String.fromCharCode(re);else if(re>191&&re<224){const Ze=Z[W++];G[De++]=String.fromCharCode((31&re)<<6|63&Ze)}else if(re>239&&re<365){const nn=((7&re)<<18|(63&Z[W++])<<12|(63&Z[W++])<<6|63&Z[W++])-65536;G[De++]=String.fromCharCode(55296+(nn>>10)),G[De++]=String.fromCharCode(56320+(1023&nn))}else{const Ze=Z[W++],_t=Z[W++];G[De++]=String.fromCharCode((15&re)<<12|(63&Ze)<<6|63&_t)}}return G.join("")}(this.decodeStringToByteArray(Z,G))},decodeStringToByteArray(Z,G){this.init_();const W=G?this.charToByteMapWebSafe_:this.charToByteMap_,De=[];for(let re=0;re<Z.length;){const Ze=W[Z.charAt(re++)],Ot=re<Z.length?W[Z.charAt(re)]:0;++re;const fn=re<Z.length?W[Z.charAt(re)]:64;++re;const Rt=re<Z.length?W[Z.charAt(re)]:64;if(++re,null==Ze||null==Ot||null==fn||null==Rt)throw Error();De.push(Ze<<2|Ot>>4),64!==fn&&(De.push(Ot<<4&240|fn>>2),64!==Rt&&De.push(fn<<6&192|Rt))}return De},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Z=0;Z<this.ENCODED_VALS.length;Z++)this.byteToCharMap_[Z]=this.ENCODED_VALS.charAt(Z),this.charToByteMap_[this.byteToCharMap_[Z]]=Z,this.byteToCharMapWebSafe_[Z]=this.ENCODED_VALS_WEBSAFE.charAt(Z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Z]]=Z,Z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Z)]=Z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Z)]=Z)}}},K=function(Z){return function(Z){const G=ve(Z);return Q.encodeByteArray(G,!0)}(Z).replace(/\./g,"")},j=function(Z){try{return Q.decodeString(Z,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function U(Z,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===Z&&(Z={});break;case Array:Z=[];break;default:return G}for(const W in G)!G.hasOwnProperty(W)||!$(W)||(Z[W]=U(Z[W],G[W]));return Z}function $(Z){return"__proto__"!==Z}class oe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,W)=>{this.resolve=G,this.reject=W})}wrapCallback(G){return(W,De)=>{W?this.reject(W):this.resolve(De),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(W):G(W,De))}}}function be(Z,G){if(Z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const De=G||"demo-project",re=Z.iat||0,Ze=Z.sub||Z.user_id;if(!Ze)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const _t=Object.assign({iss:`https://securetoken.google.com/${De}`,aud:De,iat:re,exp:re+3600,auth_time:re,sub:Ze,user_id:Ze,firebase:{sign_in_provider:"custom",identities:{}}},Z);return[K(JSON.stringify({alg:"none",type:"JWT"})),K(JSON.stringify(_t)),""].join(".")}function Ee(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function de(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ee())}function Ie(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Z){return!1}}function he(){return"object"==typeof self&&self.self===self}function ye(){const Z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Z&&void 0!==Z.id}function Le(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Be(){return Ee().indexOf("Electron/")>=0}function at(){const Z=Ee();return Z.indexOf("MSIE ")>=0||Z.indexOf("Trident/")>=0}function Lt(){return Ee().indexOf("MSAppHost/")>=0}function Vt(){return!Ie()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Te(){return"object"==typeof indexedDB}class ue extends Error{constructor(G,W,De){super(W),this.code=G,this.customData=De,this.name="FirebaseError",Object.setPrototypeOf(this,ue.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ee.prototype.create)}}class ee{constructor(G,W,De){this.service=G,this.serviceName=W,this.errors=De}create(G,...W){const De=W[0]||{},re=`${this.service}/${G}`,Ze=this.errors[G],_t=Ze?function(Z,G){return Z.replace(We,(W,De)=>{const re=G[De];return null!=re?String(re):`<${De}?>`})}(Ze,De):"Error";return new ue(re,`${this.serviceName}: ${_t} (${re}).`,De)}}const We=/\{\$([^}]+)}/g;function Kt(Z,G){return Object.prototype.hasOwnProperty.call(Z,G)}function xt(Z){for(const G in Z)if(Object.prototype.hasOwnProperty.call(Z,G))return!1;return!0}function Ji(Z,G){if(Z===G)return!0;const W=Object.keys(Z),De=Object.keys(G);for(const re of W){if(!De.includes(re))return!1;const Ze=Z[re],_t=G[re];if(na(Ze)&&na(_t)){if(!Ji(Ze,_t))return!1}else if(Ze!==_t)return!1}for(const re of De)if(!W.includes(re))return!1;return!0}function na(Z){return null!==Z&&"object"==typeof Z}function Ri(Z){const G=[];for(const[W,De]of Object.entries(Z))Array.isArray(De)?De.forEach(re=>{G.push(encodeURIComponent(W)+"="+encodeURIComponent(re))}):G.push(encodeURIComponent(W)+"="+encodeURIComponent(De));return G.length?"&"+G.join("&"):""}function _o(Z){const G={};return Z.replace(/^\?/,"").split("&").forEach(De=>{if(De){const[re,Ze]=De.split("=");G[decodeURIComponent(re)]=decodeURIComponent(Ze)}}),G}function js(Z){const G=Z.indexOf("?");if(!G)return"";const W=Z.indexOf("#",G);return Z.substring(G,W>0?W:void 0)}function $s(Z,G){const W=new ia(Z,G);return W.subscribe.bind(W)}class ia{constructor(G,W){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=W,this.task.then(()=>{G(this)}).catch(De=>{this.error(De)})}next(G){this.forEachObserver(W=>{W.next(G)})}error(G){this.forEachObserver(W=>{W.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,W,De){let re;if(void 0===G&&void 0===W&&void 0===De)throw new Error("Missing Observer.");re=function(Z,G){if("object"!=typeof Z||null===Z)return!1;for(const W of["next","error","complete"])if(W in Z&&"function"==typeof Z[W])return!0;return!1}(G)?G:{next:G,error:W,complete:De},void 0===re.next&&(re.next=Xi),void 0===re.error&&(re.error=Xi),void 0===re.complete&&(re.complete=Xi);const Ze=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?re.error(this.finalError):re.complete()}catch(_t){}}),this.observers.push(re),Ze}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let W=0;W<this.observers.length;W++)this.sendOne(W,G)}sendOne(G,W){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{W(this.observers[G])}catch(De){"undefined"!=typeof console&&console.error&&console.error(De)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xi(){}function al(Z){return Z&&Z._delegate?Z._delegate:Z}},7841:(Ge,Ce,L)=>{"use strict";L.d(Ce,{Z:()=>u.Z});var u=L(4486);u.Z.registerVersion("firebase","9.1.1","app-compat")},5128:(Ge,Ce,L)=>{"use strict";L.r(Ce);var u=L(8239),X=L(4486),H=L(3854),ve=L(5452),fe=L(4762),Q=L(5601),ie=L(6034);const Ee=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},de=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ie=new H.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ye=new Q.Yd("@firebase/auth");function Le(C,..._){ye.logLevel<=Q.in.ERROR&&ye.error(`Auth (${ve.SDK_VERSION}): ${C}`,..._)}function Be(C,..._){throw Vt(C,..._)}function at(C,..._){return Vt(C,..._)}function Lt(C,_,v){const D=Object.assign(Object.assign({},de()),{[_]:v});return new H.LL("auth","Firebase",D).create(_,{appName:C.name})}function Mt(C,_,v){if(!(_ instanceof v))throw v.name!==_.constructor.name&&Be(C,"argument-error"),Lt(C,"argument-error",`Type of ${_.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Vt(C,..._){if("string"!=typeof C){const v=_[0],D=[..._.slice(1)];return D[0]&&(D[0].appName=C.name),C._errorFactory.create(v,...D)}return Ie.create(C,..._)}function Te(C,_,...v){if(!C)throw Vt(_,...v)}function se(C){const _="INTERNAL ASSERTION FAILED: "+C;throw Le(_),new Error(_)}function le(C,_){C||se(_)}const _e=new Map;function ae(C){le(C instanceof Function,"Expected a class definition");let _=_e.get(C);return _?(le(_ instanceof C,"Instance stored in cache mismatched with class"),_):(_=new C,_e.set(C,_),_)}function ke(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function We(){return"http:"===Ct()||"https:"===Ct()}function Ct(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class ut{constructor(_,v){this.shortDelay=_,this.longDelay=v,le(v>_,"Short delay should be less than long delay!"),this.isMobile=(0,H.uI)()||(0,H.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(We()||(0,H.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function vn(C,_){le(C.emulator,"Emulator should always be set here");const{url:v}=C.emulator;return _?`${v}${_.startsWith("/")?_.slice(1):_}`:v}class Qi{static initialize(_,v,D){this.fetchImpl=_,v&&(this.headersImpl=v),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void se("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void se("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void se("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const xi={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Kt=new ut(3e4,6e4);function an(C,_){return C.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:C.tenantId}):_}function xt(C,_,v,D){return br.apply(this,arguments)}function br(){return(br=(0,u.Z)(function*(C,_,v,D,M={}){return Ji(C,M,()=>{let k={},Y={};D&&("GET"===_?Y=D:k={body:JSON.stringify(D)});const pe=(0,H.xO)(Object.assign({key:C.config.apiKey},Y)).slice(1),xe=new(Qi.headers());return xe.set("Content-Type","application/json"),xe.set("X-Client-Version",C._getSdkClientVersion()),C.languageCode&&xe.set("X-Firebase-Locale",C.languageCode),Qi.fetch()(js(C,C.config.apiHost,v,pe),Object.assign({method:_,headers:xe,referrerPolicy:"no-referrer"},k))})})).apply(this,arguments)}function Ji(C,_,v){return na.apply(this,arguments)}function na(){return(na=(0,u.Z)(function*(C,_,v){C._canInitEmulator=!1;const D=Object.assign(Object.assign({},xi),_);try{const M=new ra(C),k=yield Promise.race([v(),M.promise]);M.clearNetworkTimeout();const Y=yield k.json();if("needConfirmation"in Y)throw $s(C,"account-exists-with-different-credential",Y);if(k.ok&&!("errorMessage"in Y))return Y;{const pe=k.ok?Y.errorMessage:Y.error.message,[xe,qe]=pe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===xe)throw $s(C,"credential-already-in-use",Y);if("EMAIL_EXISTS"===xe)throw $s(C,"email-already-in-use",Y);const dt=D[xe]||xe.toLowerCase().replace(/[_\s]+/g,"-");if(qe)throw Lt(C,dt,qe);Be(C,dt)}}catch(M){if(M instanceof H.ZR)throw M;Be(C,"network-request-failed")}})).apply(this,arguments)}function Ri(C,_,v,D){return _o.apply(this,arguments)}function _o(){return(_o=(0,u.Z)(function*(C,_,v,D,M={}){const k=yield xt(C,_,v,D,M);return"mfaPendingCredential"in k&&Be(C,"multi-factor-auth-required",{serverResponse:k}),k})).apply(this,arguments)}function js(C,_,v,D){const M=`${_}${v}?${D}`;return C.config.emulator?vn(C.config,M):`${C.config.apiScheme}://${M}`}class ra{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((v,D)=>{this.timer=setTimeout(()=>D(at(this.auth,"timeout")),Kt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $s(C,_,v){const D={appName:C.name};v.email&&(D.email=v.email),v.phoneNumber&&(D.phoneNumber=v.phoneNumber);const M=at(C,_,D);return M.customData._tokenResponse=v,M}function Xe(){return(Xe=(0,u.Z)(function*(C,_){return xt(C,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function zn(C,_){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,u.Z)(function*(C,_){return xt(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function es(C,_){return pt.apply(this,arguments)}function pt(){return(pt=(0,u.Z)(function*(C,_){return xt(C,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function it(C){if(C)try{const _=new Date(Number(C));if(!isNaN(_.getTime()))return _.toUTCString()}catch(_){}}function Or(){return(Or=(0,u.Z)(function*(C,_=!1){const v=(0,H.m9)(C),D=yield v.getIdToken(_),M=Fe(D);Te(M&&M.exp&&M.auth_time&&M.iat,v.auth,"internal-error");const k="object"==typeof M.firebase?M.firebase:void 0,Y=null==k?void 0:k.sign_in_provider;return{claims:M,token:D,authTime:it(Wt(M.auth_time)),issuedAtTime:it(Wt(M.iat)),expirationTime:it(Wt(M.exp)),signInProvider:Y||null,signInSecondFactor:(null==k?void 0:k.sign_in_second_factor)||null}})).apply(this,arguments)}function Wt(C){return 1e3*Number(C)}function Fe(C){const[_,v,D]=C.split(".");if(void 0===_||void 0===v||void 0===D)return Le("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,H.tV)(v);return M?JSON.parse(M):(Le("Failed to decode base64 JWT payload"),null)}catch(M){return Le("Caught error parsing JWT payload as JSON",M),null}}function ki(C,_){return yo.apply(this,arguments)}function yo(){return(yo=(0,u.Z)(function*(C,_,v=!1){if(v)return _;try{return yield _}catch(D){throw D instanceof H.ZR&&ys(D)&&C.auth.currentUser===C&&(yield C.auth.signOut()),D}})).apply(this,arguments)}function ys({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}class en{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var v;if(_){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const M=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(_=!1){var v=this;if(!this.isRunning)return;const D=this.getInterval(_);this.timerId=setTimeout((0,u.Z)(function*(){yield v.iteration()}),D)}iteration(){var _=this;return(0,u.Z)(function*(){try{yield _.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v.code&&_.schedule(!0))}_.schedule()})()}}class di{constructor(_,v){this.createdAt=_,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=it(this.lastLoginAt),this.creationTime=it(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function al(C){return Z.apply(this,arguments)}function Z(){return(Z=(0,u.Z)(function*(C){var _;const v=C.auth,D=yield C.getIdToken(),M=yield ki(C,es(v,{idToken:D}));Te(null==M?void 0:M.users.length,v,"internal-error");const k=M.users[0];C._notifyReloadListener(k);const Y=(null===(_=k.providerUserInfo)||void 0===_?void 0:_.length)?re(k.providerUserInfo):[],pe=De(C.providerData,Y),dt=!!C.isAnonymous&&!(C.email&&k.passwordHash||(null==pe?void 0:pe.length)),tt={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:pe,metadata:new di(k.createdAt,k.lastLoginAt),isAnonymous:dt};Object.assign(C,tt)})).apply(this,arguments)}function W(){return(W=(0,u.Z)(function*(C){const _=(0,H.m9)(C);yield al(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function De(C,_){return[...C.filter(D=>!_.some(M=>M.providerId===D.providerId)),..._]}function re(C){return C.map(_=>{var{providerId:v}=_,D=(0,fe._T)(_,["providerId"]);return{providerId:v,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}function _t(){return(_t=(0,u.Z)(function*(C,_){const v=yield Ji(C,{},()=>{const D=(0,H.xO)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:M,apiKey:k}=C.config,Y=js(C,M,"/v1/token",`key=${k}`);return Qi.fetch()(Y,{method:"POST",headers:{"X-Client-Version":C._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:D})});return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class Ot{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){Te(_.idToken,"internal-error"),Te(void 0!==_.idToken,"internal-error"),Te(void 0!==_.refreshToken,"internal-error");const v="expiresIn"in _&&void 0!==_.expiresIn?Number(_.expiresIn):function(C){const _=Fe(C);return Te(_,"internal-error"),Te(void 0!==_.exp,"internal-error"),Te(void 0!==_.iat,"internal-error"),Number(_.exp)-Number(_.iat)}(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,v)}getToken(_,v=!1){var D=this;return(0,u.Z)(function*(){return Te(!D.accessToken||D.refreshToken,_,"user-token-expired"),v||!D.accessToken||D.isExpired?D.refreshToken?(yield D.refresh(_,D.refreshToken),D.accessToken):null:D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,v){var D=this;return(0,u.Z)(function*(){const{accessToken:M,refreshToken:k,expiresIn:Y}=yield function(C,_){return _t.apply(this,arguments)}(_,v);D.updateTokensAndExpiration(M,k,Number(Y))})()}updateTokensAndExpiration(_,v,D){this.refreshToken=v||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(_,v){const{refreshToken:D,accessToken:M,expirationTime:k}=v,Y=new Ot;return D&&(Te("string"==typeof D,"internal-error",{appName:_}),Y.refreshToken=D),M&&(Te("string"==typeof M,"internal-error",{appName:_}),Y.accessToken=M),k&&(Te("number"==typeof k,"internal-error",{appName:_}),Y.expirationTime=k),Y}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new Ot,this.toJSON())}_performRefresh(){return se("not implemented")}}function nn(C,_){Te("string"==typeof C||void 0===C,"internal-error",{appName:_})}class fn{constructor(_){var{uid:v,auth:D,stsTokenManager:M}=_,k=(0,fe._T)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new en(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=D,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.metadata=new di(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(_){var v=this;return(0,u.Z)(function*(){const D=yield ki(v,v.stsTokenManager.getToken(v.auth,_));return Te(D,v.auth,"internal-error"),v.accessToken!==D&&(v.accessToken=D,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),D})()}getIdTokenResult(_){return function(C){return Or.apply(this,arguments)}(this,_)}reload(){return function(C){return W.apply(this,arguments)}(this)}_assign(_){this!==_&&(Te(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(v=>Object.assign({},v)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){return new fn(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(_){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,v=!1){var D=this;return(0,u.Z)(function*(){let M=!1;_.idToken&&_.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(_),M=!0),v&&(yield al(D)),yield D.auth._persistUserIfCurrent(D),M&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var _=this;return(0,u.Z)(function*(){const v=yield _.getIdToken();return yield ki(_,function(C,_){return Xe.apply(this,arguments)}(_.auth,{idToken:v})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,v){var D,M,k,Y,pe,xe,qe,dt;const tt=null!==(D=v.displayName)&&void 0!==D?D:void 0,Fn=null!==(M=v.email)&&void 0!==M?M:void 0,Jr=null!==(k=v.phoneNumber)&&void 0!==k?k:void 0,ec=null!==(Y=v.photoURL)&&void 0!==Y?Y:void 0,Hm=null!==(pe=v.tenantId)&&void 0!==pe?pe:void 0,Aa=null!==(xe=v._redirectEventId)&&void 0!==xe?xe:void 0,Gm=null!==(qe=v.createdAt)&&void 0!==qe?qe:void 0,Sa=null!==(dt=v.lastLoginAt)&&void 0!==dt?dt:void 0,{uid:$i,emailVerified:Qv,isAnonymous:Jv,providerData:zd,stsTokenManager:Xv}=v;Te($i&&Xv,_,"internal-error");const Ns=Ot.fromJSON(this.name,Xv);Te("string"==typeof $i,_,"internal-error"),nn(tt,_.name),nn(Fn,_.name),Te("boolean"==typeof Qv,_,"internal-error"),Te("boolean"==typeof Jv,_,"internal-error"),nn(Jr,_.name),nn(ec,_.name),nn(Hm,_.name),nn(Aa,_.name),nn(Gm,_.name),nn(Sa,_.name);const tc=new fn({uid:$i,auth:_,email:Fn,emailVerified:Qv,displayName:tt,isAnonymous:Jv,photoURL:ec,phoneNumber:Jr,tenantId:Hm,stsTokenManager:Ns,createdAt:Gm,lastLoginAt:Sa});return zd&&Array.isArray(zd)&&(tc.providerData=zd.map(Wd=>Object.assign({},Wd))),Aa&&(tc._redirectEventId=Aa),tc}static _fromIdTokenResponse(_,v,D=!1){return(0,u.Z)(function*(){const M=new Ot;M.updateFromServerResponse(v);const k=new fn({uid:v.localId,auth:_,stsTokenManager:M,isAnonymous:D});return yield al(k),k})()}}const Rt=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(v,D){var M=this;return(0,u.Z)(function*(){M.storage[v]=D})()}_get(v){var D=this;return(0,u.Z)(function*(){const M=D.storage[v];return void 0===M?null:M})()}_remove(v){var D=this;return(0,u.Z)(function*(){delete D.storage[v]})()}_addListener(v,D){}_removeListener(v,D){}}return C.type="NONE",C})();function Wn(C,_,v){return`firebase:${C}:${_}:${v}`}class hi{constructor(_,v,D){this.persistence=_,this.auth=v,this.userKey=D;const{config:M,name:k}=this.auth;this.fullUserKey=Wn(this.userKey,M.apiKey,k),this.fullPersistenceKey=Wn("persistence",M.apiKey,k),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,u.Z)(function*(){const v=yield _.persistence._get(_.fullUserKey);return v?fn._fromJSON(_.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var v=this;return(0,u.Z)(function*(){if(v.persistence===_)return;const D=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=_,D?v.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,v,D="authUser"){return(0,u.Z)(function*(){if(!v.length)return new hi(ae(Rt),_,D);const M=(yield Promise.all(v.map(function(){var qe=(0,u.Z)(function*(dt){if(yield dt._isAvailable())return dt});return function(dt){return qe.apply(this,arguments)}}()))).filter(qe=>qe);let k=M[0]||ae(Rt);const Y=Wn(D,_.config.apiKey,_.name);let pe=null;for(const qe of v)try{const dt=yield qe._get(Y);if(dt){const tt=fn._fromJSON(_,dt);qe!==k&&(pe=tt),k=qe;break}}catch(dt){}const xe=M.filter(qe=>qe._shouldAllowMigration);return k._shouldAllowMigration&&xe.length?(k=xe[0],pe&&(yield k._set(Y,pe.toJSON())),yield Promise.all(v.map(function(){var qe=(0,u.Z)(function*(dt){if(dt!==k)try{yield dt._remove(Y)}catch(tt){}});return function(dt){return qe.apply(this,arguments)}}())),new hi(k,_,D)):new hi(k,_,D)})()}}function wu(C){const _=C.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(od(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(id(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(or(_))return"Blackberry";if(Oi(_))return"Webos";if(sd(_))return"Safari";if((_.includes("chrome/")||mf(_))&&!_.includes("edge/"))return"Chrome";if(ll(_))return"Android";{const D=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==D?void 0:D.length))return D[1]}return"Other"}function id(C=(0,H.z$)()){return/firefox\//i.test(C)}function sd(C=(0,H.z$)()){const _=C.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function mf(C=(0,H.z$)()){return/crios\//i.test(C)}function od(C=(0,H.z$)()){return/iemobile/i.test(C)}function ll(C=(0,H.z$)()){return/android/i.test(C)}function or(C=(0,H.z$)()){return/blackberry/i.test(C)}function Oi(C=(0,H.z$)()){return/webos/i.test(C)}function wr(C=(0,H.z$)()){return/iphone|ipad|ipod/i.test(C)}function Ve(C=(0,H.z$)()){return wr(C)||ll(C)||Oi(C)||or(C)||/windows phone/i.test(C)||od(C)}function Qt(C,_=[]){let v;switch(C){case"Browser":v=wu((0,H.z$)());break;case"Worker":v=`${wu((0,H.z$)())}-${C}`;break;default:v=C}const D=_.length?_.join(","):"FirebaseCore-web";return`${v}/JsCore/${ve.SDK_VERSION}/${D}`}class fi{constructor(_,v){this.app=_,this.config=v,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $n(this),this.idTokenSubscription=new $n(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ie,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=v.sdkClientVersion}_initializeWithPersistence(_,v){var D=this;return v&&(this._popupRedirectResolver=ae(v)),this._initializationPromise=this.queue((0,u.Z)(function*(){var M;D._deleted||(D.persistenceManager=yield hi.create(D,_),!D._deleted&&((null===(M=D._popupRedirectResolver)||void 0===M?void 0:M._shouldInitProactively)&&(yield D._popupRedirectResolver._initialize(D)),yield D.initializeCurrentUser(v),!D._deleted&&(D._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,u.Z)(function*(){if(_._deleted)return;const v=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||v){if(_.currentUser&&v&&_.currentUser.uid===v.uid)return _._currentUser._assign(v),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(v)}})()}initializeCurrentUser(_){var v=this;return(0,u.Z)(function*(){var D;let M=yield v.assertedPersistence.getCurrentUser();if(_&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const k=null===(D=v.redirectUser)||void 0===D?void 0:D._redirectEventId,Y=null==M?void 0:M._redirectEventId,pe=yield v.tryRedirectSignIn(_);(!k||k===Y)&&(null==pe?void 0:pe.user)&&(M=pe.user)}return M?M._redirectEventId?(Te(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===M._redirectEventId?v.directlySetCurrentUser(M):v.reloadAndSetCurrentUserOrClear(M)):v.reloadAndSetCurrentUserOrClear(M):v.directlySetCurrentUser(null)})()}tryRedirectSignIn(_){var v=this;return(0,u.Z)(function*(){let D=null;try{D=yield v._popupRedirectResolver._completeRedirectFn(v,_,!0)}catch(M){yield v._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(_){var v=this;return(0,u.Z)(function*(){try{yield al(_)}catch(D){if("auth/network-request-failed"!==D.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var _=this;return(0,u.Z)(function*(){_._deleted=!0})()}updateCurrentUser(_){var v=this;return(0,u.Z)(function*(){const D=_?(0,H.m9)(_):null;return D&&Te(D.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(D&&D._clone(v))})()}_updateCurrentUser(_){var v=this;return(0,u.Z)(function*(){if(!v._deleted)return _&&Te(v.tenantId===_.tenantId,v,"tenant-id-mismatch"),v.queue((0,u.Z)(function*(){yield v.directlySetCurrentUser(_),v.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,u.Z)(function*(){return(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null)})()}setPersistence(_){var v=this;return this.queue((0,u.Z)(function*(){yield v.assertedPersistence.setPersistence(ae(_))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new H.LL("auth","Firebase",_())}onAuthStateChanged(_,v,D){return this.registerStateListener(this.authStateSubscription,_,v,D)}onIdTokenChanged(_,v,D){return this.registerStateListener(this.idTokenSubscription,_,v,D)}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,v){var D=this;return(0,u.Z)(function*(){const M=yield D.getOrInitRedirectPersistenceManager(v);return null===_?M.removeCurrentUser():M.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var v=this;return(0,u.Z)(function*(){if(!v.redirectPersistenceManager){const D=_&&ae(_)||v._popupRedirectResolver;Te(D,v,"argument-error"),v.redirectPersistenceManager=yield hi.create(v,[ae(D._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(_){var v=this;return(0,u.Z)(function*(){var D,M;return v._isInitialized&&(yield v.queue((0,u.Z)(function*(){}))),(null===(D=v._currentUser)||void 0===D?void 0:D._redirectEventId)===_?v._currentUser:(null===(M=v.redirectUser)||void 0===M?void 0:M._redirectEventId)===_?v.redirectUser:null})()}_persistUserIfCurrent(_){var v=this;return(0,u.Z)(function*(){if(_===v.currentUser)return v.queue((0,u.Z)(function*(){return v.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(v=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,v,D,M){if(this._deleted)return()=>{};const k="function"==typeof v?v:v.next.bind(v),Y=this._isInitialized?Promise.resolve():this._initializationPromise;return Te(Y,this,"internal-error"),Y.then(()=>k(this.currentUser)),"function"==typeof v?_.addObserver(v,D,M):_.addObserver(v)}directlySetCurrentUser(_){var v=this;return(0,u.Z)(function*(){v.currentUser&&v.currentUser!==_&&(v._currentUser._stopProactiveRefresh(),_&&v.isProactiveRefreshEnabled&&_._startProactiveRefresh()),v.currentUser=_,_?yield v.assertedPersistence.setCurrentUser(_):yield v.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=Qt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function ln(C){return(0,H.m9)(C)}class $n{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,H.ne)(v=>this.observer=v)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function bn(C){const _=C.indexOf(":");return _<0?"":C.substr(0,_+1)}function sa(C){if(!C)return null;const _=Number(C);return isNaN(_)?null:_}class Fi{constructor(_,v){this.providerId=_,this.signInMethod=v}toJSON(){return se("not implemented")}_getIdTokenResponse(_){return se("not implemented")}_linkToIdToken(_,v){return se("not implemented")}_getReauthenticationResolver(_){return se("not implemented")}}function vo(C,_){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,u.Z)(function*(C,_){return xt(C,"POST","/v1/accounts:resetPassword",an(C,_))})).apply(this,arguments)}function ul(C,_){return Er.apply(this,arguments)}function Er(){return(Er=(0,u.Z)(function*(C,_){return xt(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Du(C,_){return bo.apply(this,arguments)}function bo(){return(bo=(0,u.Z)(function*(C,_){return xt(C,"POST","/v1/accounts:update",an(C,_))})).apply(this,arguments)}function vt(){return(vt=(0,u.Z)(function*(C,_){return Ri(C,"POST","/v1/accounts:signInWithPassword",an(C,_))})).apply(this,arguments)}function Tu(C,_){return _f.apply(this,arguments)}function _f(){return(_f=(0,u.Z)(function*(C,_){return xt(C,"POST","/v1/accounts:sendOobCode",an(C,_))})).apply(this,arguments)}function un(C,_){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,u.Z)(function*(C,_){return Tu(C,_)})).apply(this,arguments)}function cl(C,_){return wo.apply(this,arguments)}function wo(){return(wo=(0,u.Z)(function*(C,_){return Tu(C,_)})).apply(this,arguments)}function Gs(C,_){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,u.Z)(function*(C,_){return Tu(C,_)})).apply(this,arguments)}function vv(C,_){return ns.apply(this,arguments)}function ns(){return(ns=(0,u.Z)(function*(C,_){return Tu(C,_)})).apply(this,arguments)}function Au(){return(Au=(0,u.Z)(function*(C,_){return Ri(C,"POST","/v1/accounts:signInWithEmailLink",an(C,_))})).apply(this,arguments)}function Cr(){return(Cr=(0,u.Z)(function*(C,_){return Ri(C,"POST","/v1/accounts:signInWithEmailLink",an(C,_))})).apply(this,arguments)}class Yr extends Fi{constructor(_,v,D,M=null){super("password",D),this._email=_,this._password=v,this._tenantId=M}static _fromEmailAndPassword(_,v){return new Yr(_,v,"password")}static _fromEmailAndCode(_,v,D=null){return new Yr(_,v,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_;if((null==v?void 0:v.email)&&(null==v?void 0:v.password)){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(_){var v=this;return(0,u.Z)(function*(){switch(v.signInMethod){case"password":return function(C,_){return vt.apply(this,arguments)}(_,{returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function(C,_){return Au.apply(this,arguments)}(_,{email:v._email,oobCode:v._password});default:Be(_,"internal-error")}})()}_linkToIdToken(_,v){var D=this;return(0,u.Z)(function*(){switch(D.signInMethod){case"password":return ul(_,{idToken:v,returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function(C,_){return Cr.apply(this,arguments)}(_,{idToken:v,email:D._email,oobCode:D._password});default:Be(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function Hn(C,_){return Wg.apply(this,arguments)}function Wg(){return(Wg=(0,u.Z)(function*(C,_){return Ri(C,"POST","/v1/accounts:signInWithIdp",an(C,_))})).apply(this,arguments)}class vs extends Fi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const v=new vs(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(v.idToken=_.idToken),_.accessToken&&(v.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(v.nonce=_.nonce),_.pendingToken&&(v.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(v.accessToken=_.oauthToken,v.secret=_.oauthTokenSecret):Be("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_,{providerId:D,signInMethod:M}=v,k=(0,fe._T)(v,["providerId","signInMethod"]);if(!D||!M)return null;const Y=new vs(D,M);return Object.assign(Y,k),Y}_getIdTokenResponse(_){return Hn(_,this.buildRequest())}_linkToIdToken(_,v){const D=this.buildRequest();return D.idToken=v,Hn(_,D)}_getReauthenticationResolver(_){const v=this.buildRequest();return v.autoCreate=!1,Hn(_,v)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),_.postBody=(0,H.xO)(v)}return _}}function nE(C,_){return Yg.apply(this,arguments)}function Yg(){return(Yg=(0,u.Z)(function*(C,_){return xt(C,"POST","/v1/accounts:sendVerificationCode",an(C,_))})).apply(this,arguments)}function Kg(){return(Kg=(0,u.Z)(function*(C,_){return Ri(C,"POST","/v1/accounts:signInWithPhoneNumber",an(C,_))})).apply(this,arguments)}function Qg(){return(Qg=(0,u.Z)(function*(C,_){const v=yield Ri(C,"POST","/v1/accounts:signInWithPhoneNumber",an(C,_));if(v.temporaryProof)throw $s(C,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const sE={USER_NOT_FOUND:"user-not-found"};function Jg(){return(Jg=(0,u.Z)(function*(C,_){return Ri(C,"POST","/v1/accounts:signInWithPhoneNumber",an(C,Object.assign(Object.assign({},_),{operation:"REAUTH"})),sE)})).apply(this,arguments)}class dl extends Fi{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,v){return new dl({verificationId:_,verificationCode:v})}static _fromTokenResponse(_,v){return new dl({phoneNumber:_,temporaryProof:v})}_getIdTokenResponse(_){return function(C,_){return Kg.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,v){return function(C,_){return Qg.apply(this,arguments)}(_,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function(C,_){return Jg.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:v,verificationId:D,verificationCode:M}=this.params;return _&&v?{temporaryProof:_,phoneNumber:v}:{sessionInfo:D,code:M}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:v,verificationCode:D,phoneNumber:M,temporaryProof:k}=_;return D||v||M||k?new dl({verificationId:v,verificationCode:D,phoneNumber:M,temporaryProof:k}):null}}class ld{constructor(_){var v,D,M,k,Y,pe;const xe=(0,H.zd)((0,H.pd)(_)),qe=null!==(v=xe.apiKey)&&void 0!==v?v:null,dt=null!==(D=xe.oobCode)&&void 0!==D?D:null,tt=function(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=xe.mode)&&void 0!==M?M:null);Te(qe&&dt&&tt,"argument-error"),this.apiKey=qe,this.operation=tt,this.code=dt,this.continueUrl=null!==(k=xe.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==(Y=xe.languageCode)&&void 0!==Y?Y:null,this.tenantId=null!==(pe=xe.tenantId)&&void 0!==pe?pe:null}static parseLink(_){const v=function(C){const _=(0,H.zd)((0,H.pd)(C)).link,v=_?(0,H.zd)((0,H.pd)(_)).deep_link_id:null,D=(0,H.zd)((0,H.pd)(C)).deep_link_id;return(D?(0,H.zd)((0,H.pd)(D)).link:null)||D||v||_||C}(_);try{return new ld(v)}catch(D){return null}}}let ud=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(v,D){return Yr._fromEmailAndPassword(v,D)}static credentialWithLink(v,D){const M=ld.parseLink(D);return Te(M,"argument-error"),Yr._fromEmailAndCode(v,M.code,M.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class rs{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class Su extends rs{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class oa extends Su{static credentialFromJSON(_){const v="string"==typeof _?JSON.parse(_):_;return Te("providerId"in v&&"signInMethod"in v,"argument-error"),vs._fromParams(v)}credential(_){return this._credential(_)}_credential(_){return Te(_.idToken||_.accessToken,"argument-error"),vs._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return oa.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return oa.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:v,oauthAccessToken:D,oauthTokenSecret:M,pendingToken:k,nonce:Y,providerId:pe}=_;if(!D&&!M&&!v&&!k||!pe)return null;try{return new oa(pe)._credential({idToken:v,accessToken:D,rawNonce:Y,pendingToken:k})}catch(xe){return null}}}let yf=(()=>{class C extends Su{constructor(){super("facebook.com")}static credential(v){return vs._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return C.credential(v.oauthAccessToken)}catch(D){return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),Eo=(()=>{class C extends Su{constructor(){super("google.com"),this.addScope("profile")}static credential(v,D){return vs._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:D})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:D,oauthAccessToken:M}=v;if(!D&&!M)return null;try{return C.credential(D,M)}catch(k){return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),Xg=(()=>{class C extends Su{constructor(){super("github.com")}static credential(v){return vs._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return C.credential(v.oauthAccessToken)}catch(D){return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class Co extends Fi{constructor(_,v){super(_,_),this.pendingToken=v}_getIdTokenResponse(_){return Hn(_,this.buildRequest())}_linkToIdToken(_,v){const D=this.buildRequest();return D.idToken=v,Hn(_,D)}_getReauthenticationResolver(_){const v=this.buildRequest();return v.autoCreate=!1,Hn(_,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_,{providerId:D,signInMethod:M,pendingToken:k}=v;return D&&M&&k&&D===M?new Co(D,k):null}static _create(_,v){return new Co(_,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let bf=(()=>{class C extends Su{constructor(){super("twitter.com")}static credential(v,D){return vs._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:D})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:D,oauthTokenSecret:M}=v;if(!D||!M)return null;try{return C.credential(D,M)}catch(k){return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function wf(C,_){return cd.apply(this,arguments)}function cd(){return(cd=(0,u.Z)(function*(C,_){return Ri(C,"POST","/v1/accounts:signUp",an(C,_))})).apply(this,arguments)}class pi{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,v,D,M=!1){return(0,u.Z)(function*(){const k=yield fn._fromIdTokenResponse(_,D,M),Y=Ev(D);return new pi({user:k,providerId:Y,_tokenResponse:D,operationType:v})})()}static _forOperation(_,v,D){return(0,u.Z)(function*(){yield _._updateTokensIfNecessary(D,!0);const M=Ev(D);return new pi({user:_,providerId:M,_tokenResponse:D,operationType:v})})()}}function Ev(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function Nu(){return(Nu=(0,u.Z)(function*(C){var _;const v=ln(C);if(yield v._initializationPromise,null===(_=v.currentUser)||void 0===_?void 0:_.isAnonymous)return new pi({user:v.currentUser,providerId:null,operationType:"signIn"});const D=yield wf(v,{returnSecureToken:!0}),M=yield pi._fromIdTokenResponse(v,"signIn",D,!0);return yield v._updateCurrentUser(M.user),M})).apply(this,arguments)}class Mu extends H.ZR{constructor(_,v,D,M){var k;super(v.code,v.message),this.operationType=D,this.user=M,this.name="FirebaseError",Object.setPrototypeOf(this,Mu.prototype),this.appName=_.name,this.code=v.code,this.tenantId=null!==(k=_.tenantId)&&void 0!==k?k:void 0,this.serverResponse=v.customData.serverResponse}static _fromErrorAndOperation(_,v,D,M){return new Mu(_,v,D,M)}}function xu(C,_,v,D){return("reauthenticate"===_?v._getReauthenticationResolver(C):v._getIdTokenResponse(C)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?Mu._fromErrorAndOperation(C,k,_,D):k})}function em(C){return new Set(C.map(({providerId:_})=>_).filter(_=>!!_))}function nm(){return(nm=(0,u.Z)(function*(C,_){const v=(0,H.m9)(C);yield qs(!0,v,_);const{providerUserInfo:D}=yield zn(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[_]}),M=em(D||[]);return v.providerData=v.providerData.filter(k=>M.has(k.providerId)),M.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v})).apply(this,arguments)}function cn(C,_){return dd.apply(this,arguments)}function dd(){return(dd=(0,u.Z)(function*(C,_,v=!1){const D=yield ki(C,_._linkToIdToken(C.auth,yield C.getIdToken()),v);return pi._forOperation(C,"link",D)})).apply(this,arguments)}function qs(C,_,v){return Ef.apply(this,arguments)}function Ef(){return(Ef=(0,u.Z)(function*(C,_,v){yield al(_);const M=!1===C?"provider-already-linked":"no-such-provider";Te(em(_.providerData).has(v)===C,_.auth,M)})).apply(this,arguments)}function dn(C,_){return Cf.apply(this,arguments)}function Cf(){return(Cf=(0,u.Z)(function*(C,_,v=!1){const{auth:D}=C,M="reauthenticate";try{const k=yield ki(C,xu(D,M,_,C),v);Te(k.idToken,D,"internal-error");const Y=Fe(k.idToken);Te(Y,D,"internal-error");const{sub:pe}=Y;return Te(C.uid===pe,D,"user-mismatch"),pi._forOperation(C,M,k)}catch(k){throw"auth/user-not-found"===(null==k?void 0:k.code)&&Be(D,"user-mismatch"),k}})).apply(this,arguments)}function rm(C,_){return hl.apply(this,arguments)}function hl(){return(hl=(0,u.Z)(function*(C,_,v=!1){const D="signIn",M=yield xu(C,D,_),k=yield pi._fromIdTokenResponse(C,D,M);return v||(yield C._updateCurrentUser(k.user)),k})).apply(this,arguments)}function Fr(C,_){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,u.Z)(function*(C,_){return rm(ln(C),_)})).apply(this,arguments)}function hd(C,_){return Do.apply(this,arguments)}function Do(){return(Do=(0,u.Z)(function*(C,_){const v=(0,H.m9)(C);return yield qs(!1,v,_.providerId),cn(v,_)})).apply(this,arguments)}function Kr(C,_){return Df.apply(this,arguments)}function Df(){return(Df=(0,u.Z)(function*(C,_){return dn((0,H.m9)(C),_)})).apply(this,arguments)}function im(C,_){return fl.apply(this,arguments)}function fl(){return(fl=(0,u.Z)(function*(C,_){return Ri(C,"POST","/v1/accounts:signInWithCustomToken",an(C,_))})).apply(this,arguments)}function fd(){return(fd=(0,u.Z)(function*(C,_){const v=ln(C),D=yield im(v,{token:_,returnSecureToken:!0}),M=yield pi._fromIdTokenResponse(v,"signIn",D);return yield v._updateCurrentUser(M.user),M})).apply(this,arguments)}class pl{constructor(_,v){this.factorId=_,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(_,v){return"phoneInfo"in v?ct._fromServerResponse(_,v):Be(_,"internal-error")}}class ct extends pl{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,v){return new ct(v)}}function pd(C,_,v){var D;Te((null===(D=v.url)||void 0===D?void 0:D.length)>0,C,"invalid-continue-uri"),Te(void 0===v.dynamicLinkDomain||v.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),_.continueUrl=v.url,_.dynamicLinkDomain=v.dynamicLinkDomain,_.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(Te(v.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),_.iOSBundleId=v.iOS.bundleId),v.android&&(Te(v.android.packageName.length>0,C,"missing-android-pkg-name"),_.androidInstallApp=v.android.installApp,_.androidMinimumVersionCode=v.android.minimumVersion,_.androidPackageName=v.android.packageName)}function Tf(){return(Tf=(0,u.Z)(function*(C,_,v){const D=(0,H.m9)(C),M={requestType:"PASSWORD_RESET",email:_};v&&pd(D,M,v),yield cl(D,M)})).apply(this,arguments)}function If(){return(If=(0,u.Z)(function*(C,_,v){yield vo((0,H.m9)(C),{oobCode:_,newPassword:v})})).apply(this,arguments)}function la(){return(la=(0,u.Z)(function*(C,_){yield Du((0,H.m9)(C),{oobCode:_})})).apply(this,arguments)}function Ae(C,_){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,u.Z)(function*(C,_){const v=(0,H.m9)(C),D=yield vo(v,{oobCode:_}),M=D.requestType;switch(Te(M,v,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Te(D.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Te(D.mfaInfo,v,"internal-error");default:Te(D.email,v,"internal-error")}let k=null;return D.mfaInfo&&(k=pl._fromServerResponse(ln(v),D.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.newEmail:D.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.email:D.newEmail)||null,multiFactorInfo:k},operation:M}})).apply(this,arguments)}function rn(){return(rn=(0,u.Z)(function*(C,_){const{data:v}=yield Ae((0,H.m9)(C),_);return v.email})).apply(this,arguments)}function Zs(){return(Zs=(0,u.Z)(function*(C,_,v){const D=ln(C),M=yield wf(D,{returnSecureToken:!0,email:_,password:v}),k=yield pi._fromIdTokenResponse(D,"signIn",M);return yield D._updateCurrentUser(k.user),k})).apply(this,arguments)}function gl(){return(gl=(0,u.Z)(function*(C,_,v){const D=(0,H.m9)(C),M={requestType:"EMAIL_SIGNIN",email:_};Te(v.handleCodeInApp,D,"argument-error"),v&&pd(D,M,v),yield Gs(D,M)})).apply(this,arguments)}function ml(){return(ml=(0,u.Z)(function*(C,_,v){const D=(0,H.m9)(C),M=ud.credentialWithLink(_,v||ke());return Te(M._tenantId===(D.tenantId||null),D,"tenant-id-mismatch"),Fr(D,M)})).apply(this,arguments)}function md(C,_){return xn.apply(this,arguments)}function xn(){return(xn=(0,u.Z)(function*(C,_){return xt(C,"POST","/v1/accounts:createAuthUri",an(C,_))})).apply(this,arguments)}function Nf(){return(Nf=(0,u.Z)(function*(C,_){const D={identifier:_,continueUri:We()?ke():"http://localhost"},{signinMethods:M}=yield md((0,H.m9)(C),D);return M||[]})).apply(this,arguments)}function gi(){return(gi=(0,u.Z)(function*(C,_){const v=(0,H.m9)(C),M={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};_&&pd(v.auth,M,_);const{email:k}=yield un(v.auth,M);k!==C.email&&(yield C.reload())})).apply(this,arguments)}function _d(){return(_d=(0,u.Z)(function*(C,_,v){const D=(0,H.m9)(C),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:_};v&&pd(D.auth,k,v);const{email:Y}=yield vv(D.auth,k);Y!==C.email&&(yield C.reload())})).apply(this,arguments)}function sm(C,_){return Mf.apply(this,arguments)}function Mf(){return(Mf=(0,u.Z)(function*(C,_){return xt(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function ku(){return(ku=(0,u.Z)(function*(C,{displayName:_,photoURL:v}){if(void 0===_&&void 0===v)return;const D=(0,H.m9)(C),k={idToken:yield D.getIdToken(),displayName:_,photoUrl:v,returnSecureToken:!0},Y=yield ki(D,sm(D.auth,k));D.displayName=Y.displayName||null,D.photoURL=Y.photoUrl||null;const pe=D.providerData.find(({providerId:xe})=>"password"===xe);pe&&(pe.displayName=D.displayName,pe.photoURL=D.photoURL),yield D._updateTokensIfNecessary(Y)})).apply(this,arguments)}function Rf(C,_,v){return yd.apply(this,arguments)}function yd(){return(yd=(0,u.Z)(function*(C,_,v){const{auth:D}=C,k={idToken:yield C.getIdToken(),returnSecureToken:!0};_&&(k.email=_),v&&(k.password=v);const Y=yield ki(C,ul(D,k));yield C._updateTokensIfNecessary(Y,!0)})).apply(this,arguments)}class ua{constructor(_,v,D={}){this.isNewUser=_,this.providerId=v,this.profile=D}}class am extends ua{constructor(_,v,D,M){super(_,v,D),this.username=M}}class lm extends ua{constructor(_,v){super(_,"facebook.com",v)}}class Av extends am{constructor(_,v){super(_,"github.com",v,"string"==typeof(null==v?void 0:v.login)?null==v?void 0:v.login:null)}}class Pu extends ua{constructor(_,v){super(_,"google.com",v)}}class Sv extends am{constructor(_,v,D){super(_,"twitter.com",v,D)}}function Nv(C){const{user:_,_tokenResponse:v}=C;return _.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function(C){var _,v;if(!C)return null;const{providerId:D}=C,M=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},k=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!D&&(null==C?void 0:C.idToken)){const Y=null===(v=null===(_=Fe(C.idToken))||void 0===_?void 0:_.firebase)||void 0===v?void 0:v.sign_in_provider;if(Y)return new ua(k,"anonymous"!==Y&&"custom"!==Y?Y:null)}if(!D)return null;switch(D){case"facebook.com":return new lm(k,M);case"github.com":return new Av(k,M);case"google.com":return new Pu(k,M);case"twitter.com":return new Sv(k,M,C.screenName||null);case"custom":case"anonymous":return new ua(k,null);default:return new ua(k,D,M)}}(v)}class Ws{constructor(_,v){this.type=_,this.credential=v}static _fromIdtoken(_){return new Ws("enroll",_)}static _fromMfaPendingCredential(_){return new Ws("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var v,D;if(null==_?void 0:_.multiFactorSession){if(null===(v=_.multiFactorSession)||void 0===v?void 0:v.pendingCredential)return Ws._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null===(D=_.multiFactorSession)||void 0===D?void 0:D.idToken)return Ws._fromIdtoken(_.multiFactorSession.idToken)}return null}}class yl{constructor(_,v,D){this.session=_,this.hints=v,this.signInResolver=D}static _fromError(_,v){const D=ln(_),M=(v.serverResponse.mfaInfo||[]).map(Y=>pl._fromServerResponse(D,Y));Te(v.serverResponse.mfaPendingCredential,D,"internal-error");const k=Ws._fromMfaPendingCredential(v.serverResponse.mfaPendingCredential);return new yl(k,M,function(){var Y=(0,u.Z)(function*(pe){const xe=yield pe._process(D,k);delete v.serverResponse.mfaInfo,delete v.serverResponse.mfaPendingCredential;const qe=Object.assign(Object.assign({},v.serverResponse),{idToken:xe.idToken,refreshToken:xe.refreshToken});switch(v.operationType){case"signIn":const dt=yield pi._fromIdTokenResponse(D,v.operationType,qe);return yield D._updateCurrentUser(dt.user),dt;case"reauthenticate":return Te(v.user,D,"internal-error"),pi._forOperation(v.user,v.operationType,qe);default:Be(D,"internal-error")}});return function(pe){return Y.apply(this,arguments)}}())}resolveSignIn(_){var v=this;return(0,u.Z)(function*(){return v.signInResolver(_)})()}}function bd(C,_){return xt(C,"POST","/v2/accounts/mfaEnrollment:start",an(C,_))}class Pf{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(D=>pl._fromServerResponse(_.auth,D)))})}static _fromUser(_){return new Pf(_)}getSession(){var _=this;return(0,u.Z)(function*(){return Ws._fromIdtoken(yield _.user.getIdToken())})()}enroll(_,v){var D=this;return(0,u.Z)(function*(){const M=_,k=yield D.getSession(),Y=yield ki(D.user,M._process(D.user.auth,k,v));return yield D.user._updateTokensIfNecessary(Y),D.user.reload()})()}unenroll(_){var v=this;return(0,u.Z)(function*(){const D="string"==typeof _?_:_.uid,M=yield v.user.getIdToken(),k=yield ki(v.user,function(C,_){return xt(C,"POST","/v2/accounts/mfaEnrollment:withdraw",an(C,_))}(v.user.auth,{idToken:M,mfaEnrollmentId:D}));v.enrolledFactors=v.enrolledFactors.filter(({uid:Y})=>Y!==D),yield v.user._updateTokensIfNecessary(k);try{yield v.user.reload()}catch(Y){if("auth/user-token-expired"!==Y.code)throw Y}})()}}const bs=new WeakMap,Ff="__sak";class cm{constructor(_,v){this.storage=_,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(Ff,"1"),this.storage.removeItem(Ff),Promise.resolve(!0)):Promise.resolve(!1)}catch(_){return Promise.resolve(!1)}}_set(_,v){return this.storage.setItem(_,JSON.stringify(v)),Promise.resolve()}_get(_){const v=this.storage.getItem(_);return Promise.resolve(v?JSON.parse(v):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}}const Uf=(()=>{class C extends cm{constructor(){super(window.localStorage,"LOCAL"),this.boundEventHandler=(v,D)=>this.onStorageEvent(v,D),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const C=(0,H.z$)();return sd(C)||wr(C)}()&&function(){try{return!(!window||window===window.top)}catch(C){return!1}}(),this.fallbackToPolling=Ve(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const D of Object.keys(this.listeners)){const M=this.storage.getItem(D),k=this.localCache[D];M!==k&&v(D,k,M)}}onStorageEvent(v,D=!1){if(!v.key)return void this.forAllChangedKeys((pe,xe,qe)=>{this.notifyListeners(pe,qe)});const M=v.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const pe=this.storage.getItem(M);if(v.newValue!==pe)null!==v.newValue?this.storage.setItem(M,v.newValue):this.storage.removeItem(M);else if(this.localCache[M]===v.newValue&&!D)return}const k=()=>{const pe=this.storage.getItem(M);!D&&this.localCache[M]===pe||this.notifyListeners(M,pe)},Y=this.storage.getItem(M);(0,H.w1)()&&10===document.documentMode&&Y!==v.newValue&&v.newValue!==v.oldValue?setTimeout(k,10):k()}notifyListeners(v,D){this.localCache[v]=D;const M=this.listeners[v];if(M)for(const k of Array.from(M))k(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,D,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:D,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(D)}_removeListener(v,D){this.listeners[v]&&(this.listeners[v].delete(D),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,D){var M=()=>super._set,k=this;return(0,u.Z)(function*(){yield M().call(k,v,D),k.localCache[v]=JSON.stringify(D)})()}_get(v){var D=()=>super._get,M=this;return(0,u.Z)(function*(){const k=yield D().call(M,v);return M.localCache[v]=JSON.stringify(k),k})()}_remove(v){var D=()=>super._remove,M=this;return(0,u.Z)(function*(){yield D().call(M,v),delete M.localCache[v]})()}}return C.type="LOCAL",C})(),ws=(()=>{class C extends cm{constructor(){super(window.sessionStorage,"SESSION")}_addListener(v,D){}_removeListener(v,D){}}return C.type="SESSION",C})();let Es=(()=>{class C{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const D=this.receivers.find(k=>k.isListeningto(v));if(D)return D;const M=new C(v);return this.receivers.push(M),M}isListeningto(v){return this.eventTarget===v}handleEvent(v){var D=this;return(0,u.Z)(function*(){const M=v,{eventId:k,eventType:Y,data:pe}=M.data,xe=D.handlersMap[Y];if(!(null==xe?void 0:xe.size))return;M.ports[0].postMessage({status:"ack",eventId:k,eventType:Y});const qe=Array.from(xe).map(function(){var tt=(0,u.Z)(function*(Fn){return Fn(M.origin,pe)});return function(Fn){return tt.apply(this,arguments)}}()),dt=yield function(C){return Promise.all(C.map(function(){var _=(0,u.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(D){return{fulfilled:!1,reason:D}}});return function(v){return _.apply(this,arguments)}}()))}(qe);M.ports[0].postMessage({status:"done",eventId:k,eventType:Y,response:dt})})()}_subscribe(v,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(D)}_unsubscribe(v,D){this.handlersMap[v]&&D&&this.handlersMap[v].delete(D),(!D||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function To(C="",_=10){let v="";for(let D=0;D<_;D++)v+=Math.floor(10*Math.random());return C+v}class hm{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,v,D=50){var M=this;return(0,u.Z)(function*(){const k="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let Y,pe;return new Promise((xe,qe)=>{const dt=To("",20);k.port1.start();const tt=setTimeout(()=>{qe(new Error("unsupported_event"))},D);pe={messageChannel:k,onMessage(Fn){const Jr=Fn;if(Jr.data.eventId===dt)switch(Jr.data.status){case"ack":clearTimeout(tt),Y=setTimeout(()=>{qe(new Error("timeout"))},3e3);break;case"done":clearTimeout(Y),xe(Jr.data.response);break;default:clearTimeout(tt),clearTimeout(Y),qe(new Error("invalid_response"))}}},M.handlers.add(pe),k.port1.addEventListener("message",pe.onMessage),M.target.postMessage({eventType:_,eventId:dt,data:v},[k.port2])}).finally(()=>{pe&&M.removeMessageHandler(pe)})})()}}function wn(){return window}function fm(){return void 0!==wn().WorkerGlobalScope&&"function"==typeof wn().importScripts}function Ed(){return(Ed=(0,u.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(C){return null}})).apply(this,arguments)}const Bf="firebaseLocalStorageDb",jf="firebaseLocalStorage",Rv="fbase_key";class Ys{constructor(_){this.request=_}toPromise(){return new Promise((_,v)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function Vu(C,_){return C.transaction([jf],_?"readwrite":"readonly").objectStore(jf)}function ze(){const C=indexedDB.open(Bf,1);return new Promise((_,v)=>{C.addEventListener("error",()=>{v(C.error)}),C.addEventListener("upgradeneeded",()=>{const D=C.result;try{D.createObjectStore(jf,{keyPath:Rv})}catch(M){v(M)}}),C.addEventListener("success",(0,u.Z)(function*(){const D=C.result;D.objectStoreNames.contains(jf)?_(D):(D.close(),yield function(){const C=indexedDB.deleteDatabase(Bf);return new Ys(C).toPromise()}(),_(yield ze()))}))})}function Zt(C,_,v){return Dd.apply(this,arguments)}function Dd(){return(Dd=(0,u.Z)(function*(C,_,v){const D=Vu(C,!0).put({[Rv]:_,value:v});return new Ys(D).toPromise()})).apply(this,arguments)}function da(){return(da=(0,u.Z)(function*(C,_){const v=Vu(C,!1).get(_),D=yield new Ys(v).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function Io(C,_){const v=Vu(C,!0).delete(_);return new Ys(v).toPromise()}const Ao=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,u.Z)(function*(){return v.db||(v.db=yield ze()),v.db})()}_withRetries(v){var D=this;return(0,u.Z)(function*(){let M=0;for(;;)try{const k=yield D._openDb();return yield v(k)}catch(k){if(M++>3)throw k;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,u.Z)(function*(){return fm()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,u.Z)(function*(){v.receiver=Es._getInstance(fm()?self:null),v.receiver._subscribe("keyChanged",function(){var D=(0,u.Z)(function*(M,k){return{keyProcessed:(yield v._poll()).includes(k.key)}});return function(M,k){return D.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var D=(0,u.Z)(function*(M,k){return["keyChanged"]});return function(M,k){return D.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,u.Z)(function*(){var D,M;if(v.activeServiceWorker=yield function(){return Ed.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new hm(v.activeServiceWorker);const k=yield v.sender._send("ping",{},800);!k||(null===(D=k[0])||void 0===D?void 0:D.fulfilled)&&(null===(M=k[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var D=this;return(0,u.Z)(function*(){if(D.sender&&D.activeServiceWorker&&function(){var C;return(null===(C=null==navigator?void 0:navigator.serviceWorker)||void 0===C?void 0:C.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:v},D.serviceWorkerReceiverAvailable?800:50)}catch(M){}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const v=yield ze();return yield Zt(v,Ff,"1"),yield Io(v,Ff),!0}catch(v){}return!1})()}_withPendingWrite(v){var D=this;return(0,u.Z)(function*(){D.pendingWrites++;try{yield v()}finally{D.pendingWrites--}})()}_set(v,D){var M=this;return(0,u.Z)(function*(){return M._withPendingWrite((0,u.Z)(function*(){return yield M._withRetries(k=>Zt(k,v,D)),M.localCache[v]=D,M.notifyServiceWorker(v)}))})()}_get(v){var D=this;return(0,u.Z)(function*(){const M=yield D._withRetries(k=>function(C,_){return da.apply(this,arguments)}(k,v));return D.localCache[v]=M,M})()}_remove(v){var D=this;return(0,u.Z)(function*(){return D._withPendingWrite((0,u.Z)(function*(){return yield D._withRetries(M=>Io(M,v)),delete D.localCache[v],D.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,u.Z)(function*(){const D=yield v._withRetries(Y=>{const pe=Vu(Y,!1).getAll();return new Ys(pe).toPromise()});if(!D)return[];if(0!==v.pendingWrites)return[];const M=[],k=new Set;for(const{fbase_key:Y,value:pe}of D)k.add(Y),JSON.stringify(v.localCache[Y])!==JSON.stringify(pe)&&(v.notifyListeners(Y,pe),M.push(Y));for(const Y of Object.keys(v.localCache))v.localCache[Y]&&!k.has(Y)&&(v.notifyListeners(Y,null),M.push(Y));return M})()}notifyListeners(v,D){this.localCache[v]=D;const M=this.listeners[v];if(M)for(const k of Array.from(M))k(D)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(D)}_removeListener(v,D){this.listeners[v]&&(this.listeners[v].delete(D),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})();function Tn(C,_){return xt(C,"POST","/v2/accounts/mfaSignIn:start",an(C,_))}function Uu(){return(Uu=(0,u.Z)(function*(C){return(yield xt(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Gf(C){return new Promise((_,v)=>{const D=document.createElement("script");D.setAttribute("src",C),D.onload=_,D.onerror=M=>{const k=at("internal-error");k.customData=M,v(k)},D.type="text/javascript",D.charset="UTF-8",function(){var C,_;return null!==(_=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==_?_:document}().appendChild(D)})}function Id(C){return`__${C}${Math.floor(1e6*Math.random())}`}const Ui=1e12;class bl{constructor(_){this.auth=_,this.counter=Ui,this._widgets=new Map}render(_,v){const D=this.counter;return this._widgets.set(D,new No(_,this.auth.name,v||{})),this.counter++,D}reset(_){var v;const D=_||Ui;null===(v=this._widgets.get(D))||void 0===v||v.delete(),this._widgets.delete(D)}getResponse(_){var v;return(null===(v=this._widgets.get(_||Ui))||void 0===v?void 0:v.getResponse())||""}execute(_){var v=this;return(0,u.Z)(function*(){var D;return null===(D=v._widgets.get(_||Ui))||void 0===D||D.execute(),""})()}}class No{constructor(_,v,D){this.params=D,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof _?document.getElementById(_):_;Te(M,"argument-error",{appName:v}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(C){const _=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<50;D++)_.push(v.charAt(Math.floor(Math.random()*v.length)));return _.join("")}();const{callback:_,"expired-callback":v}=this.params;if(_)try{_(this.responseToken)}catch(D){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch(D){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Cs=Id("rcb"),gE=new ut(3e4,6e4);class Bi{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!wn().grecaptcha}load(_,v=""){return Te((C=v).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C),_,"argument-error"),this.shouldResolveImmediately(v)?Promise.resolve(wn().grecaptcha):new Promise((D,M)=>{const k=wn().setTimeout(()=>{M(at(_,"network-request-failed"))},gE.get());wn()[Cs]=()=>{wn().clearTimeout(k),delete wn()[Cs];const pe=wn().grecaptcha;if(!pe)return void M(at(_,"internal-error"));const xe=pe.render;pe.render=(qe,dt)=>{const tt=xe(qe,dt);return this.counter++,tt},this.hostLanguage=v,D(pe)},Gf(`https://www.google.com/recaptcha/api.js??${(0,H.xO)({onload:Cs,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(k),M(at(_,"internal-error"))})});var C}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){return!!wn().grecaptcha&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class kv{load(_){return(0,u.Z)(function*(){return new bl(_)})()}clearedOneInstance(){}}const pn="recaptcha",mE={theme:"light",type:"image"};class qf{constructor(_,v=Object.assign({},mE),D){this.parameters=v,this.type=pn,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ln(D),this.isInvisible="invisible"===this.parameters.size,Te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof _?document.getElementById(_):_;Te(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new kv:new Bi,this.validateStartingState()}verify(){var _=this;return(0,u.Z)(function*(){_.assertNotDestroyed();const v=yield _.render(),D=_.getAssertedRecaptcha();return D.getResponse(v)||new Promise(k=>{const Y=pe=>{!pe||(_.tokenChangeListeners.delete(Y),k(pe))};_.tokenChangeListeners.add(Y),_.isInvisible&&D.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){Te(!this.parameters.sitekey,this.auth,"argument-error"),Te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return v=>{if(this.tokenChangeListeners.forEach(D=>D(v)),"function"==typeof _)_(v);else if("string"==typeof _){const D=wn()[_];"function"==typeof D&&D(v)}}}assertNotDestroyed(){Te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,u.Z)(function*(){if(yield _.init(),!_.widgetId){let v=_.container;if(!_.isInvisible){const D=document.createElement("div");v.appendChild(D),v=D}_.widgetId=_.getAssertedRecaptcha().render(v,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,u.Z)(function*(){Te(We()&&!fm(),_.auth,"internal-error"),yield function(){let C=null;return new Promise(_=>{"complete"!==document.readyState?(C=()=>_(),window.addEventListener("load",C)):_()}).catch(_=>{throw C&&window.removeEventListener("load",C),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const v=yield function(C){return Uu.apply(this,arguments)}(_.auth);Te(v,_.auth,"internal-error"),_.parameters.sitekey=v})()}getAssertedRecaptcha(){return Te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class gm{constructor(_,v){this.verificationId=_,this.onConfirmation=v}confirm(_){const v=dl._fromVerification(this.verificationId,_);return this.onConfirmation(v)}}function Mo(){return(Mo=(0,u.Z)(function*(C,_,v){const D=ln(C),M=yield Zf(D,_,(0,H.m9)(v));return new gm(M,k=>Fr(D,k))})).apply(this,arguments)}function mm(){return(mm=(0,u.Z)(function*(C,_,v){const D=(0,H.m9)(C);yield qs(!1,D,"phone");const M=yield Zf(D.auth,_,(0,H.m9)(v));return new gm(M,k=>hd(D,k))})).apply(this,arguments)}function gn(){return(gn=(0,u.Z)(function*(C,_,v){const D=(0,H.m9)(C),M=yield Zf(D.auth,_,(0,H.m9)(v));return new gm(M,k=>Kr(D,k))})).apply(this,arguments)}function Zf(C,_,v){return ha.apply(this,arguments)}function ha(){return(ha=(0,u.Z)(function*(C,_,v){var D;const M=yield v.verify();try{let k;if(Te("string"==typeof M,C,"argument-error"),Te(v.type===pn,C,"argument-error"),k="string"==typeof _?{phoneNumber:_}:_,"session"in k){const Y=k.session;if("phoneNumber"in k)return Te("enroll"===Y.type,C,"internal-error"),(yield bd(C,{idToken:Y.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{Te("signin"===Y.type,C,"internal-error");const pe=(null===(D=k.multiFactorHint)||void 0===D?void 0:D.uid)||k.multiFactorUid;return Te(pe,C,"missing-multi-factor-info"),(yield Tn(C,{mfaPendingCredential:Y.credential,mfaEnrollmentId:pe,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Y}=yield nE(C,{phoneNumber:k.phoneNumber,recaptchaToken:M});return Y}}finally{v._reset()}})).apply(this,arguments)}function In(){return(In=(0,u.Z)(function*(C,_){yield cn((0,H.m9)(C),_)})).apply(this,arguments)}let xo=(()=>{class C{constructor(v){this.providerId=C.PROVIDER_ID,this.auth=ln(v)}verifyPhoneNumber(v,D){return Zf(this.auth,v,(0,H.m9)(D))}static credential(v,D){return dl._fromVerification(v,D)}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:D,temporaryProof:M}=v;return D&&M?dl._fromTokenResponse(D,M):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function sn(C,_){return _?ae(_):(Te(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class El extends Fi{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return Hn(_,this._buildIdpRequest())}_linkToIdToken(_,v){return Hn(_,this._buildIdpRequest(v))}_getReauthenticationResolver(_){return Hn(_,this._buildIdpRequest())}_buildIdpRequest(_){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(v.idToken=_),v}}function zf(C){return rm(C.auth,new El(C),C.bypassAuthState)}function ji(C){const{auth:_,user:v}=C;return Te(v,_,"internal-error"),dn(v,new El(C),C.bypassAuthState)}function Ds(C){return fa.apply(this,arguments)}function fa(){return(fa=(0,u.Z)(function*(C){const{auth:_,user:v}=C;return Te(v,_,"internal-error"),cn(v,new El(C),C.bypassAuthState)})).apply(this,arguments)}class Ro{constructor(_,v,D,M,k=!1){this.auth=_,this.resolver=D,this.user=M,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var _=this;return new Promise(function(){var v=(0,u.Z)(function*(D,M){_.pendingPromise={resolve:D,reject:M};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(k){_.reject(k)}});return function(D,M){return v.apply(this,arguments)}}())}onAuthEvent(_){var v=this;return(0,u.Z)(function*(){const{urlResponse:D,sessionId:M,postBody:k,tenantId:Y,error:pe,type:xe}=_;if(pe)return void v.reject(pe);const qe={auth:v.auth,requestUri:D,sessionId:M,tenantId:Y||void 0,postBody:k||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(xe)(qe))}catch(dt){v.reject(dt)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return zf;case"linkViaPopup":case"linkViaRedirect":return Ds;case"reauthViaPopup":case"reauthViaRedirect":return ji;default:Be(this.auth,"internal-error")}}resolve(_){le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ko=new ut(2e3,1e4);function Sd(){return(Sd=(0,u.Z)(function*(C,_,v){const D=ln(C);Mt(C,_,rs);const M=sn(D,v);return new An(D,"signInViaPopup",_,M).executeNotNull()})).apply(this,arguments)}function ym(){return(ym=(0,u.Z)(function*(C,_,v){const D=(0,H.m9)(C);Mt(D.auth,_,rs);const M=sn(D.auth,v);return new An(D.auth,"reauthViaPopup",_,M,D).executeNotNull()})).apply(this,arguments)}function Nd(){return(Nd=(0,u.Z)(function*(C,_,v){const D=(0,H.m9)(C);Mt(D.auth,_,rs);const M=sn(D.auth,v);return new An(D.auth,"linkViaPopup",_,M,D).executeNotNull()})).apply(this,arguments)}let An=(()=>{class C extends Ro{constructor(v,D,M,k,Y){super(v,D,k,Y),this.provider=M,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var v=this;return(0,u.Z)(function*(){const D=yield v.execute();return Te(D,v.auth,"internal-error"),D})()}onExecution(){var v=this;return(0,u.Z)(function*(){le(1===v.filter.length,"Popup operations only handle one event");const D=To();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],D),v.authWindow.associatedEvent=D,v.resolver._originValidation(v.auth).catch(M=>{v.reject(M)}),v.resolver._isIframeWebStorageSupported(v.auth,M=>{M||v.reject(at(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(at(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const v=()=>{var D,M;this.pollId=(null===(M=null===(D=this.authWindow)||void 0===D?void 0:D.window)||void 0===M?void 0:M.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(at(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(v,ko.get())};v()}}return C.currentPopupAction=null,C})();const Oo=new Map;class Fv extends Ro{constructor(_,v,D=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,D),this.eventId=null}execute(){var _=()=>super.execute,v=this;return(0,u.Z)(function*(){let D=Oo.get(v.auth._key());if(!D){try{const k=(yield function(C,_){return Wf.apply(this,arguments)}(v.resolver,v.auth))?yield _().call(v):null;D=()=>Promise.resolve(k)}catch(M){D=()=>Promise.reject(M)}Oo.set(v.auth._key(),D)}return D()})()}onAuthEvent(_){var v=()=>super.onAuthEvent,D=this;return(0,u.Z)(function*(){if("signInViaRedirect"===_.type)return v().call(D,_);if("unknown"!==_.type){if(_.eventId){const M=yield D.auth._redirectUserForId(_.eventId);if(M)return D.user=M,v().call(D,_);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function Wf(){return(Wf=(0,u.Z)(function*(C,_){const v=ga(_),D="true"===(yield pa(C)._get(v));return yield pa(C)._remove(v),D})).apply(this,arguments)}function Yf(C,_){return as.apply(this,arguments)}function as(){return(as=(0,u.Z)(function*(C,_){return pa(C)._set(ga(_),"true")})).apply(this,arguments)}function pa(C){return ae(C._redirectPersistence)}function ga(C){return Wn("pendingRedirect",C.config.apiKey,C.name)}function bm(){return(bm=(0,u.Z)(function*(C,_,v){const D=ln(C);Mt(C,_,rs);const M=sn(D,v);return yield Yf(M,D),M._openRedirect(D,_,"signInViaRedirect")})).apply(this,arguments)}function Po(){return(Po=(0,u.Z)(function*(C,_,v){const D=(0,H.m9)(C);Mt(D.auth,_,rs);const M=sn(D.auth,v);yield Yf(M,D.auth);const k=yield bt(D);return M._openRedirect(D.auth,_,"reauthViaRedirect",k)})).apply(this,arguments)}function Xf(){return(Xf=(0,u.Z)(function*(C,_,v){const D=(0,H.m9)(C);Mt(D.auth,_,rs);const M=sn(D.auth,v);yield qs(!1,D,_.providerId),yield Yf(M,D.auth);const k=yield bt(D);return M._openRedirect(D.auth,_,"linkViaRedirect",k)})).apply(this,arguments)}function Cm(){return(Cm=(0,u.Z)(function*(C,_){return yield ln(C)._initializationPromise,Cl(C,_,!1)})).apply(this,arguments)}function Cl(C,_){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,u.Z)(function*(C,_,v=!1){const D=ln(C),M=sn(D,_),Y=yield new Fv(D,M,v).execute();return Y&&!v&&(delete Y.user._redirectEventId,yield D._persistUserIfCurrent(Y.user),yield D._setRedirectUser(null,_)),Y})).apply(this,arguments)}function bt(C){return tp.apply(this,arguments)}function tp(){return(tp=(0,u.Z)(function*(C){const _=To(`${C.uid}:::`);return C._redirectEventId=_,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),_})).apply(this,arguments)}class xd{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let v=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(_,D)&&(v=!0,this.sendToConsumer(_,D),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Lo(C);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=_,v=!0)),v}sendToConsumer(_,v){var D;if(_.error&&!Lo(_)){const M=(null===(D=_.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";v.onError(at(this.auth,M))}else v.onAuthEvent(_)}isEventForConsumer(_,v){const D=null===v.eventId||!!_.eventId&&_.eventId===v.eventId;return v.filter.includes(_.type)&&D}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(np(_))}saveEventToCache(_){this.cachedEventUids.add(np(_)),this.lastProcessedEventTime=Date.now()}}function np(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(_=>_).join("-")}function Lo({type:C,error:_}){return"unknown"===C&&"auth/no-auth-event"===(null==_?void 0:_.code)}function Dm(C){return mi.apply(this,arguments)}function mi(){return(mi=(0,u.Z)(function*(C,_={}){return xt(C,"GET","/v1/projects",_)})).apply(this,arguments)}const rp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Lv=/^https?/;function Ts(){return(Ts=(0,u.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:_}=yield Dm(C);for(const v of _)try{if(Pn(v))return}catch(D){}Be(C,"unauthorized-domain")})).apply(this,arguments)}function Pn(C){const _=ke(),{protocol:v,hostname:D}=new URL(_);if(C.startsWith("chrome-extension://")){const Y=new URL(C);return""===Y.hostname&&""===D?"chrome-extension:"===v&&C.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===v&&Y.hostname===D}if(!Lv.test(v))return!1;if(rp.test(C))return D===C;const M=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(D)}const ar=new ut(3e4,6e4);function Tm(){const C=wn().___jsl;if(null==C?void 0:C.H)for(const _ of Object.keys(C.H))if(C.H[_].r=C.H[_].r||[],C.H[_].L=C.H[_].L||[],C.H[_].r=[...C.H[_].L],C.CP)for(let v=0;v<C.CP.length;v++)C.CP[v]=null}let _a=null;function $u(C){return _a=_a||function(C){return new Promise((_,v)=>{var D,M,k;function Y(){Tm(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{Tm(),v(at(C,"network-request-failed"))},timeout:ar.get()})}if(null===(M=null===(D=wn().gapi)||void 0===D?void 0:D.iframes)||void 0===M?void 0:M.Iframe)_(gapi.iframes.getContext());else{if(!(null===(k=wn().gapi)||void 0===k?void 0:k.load)){const pe=Id("iframefcb");return wn()[pe]=()=>{gapi.load?Y():v(at(C,"network-request-failed"))},Gf(`https://apis.google.com/js/api.js?onload=${pe}`)}Y()}}).catch(_=>{throw _a=null,_})}(C),_a}const Am=new ut(5e3,15e3),ya={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},Dl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Rd(C){const _=C.config;Te(_.authDomain,C,"auth-domain-config-required");const v=_.emulator?vn(_,"emulator/auth/iframe"):`https://${C.config.authDomain}/__/auth/iframe`,D={apiKey:_.apiKey,appName:C.name,v:ve.SDK_VERSION},M=Dl.get(C.config.apiHost);M&&(D.eid=M);const k=C._getFrameworks();return k.length&&(D.fw=k.join(",")),`${v}?${(0,H.xO)(D).slice(1)}`}function It(){return(It=(0,u.Z)(function*(C){const _=yield $u(C),v=wn().gapi;return Te(v,C,"internal-error"),_.open({where:document.body,url:Rd(C),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ya,dontclear:!0},D=>new Promise(function(){var M=(0,u.Z)(function*(k,Y){yield D.restyle({setHideOnLeave:!1});const pe=at(C,"network-request-failed"),xe=wn().setTimeout(()=>{Y(pe)},Am.get());function qe(){wn().clearTimeout(xe),k(D)}D.ping(qe).then(qe,()=>{Y(pe)})});return function(k,Y){return M.apply(this,arguments)}}()))})).apply(this,arguments)}const Hu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Il{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(_){}}}function qu(C,_,v,D,M,k){Te(C.config.authDomain,C,"auth-domain-config-required"),Te(C.config.apiKey,C,"invalid-api-key");const Y={apiKey:C.config.apiKey,appName:C.name,authType:v,redirectUrl:D,v:ve.SDK_VERSION,eventId:M};if(_ instanceof rs){_.setDefaultLanguage(C.languageCode),Y.providerId=_.providerId||"",(0,H.xb)(_.getCustomParameters())||(Y.customParameters=JSON.stringify(_.getCustomParameters()));for(const[xe,qe]of Object.entries(k||{}))Y[xe]=qe}if(_ instanceof Su){const xe=_.getScopes().filter(qe=>""!==qe);xe.length>0&&(Y.scopes=xe.join(","))}C.tenantId&&(Y.tid=C.tenantId);const pe=Y;for(const xe of Object.keys(pe))void 0===pe[xe]&&delete pe[xe];return`${function({config:C}){return C.emulator?vn(C,"emulator/auth/handler"):`https://${C.authDomain}/__/auth/handler`}(C)}?${(0,H.xO)(pe).slice(1)}`}const ba="webStorageSupport";class Js extends class{constructor(_){this.factorId=_}_process(_,v,D){switch(v.type){case"enroll":return this._finalizeEnroll(_,v.credential,D);case"signin":return this._finalizeSignIn(_,v.credential);default:return se("unexpected MultiFactorSessionType")}}}{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new Js(_)}_finalizeEnroll(_,v,D){return function(C,_){return xt(C,"POST","/v2/accounts/mfaEnrollment:finalize",an(C,_))}(_,{idToken:v,displayName:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,v){return function(C,_){return xt(C,"POST","/v2/accounts/mfaSignIn:finalize",an(C,_))}(_,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Bv=(()=>{class C{constructor(){}static assertion(v){return Js._fromCredential(v)}}return C.FACTOR_ID="phone",C})();var C;class $v{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var v=this;return(0,u.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const v=this.auth.onIdTokenChanged(D=>{var M;_((null===(M=D)||void 0===M?void 0:M.stsTokenManager.accessToken)||null)});this.internalListeners.set(_,v),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const v=this.internalListeners.get(_);!v||(this.internalListeners.delete(_),v(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Vo(){return window}function Wu(){return(Wu=(0,u.Z)(function*(C,_,v){var D;const{BuildInfo:M}=Vo();le(_.sessionId,"AuthEvent did not contain a session ID");const k=yield Rm(_.sessionId),Y={};return wr()?Y.ibi=M.packageName:ll()?Y.apn=M.packageName:Be(C,"operation-not-supported-in-this-environment"),M.displayName&&(Y.appDisplayName=M.displayName),Y.sessionId=k,qu(C,v,_.type,void 0,null!==(D=_.eventId)&&void 0!==D?D:void 0,Y)})).apply(this,arguments)}function wa(){return(wa=(0,u.Z)(function*(C){const{BuildInfo:_}=Vo(),v={};wr()?v.iosBundleId=_.packageName:ll()?v.androidPackageName=_.packageName:Be(C,"operation-not-supported-in-this-environment"),yield Dm(C,v)})).apply(this,arguments)}function up(){return(up=(0,u.Z)(function*(C,_,v){const{cordova:D}=Vo();let M=()=>{};try{yield new Promise((k,Y)=>{let pe=null;function xe(){var tt;k();const Fn=null===(tt=D.plugins.browsertab)||void 0===tt?void 0:tt.close;"function"==typeof Fn&&Fn(),"function"==typeof(null==v?void 0:v.close)&&v.close()}function qe(){pe||(pe=window.setTimeout(()=>{Y(at(C,"redirect-cancelled-by-user"))},2e3))}function dt(){"visible"===(null==document?void 0:document.visibilityState)&&qe()}_.addPassiveListener(xe),document.addEventListener("resume",qe,!1),ll()&&document.addEventListener("visibilitychange",dt,!1),M=()=>{_.removePassiveListener(xe),document.removeEventListener("resume",qe,!1),document.removeEventListener("visibilitychange",dt,!1),pe&&window.clearTimeout(pe)}})}finally{M()}})).apply(this,arguments)}function Rm(C){return km.apply(this,arguments)}function km(){return(km=(0,u.Z)(function*(C){const _=Fd(C),v=yield crypto.subtle.digest("SHA-256",_);return Array.from(new Uint8Array(v)).map(M=>M.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Fd(C){if(le(/[0-9a-zA-Z]+/.test(C),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(C);const _=new ArrayBuffer(C.length),v=new Uint8Array(_);for(let D=0;D<C.length;D++)v[D]=C.charCodeAt(D);return v}C="Browser",(0,ve._registerComponent)(new ie.wA("auth",(_,{options:v})=>{const D=_.getProvider("app").getImmediate(),{apiKey:M,authDomain:k}=D.options;return(Y=>{Te(M&&!M.includes(":"),"invalid-api-key",{appName:Y.name}),Te(!(null==k?void 0:k.includes(":")),"argument-error",{appName:Y.name});const pe={apiKey:M,authDomain:k,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Qt(C)},xe=new fi(Y,pe);return function(C,_){const v=(null==_?void 0:_.persistence)||[],D=(Array.isArray(v)?v:[v]).map(ae);(null==_?void 0:_.errorMap)&&C._updateErrorMap(_.errorMap),C._initializeWithPersistence(D,null==_?void 0:_.popupRedirectResolver)}(xe,v),xe})(D)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,v,D)=>{_.getProvider("auth-internal").initialize()})),(0,ve._registerComponent)(new ie.wA("auth-internal",_=>{const v=ln(_.getProvider("auth").getImmediate());return new $v(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ve.registerVersion)("@firebase/auth","0.18.1",void 0);class Ld extends xd{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(_=>{this.resolveInialized=_})}addPassiveListener(_){this.passiveListeners.add(_)}removePassiveListener(_){this.passiveListeners.delete(_)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(_){return this.resolveInialized(),this.passiveListeners.forEach(v=>v(_)),super.onEvent(_)}initialized(){var _=this;return(0,u.Z)(function*(){yield _.initPromise})()}}function Yu(C){return Vd.apply(this,arguments)}function Vd(){return(Vd=(0,u.Z)(function*(C){const _=yield Om()._get(Pm(C));return _&&(yield Om()._remove(Pm(C))),_})).apply(this,arguments)}function Gv(){const C=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<20;v++){const D=Math.floor(Math.random()*_.length);C.push(_.charAt(D))}return C.join("")}function Om(){return ae(Uf)}function Pm(C){return Wn("authEvent",C.config.apiKey,C.name)}function Is(C){if(!(null==C?void 0:C.includes("?")))return{};const[_,...v]=C.split("?");return(0,H.zd)(v.join("?"))}function Lm(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:at("no-auth-event")}}function Uo(){var C;return(null===(C=null==self?void 0:self.location)||void 0===C?void 0:C.protocol)||null}function Ud(C=(0,H.z$)()){return!("file:"!==Uo()&&"ionic:"!==Uo()||!C.toLowerCase().match(/iphone|ipad|ipod|android/))}function Bd(){try{const C=self.localStorage,_=To();if(C)return C.setItem(_,"1"),C.removeItem(_),!function(C=(0,H.z$)()){return(0,H.w1)()&&11===(null==document?void 0:document.documentMode)||function(C=(0,H.z$)()){return/Edge\/\d+/.test(C)}(C)}()||(0,H.hl)()}catch(C){return jd()&&(0,H.hl)()}return!1}function jd(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function $d(){return("http:"===Uo()||"https:"===Uo()||(0,H.ru)()||Ud())&&!((0,H.b$)()||(0,H.UG)())&&Bd()&&!jd()}function jm(){return Ud()&&"undefined"!=typeof document}function As(){return(As=(0,u.Z)(function*(){return!!jm()&&new Promise(C=>{const _=setTimeout(()=>{C(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(_),C(!0)})})})).apply(this,arguments)}const _i={LOCAL:"local",NONE:"none",SESSION:"session"},Ss=Te,Wv="persistence";function lr(C){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,u.Z)(function*(C){yield C._initializationPromise;const _=Ca(),v=Wn(Wv,C.config.apiKey,C.name);(null==_?void 0:_.sessionStorage)&&_.sessionStorage.setItem(v,C._getPersistence())})).apply(this,arguments)}function Ca(){return"undefined"!=typeof window?window:null}const ur=Te;class yi{constructor(){this.browserResolver=ae(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ws,this._completeRedirectFn=Cl}_openPopup(_,v,D,M){var k=this;return(0,u.Z)(function*(){var Y;le(null===(Y=k.eventManagers[_._key()])||void 0===Y?void 0:Y.manager,"_initialize() not called before _openPopup()");const pe=qu(_,v,D,ke(),M);return function(C,_,v,D=500,M=600){const k=Math.max((window.screen.availHeight-M)/2,0).toString(),Y=Math.max((window.screen.availWidth-D)/2,0).toString();let pe="";const xe=Object.assign(Object.assign({},Hu),{width:D.toString(),height:M.toString(),top:k,left:Y}),qe=(0,H.z$)().toLowerCase();v&&(pe=mf(qe)?"_blank":v),id(qe)&&(_=_||"http://localhost",xe.scrollbars="yes");const dt=Object.entries(xe).reduce((Fn,[Jr,ec])=>`${Fn}${Jr}=${ec},`,"");if(function(C=(0,H.z$)()){var _;return wr(C)&&!!(null===(_=window.navigator)||void 0===_?void 0:_.standalone)}(qe)&&"_self"!==pe)return function(C,_){const v=document.createElement("a");v.href=C,v.target=_;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(D)}(_||"",pe),new Il(null);const tt=window.open(_||"",pe,dt);Te(tt,C,"popup-blocked");try{tt.focus()}catch(Fn){}return new Il(tt)}(_,pe,To())})()}_openRedirect(_,v,D,M){var k=this;return(0,u.Z)(function*(){return yield k._originValidation(_),C=qu(_,v,D,ke(),M),wn().location.href=C,new Promise(()=>{});var C})()}_initialize(_){const v=_._key();if(this.eventManagers[v]){const{manager:M,promise:k}=this.eventManagers[v];return M?Promise.resolve(M):(le(k,"If manager is not set, promise should be"),k)}const D=this.initAndGetManager(_);return this.eventManagers[v]={promise:D},D}initAndGetManager(_){var v=this;return(0,u.Z)(function*(){const D=yield function(C){return It.apply(this,arguments)}(_),M=new xd(_);return D.register("authEvent",k=>(Te(null==k?void 0:k.authEvent,_,"invalid-auth-event"),{status:M.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[_._key()]={manager:M},v.iframes[_._key()]=D,M})()}_isIframeWebStorageSupported(_,v){this.iframes[_._key()].send(ba,{type:ba},M=>{var k;const Y=null===(k=null==M?void 0:M[0])||void 0===k?void 0:k[ba];void 0!==Y&&v(!!Y),Be(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const v=_._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function(C){return Ts.apply(this,arguments)}(_)),this.originValidationPromises[v]}get _shouldInitProactively(){return Ve()||sd()||wr()}}),this.cordovaResolver=ae(class{constructor(){this._redirectPersistence=ws,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Cl}_initialize(_){var v=this;return(0,u.Z)(function*(){const D=_._key();let M=v.eventManagers.get(D);return M||(M=new Ld(_),v.eventManagers.set(D,M),v.attachCallbackListeners(_,M)),M})()}_openPopup(_){Be(_,"operation-not-supported-in-this-environment")}_openRedirect(_,v,D,M){var k=this;return(0,u.Z)(function*(){!function(C){var _,v,D,M,k,Y,pe,xe,qe,dt;const tt=Vo();Te("function"==typeof(null===(_=null==tt?void 0:tt.universalLinks)||void 0===_?void 0:_.subscribe),C,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Te(void 0!==(null===(v=null==tt?void 0:tt.BuildInfo)||void 0===v?void 0:v.packageName),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Te("function"==typeof(null===(k=null===(M=null===(D=null==tt?void 0:tt.cordova)||void 0===D?void 0:D.plugins)||void 0===M?void 0:M.browsertab)||void 0===k?void 0:k.openUrl),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Te("function"==typeof(null===(xe=null===(pe=null===(Y=null==tt?void 0:tt.cordova)||void 0===Y?void 0:Y.plugins)||void 0===pe?void 0:pe.browsertab)||void 0===xe?void 0:xe.isAvailable),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Te("function"==typeof(null===(dt=null===(qe=null==tt?void 0:tt.cordova)||void 0===qe?void 0:qe.InAppBrowser)||void 0===dt?void 0:dt.open),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(_);const Y=yield k._initialize(_);yield Y.initialized(),Y.resetRedirect(),Oo.clear(),yield k._originValidation(_);const pe=function(C,_,v=null){return{type:_,eventId:v,urlResponse:null,sessionId:Gv(),postBody:null,tenantId:C.tenantId,error:at(C,"no-auth-event")}}(_,D,M);yield function(C,_){return Om()._set(Pm(C),_)}(_,pe);const xe=yield function(C,_,v){return Wu.apply(this,arguments)}(_,pe,v),qe=yield function(C){const{cordova:_}=Vo();return new Promise(v=>{_.plugins.browsertab.isAvailable(D=>{let M=null;D?_.plugins.browsertab.openUrl(C):M=_.InAppBrowser.open(C,function(C=(0,H.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}()?"_blank":"_system","location=yes"),v(M)})})}(xe);return function(C,_,v){return up.apply(this,arguments)}(_,Y,qe)})()}_isIframeWebStorageSupported(_,v){throw new Error("Method not implemented.")}_originValidation(_){const v=_._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function(C){return wa.apply(this,arguments)}(_)),this.originValidationPromises[v]}attachCallbackListeners(_,v){const{universalLinks:D,handleOpenURL:M,BuildInfo:k}=Vo(),Y=setTimeout((0,u.Z)(function*(){yield Yu(_),v.onEvent(Lm())}),500),pe=function(){var dt=(0,u.Z)(function*(tt){clearTimeout(Y);const Fn=yield Yu(_);let Jr=null;Fn&&(null==tt?void 0:tt.url)&&(Jr=function(C,_){var v,D;const M=function(C){const _=Is(C),v=_.link?decodeURIComponent(_.link):void 0,D=Is(v).link,M=_.deep_link_id?decodeURIComponent(_.deep_link_id):void 0;return Is(M).link||M||D||v||C}(_);if(M.includes("/__/auth/callback")){const k=Is(M),Y=k.firebaseError?function(C){try{return JSON.parse(C)}catch(_){return null}}(decodeURIComponent(k.firebaseError)):null,pe=null===(D=null===(v=null==Y?void 0:Y.code)||void 0===v?void 0:v.split("auth/"))||void 0===D?void 0:D[1],xe=pe?at(pe):null;return xe?{type:C.type,eventId:C.eventId,tenantId:C.tenantId,error:xe,urlResponse:null,sessionId:null,postBody:null}:{type:C.type,eventId:C.eventId,tenantId:C.tenantId,sessionId:C.sessionId,urlResponse:M,postBody:null}}return null}(Fn,tt.url)),v.onEvent(Jr||Lm())});return function(Fn){return dt.apply(this,arguments)}}();void 0!==D&&"function"==typeof D.subscribe&&D.subscribe(null,pe);const xe=M,qe=`${k.packageName.toLowerCase()}://`;Vo().handleOpenURL=function(){var dt=(0,u.Z)(function*(tt){if(tt.toLowerCase().startsWith(qe)&&pe({url:tt}),"function"==typeof xe)try{xe(tt)}catch(Fn){console.error(Fn)}});return function(tt){return dt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=ws,this._completeRedirectFn=Cl}_initialize(_){var v=this;return(0,u.Z)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._initialize(_)})()}_openPopup(_,v,D,M){var k=this;return(0,u.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openPopup(_,v,D,M)})()}_openRedirect(_,v,D,M){var k=this;return(0,u.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openRedirect(_,v,D,M)})()}_isIframeWebStorageSupported(_,v){this.assertedUnderlyingResolver._isIframeWebStorageSupported(_,v)}_originValidation(_){return this.assertedUnderlyingResolver._originValidation(_)}get _shouldInitProactively(){return jm()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ur(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var _=this;return(0,u.Z)(function*(){if(_.underlyingResolver)return;const v=yield function(){return As.apply(this,arguments)}();_.underlyingResolver=v?_.cordovaResolver:_.browserResolver})()}}function Hd(C){return C.unwrap()}function gp(C){return mp(C)}function vi(C,_){var v;const D=null===(v=_.customData)||void 0===v?void 0:v._tokenResponse;if("auth/multi-factor-auth-required"===_.code)_.resolver=new Kv(C,function(C,_){var v;const D=(0,H.m9)(C),M=_;return Te(_.operationType,D,"argument-error"),Te(null===(v=M.serverResponse)||void 0===v?void 0:v.mfaPendingCredential,D,"argument-error"),yl._fromError(D,M)}(C,_));else if(D){const M=mp(_),k=_;M&&(k.credential=M,k.tenantId=D.tenantId||void 0,k.email=D.email||void 0,k.phoneNumber=D.phoneNumber||void 0)}}function mp(C){const{_tokenResponse:_}=C instanceof H.ZR?C.customData:C;if(!_)return null;if(!(C instanceof H.ZR)&&"temporaryProof"in _&&"phoneNumber"in _)return xo.credentialFromResult(C);const v=_.providerId;if(!v||"password"===v)return null;let D;switch(v){case"google.com":D=Eo;break;case"facebook.com":D=yf;break;case"github.com":D=Xg;break;case"twitter.com":D=bf;break;default:const{oauthIdToken:M,oauthAccessToken:k,oauthTokenSecret:Y,pendingToken:pe,nonce:xe}=_;return k||Y||M||pe?pe?v.startsWith("saml.")?Co._create(v,pe):vs._fromParams({providerId:v,signInMethod:v,pendingToken:pe,idToken:M,accessToken:k}):new oa(v).credential({idToken:M,accessToken:k,rawNonce:xe}):null}return C instanceof H.ZR?D.credentialFromError(C):D.credentialFromResult(C)}function Tr(C,_){return xl.apply(this,arguments)}function xl(){return(xl=(0,u.Z)(function*(C,_){let v;try{v=yield _}catch(k){throw k instanceof H.ZR&&vi(C,k),k}const{operationType:D,user:M}=v;return{operationType:D,credential:gp(v),additionalUserInfo:Nv(v),user:to.getOrCreate(M)}})).apply(this,arguments)}function Da(C,_){return _p.apply(this,arguments)}function _p(){return(_p=(0,u.Z)(function*(C,_){const v=yield _;return{verificationId:v.verificationId,confirm:D=>Tr(C,v.confirm(D))}})).apply(this,arguments)}class Kv{constructor(_,v){this.resolver=v,this.auth=function(C){return C.wrapped()}(_)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(_){return Tr(Hd(this.auth),this.resolver.resolveSignIn(_))}}class to{constructor(_){this._delegate=_,this.multiFactor=function(C){const _=(0,H.m9)(C);return bs.has(_)||bs.set(_,Pf._fromUser(_)),bs.get(_)}(_)}static getOrCreate(_){return to.USER_MAP.has(_)||to.USER_MAP.set(_,new to(_)),to.USER_MAP.get(_)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(_){return this._delegate.getIdTokenResult(_)}getIdToken(_){return this._delegate.getIdToken(_)}linkAndRetrieveDataWithCredential(_){return this.linkWithCredential(_)}linkWithCredential(_){var v=this;return(0,u.Z)(function*(){return Tr(v.auth,hd(v._delegate,_))})()}linkWithPhoneNumber(_,v){var D=this;return(0,u.Z)(function*(){return Da(D.auth,function(C,_,v){return mm.apply(this,arguments)}(D._delegate,_,v))})()}linkWithPopup(_){var v=this;return(0,u.Z)(function*(){return Tr(v.auth,function(C,_,v){return Nd.apply(this,arguments)}(v._delegate,_,yi))})()}linkWithRedirect(_){var v=this;return(0,u.Z)(function*(){return yield lr(ln(v.auth)),function(C,_,v){return function(C,_,v){return Xf.apply(this,arguments)}(C,_,v)}(v._delegate,_,yi)})()}reauthenticateAndRetrieveDataWithCredential(_){return this.reauthenticateWithCredential(_)}reauthenticateWithCredential(_){var v=this;return(0,u.Z)(function*(){return Tr(v.auth,Kr(v._delegate,_))})()}reauthenticateWithPhoneNumber(_,v){return Da(this.auth,function(C,_,v){return gn.apply(this,arguments)}(this._delegate,_,v))}reauthenticateWithPopup(_){return Tr(this.auth,function(C,_,v){return ym.apply(this,arguments)}(this._delegate,_,yi))}reauthenticateWithRedirect(_){var v=this;return(0,u.Z)(function*(){return yield lr(ln(v.auth)),function(C,_,v){return function(C,_,v){return Po.apply(this,arguments)}(C,_,v)}(v._delegate,_,yi)})()}sendEmailVerification(_){return function(C,_){return gi.apply(this,arguments)}(this._delegate,_)}unlink(_){var v=this;return(0,u.Z)(function*(){return yield function(C,_){return nm.apply(this,arguments)}(v._delegate,_),v})()}updateEmail(_){return function(C,_){return Rf((0,H.m9)(C),_,null)}(this._delegate,_)}updatePassword(_){return function(C,_){return Rf((0,H.m9)(C),null,_)}(this._delegate,_)}updatePhoneNumber(_){return function(C,_){return In.apply(this,arguments)}(this._delegate,_)}updateProfile(_){return function(C,_){return ku.apply(this,arguments)}(this._delegate,_)}verifyBeforeUpdateEmail(_,v){return function(C,_,v){return _d.apply(this,arguments)}(this._delegate,_,v)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}to.USER_MAP=new WeakMap;const Rl=Te;let Ta=(()=>{class C{constructor(v,D){if(this.app=v,D.isInitialized())return this._delegate=D.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:M}=v.options;Rl(M,"invalid-api-key",{appName:v.name});let k=[Rt];if("undefined"!=typeof window){k=function(C,_){const v=Ca();if(!(null==v?void 0:v.sessionStorage))return[];const D=Wn(Wv,C,_);switch(v.sessionStorage.getItem(D)){case _i.NONE:return[Rt];case _i.LOCAL:return[Ao,ws];case _i.SESSION:return[ws];default:return[]}}(M,v.name);for(const pe of[Ao,Uf,ws])k.includes(pe)||k.push(pe)}Rl(M,"invalid-api-key",{appName:v.name});const Y="undefined"!=typeof window?yi:void 0;this._delegate=D.initialize({options:{persistence:k,popupRedirectResolver:Y}}),this._delegate._updateErrorMap(Ee),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?to.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(v){this._delegate.languageCode=v}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(v){this._delegate.tenantId=v}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(v,D){!function(C,_,v){const D=ln(C);Te(D._canInitEmulator,D,"emulator-config-failed"),Te(/^https?:\/\//.test(_),D,"invalid-emulator-scheme");const M=!!(null==v?void 0:v.disableWarnings),k=bn(_),{host:Y,port:pe}=function(C){const _=bn(C),v=/(\/\/)?([^?#/]+)/.exec(C.substr(_.length));if(!v)return{host:"",port:null};const D=v[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(D);if(M){const k=M[1];return{host:k,port:sa(D.substr(k.length+1))}}{const[k,Y]=D.split(":");return{host:k,port:sa(Y)}}}(_);D.config.emulator={url:`${k}//${Y}${null===pe?"":`:${pe}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:Y,port:pe,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:M})}),function(C){function _(){const v=document.createElement("p"),D=v.style;v.innerText="Running in emulator mode. Do not use with production credentials.",D.position="fixed",D.width="100%",D.backgroundColor="#ffffff",D.border=".1em solid #000000",D.color="#b50000",D.bottom="0px",D.left="0px",D.margin="0px",D.zIndex="10000",D.textAlign="center",v.classList.add("firebase-emulator-warning"),document.body.appendChild(v)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&!C&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}(M)}(this._delegate,v,D)}applyActionCode(v){return function(C,_){return la.apply(this,arguments)}(this._delegate,v)}checkActionCode(v){return Ae(this._delegate,v)}confirmPasswordReset(v,D){return function(C,_,v){return If.apply(this,arguments)}(this._delegate,v,D)}createUserWithEmailAndPassword(v,D){var M=this;return(0,u.Z)(function*(){return Tr(M._delegate,function(C,_,v){return Zs.apply(this,arguments)}(M._delegate,v,D))})()}fetchProvidersForEmail(v){return this.fetchSignInMethodsForEmail(v)}fetchSignInMethodsForEmail(v){return function(C,_){return Nf.apply(this,arguments)}(this._delegate,v)}isSignInWithEmailLink(v){return function(C,_){const v=ld.parseLink(_);return"EMAIL_SIGNIN"===(null==v?void 0:v.operation)}(0,v)}getRedirectResult(){var v=this;return(0,u.Z)(function*(){Rl($d(),v._delegate,"operation-not-supported-in-this-environment");const D=yield function(C,_){return Cm.apply(this,arguments)}(v._delegate,yi);return D?Tr(v._delegate,Promise.resolve(D)):{credential:null,user:null}})()}addFrameworkForLogging(v){!function(C,_){ln(C)._logFramework(_)}(this._delegate,v)}onAuthStateChanged(v,D,M){const{next:k,error:Y,complete:pe}=Gd(v,D,M);return this._delegate.onAuthStateChanged(k,Y,pe)}onIdTokenChanged(v,D,M){const{next:k,error:Y,complete:pe}=Gd(v,D,M);return this._delegate.onIdTokenChanged(k,Y,pe)}sendSignInLinkToEmail(v,D){return function(C,_,v){return gl.apply(this,arguments)}(this._delegate,v,D)}sendPasswordResetEmail(v,D){return function(C,_,v){return Tf.apply(this,arguments)}(this._delegate,v,D||void 0)}setPersistence(v){var D=this;return(0,u.Z)(function*(){let M;switch(function(C,_){Ss(Object.values(_i).includes(_),C,"invalid-persistence-type"),(0,H.b$)()?Ss(_!==_i.SESSION,C,"unsupported-persistence-type"):(0,H.UG)()?Ss(_===_i.NONE,C,"unsupported-persistence-type"):jd()?Ss(_===_i.NONE||_===_i.LOCAL&&(0,H.hl)(),C,"unsupported-persistence-type"):Ss(_===_i.NONE||Bd(),C,"unsupported-persistence-type")}(D._delegate,v),v){case _i.SESSION:M=ws;break;case _i.LOCAL:M=(yield ae(Ao)._isAvailable())?Ao:Uf;break;case _i.NONE:M=Rt;break;default:return Be("argument-error",{appName:D._delegate.name})}return D._delegate.setPersistence(M)})()}signInAndRetrieveDataWithCredential(v){return this.signInWithCredential(v)}signInAnonymously(){return Tr(this._delegate,function(C){return Nu.apply(this,arguments)}(this._delegate))}signInWithCredential(v){return Tr(this._delegate,Fr(this._delegate,v))}signInWithCustomToken(v){return Tr(this._delegate,function(C,_){return fd.apply(this,arguments)}(this._delegate,v))}signInWithEmailAndPassword(v,D){return Tr(this._delegate,function(C,_,v){return Fr((0,H.m9)(C),ud.credential(_,v))}(this._delegate,v,D))}signInWithEmailLink(v,D){return Tr(this._delegate,function(C,_,v){return ml.apply(this,arguments)}(this._delegate,v,D))}signInWithPhoneNumber(v,D){return Da(this._delegate,function(C,_,v){return Mo.apply(this,arguments)}(this._delegate,v,D))}signInWithPopup(v){var D=this;return(0,u.Z)(function*(){return Rl($d(),D._delegate,"operation-not-supported-in-this-environment"),Tr(D._delegate,function(C,_,v){return Sd.apply(this,arguments)}(D._delegate,v,yi))})()}signInWithRedirect(v){var D=this;return(0,u.Z)(function*(){return Rl($d(),D._delegate,"operation-not-supported-in-this-environment"),yield lr(D._delegate),function(C,_,v){return function(C,_,v){return bm.apply(this,arguments)}(C,_,v)}(D._delegate,v,yi)})()}updateCurrentUser(v){return this._delegate.updateCurrentUser(v)}verifyPasswordResetCode(v){return function(C,_){return rn.apply(this,arguments)}(this._delegate,v)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return C.Persistence=_i,C})();function Gd(C,_,v){let D=C;"function"!=typeof C&&({next:D,error:_,complete:v}=C);const M=D;return{next:Y=>M(Y&&to.getOrCreate(Y)),error:_,complete:v}}class qd{constructor(){this.providerId="phone",this._delegate=new xo(Hd(X.Z.auth()))}static credential(_,v){return xo.credential(_,v)}verifyPhoneNumber(_,v){return this._delegate.verifyPhoneNumber(_,v)}unwrap(){return this._delegate}}qd.PHONE_SIGN_IN_METHOD=xo.PHONE_SIGN_IN_METHOD,qd.PROVIDER_ID=xo.PROVIDER_ID;const Zd=Te;class yp{constructor(_,v,D=X.Z.app()){var M;Zd(null===(M=D.options)||void 0===M?void 0:M.apiKey,"invalid-api-key",{appName:D.name}),this._delegate=new qf(_,v,D.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(C){C.INTERNAL.registerComponent(new ie.wA("auth-compat",_=>{const v=_.getProvider("app-compat").getImmediate(),D=_.getProvider("auth");return new Ta(v,D)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ud,FacebookAuthProvider:yf,GithubAuthProvider:Xg,GoogleAuthProvider:Eo,OAuthProvider:oa,PhoneAuthProvider:qd,PhoneMultiFactorGenerator:Bv,RecaptchaVerifier:yp,TwitterAuthProvider:bf,Auth:Ta,AuthCredential:Fi,Error:H.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),C.registerVersion("@firebase/auth-compat","0.1.4")}(X.Z)},1593:(Ge,Ce,L)=>{"use strict";L.d(Ce,{P:()=>ie});var u=L(9193),X=L(5917),H=L(7574);class ie{constructor(j,F,U){this.kind=j,this.value=F,this.error=U,this.hasValue="N"===j}observe(j){switch(this.kind){case"N":return j.next&&j.next(this.value);case"E":return j.error&&j.error(this.error);case"C":return j.complete&&j.complete()}}do(j,F,U){switch(this.kind){case"N":return j&&j(this.value);case"E":return F&&F(this.error);case"C":return U&&U()}}accept(j,F,U){return j&&"function"==typeof j.next?this.observe(j):this.do(j,F,U)}toObservable(){switch(this.kind){case"N":return(0,X.of)(this.value);case"E":return K=this.error,new H.y(F=>F.error(K));case"C":return(0,u.c)()}var K;throw new Error("unexpected notification kind value")}static createNext(j){return void 0!==j?new ie("N",j):ie.undefinedValueNotification}static createError(j){return new ie("E",void 0,j)}static createComplete(){return ie.completeNotification}}ie.completeNotification=new ie("C"),ie.undefinedValueNotification=new ie("N",void 0)},7574:(Ge,Ce,L)=>{"use strict";L.d(Ce,{y:()=>U});var u=L(7393),H=L(9181),ve=L(6490),Q=L(6554),ie=L(4487);var F=L(2494);let U=(()=>{class oe{constructor(Ee){this._isScalar=!1,Ee&&(this._subscribe=Ee)}lift(Ee){const de=new oe;return de.source=this,de.operator=Ee,de}subscribe(Ee,de,Ie){const{operator:he}=this,ye=function(oe,be,Ee){if(oe){if(oe instanceof u.L)return oe;if(oe[H.b])return oe[H.b]()}return oe||be||Ee?new u.L(oe,be,Ee):new u.L(ve.c)}(Ee,de,Ie);if(ye.add(he?he.call(ye,this.source):this.source||F.v.useDeprecatedSynchronousErrorHandling&&!ye.syncErrorThrowable?this._subscribe(ye):this._trySubscribe(ye)),F.v.useDeprecatedSynchronousErrorHandling&&ye.syncErrorThrowable&&(ye.syncErrorThrowable=!1,ye.syncErrorThrown))throw ye.syncErrorValue;return ye}_trySubscribe(Ee){try{return this._subscribe(Ee)}catch(de){F.v.useDeprecatedSynchronousErrorHandling&&(Ee.syncErrorThrown=!0,Ee.syncErrorValue=de),function(oe){for(;oe;){const{closed:be,destination:Ee,isStopped:de}=oe;if(be||de)return!1;oe=Ee&&Ee instanceof u.L?Ee:null}return!0}(Ee)?Ee.error(de):console.warn(de)}}forEach(Ee,de){return new(de=$(de))((Ie,he)=>{let ye;ye=this.subscribe(Le=>{try{Ee(Le)}catch(Be){he(Be),ye&&ye.unsubscribe()}},he,Ie)})}_subscribe(Ee){const{source:de}=this;return de&&de.subscribe(Ee)}[Q.L](){return this}pipe(...Ee){return 0===Ee.length?this:function(oe){return 0===oe.length?ie.y:1===oe.length?oe[0]:function(Ee){return oe.reduce((de,Ie)=>Ie(de),Ee)}}(Ee)(this)}toPromise(Ee){return new(Ee=$(Ee))((de,Ie)=>{let he;this.subscribe(ye=>he=ye,ye=>Ie(ye),()=>de(he))})}}return oe.create=be=>new oe(be),oe})();function $(oe){if(oe||(oe=F.v.Promise||Promise),!oe)throw new Error("no Promise impl found");return oe}},6490:(Ge,Ce,L)=>{"use strict";L.d(Ce,{c:()=>H});var u=L(2494),X=L(4449);const H={closed:!0,next(ve){},error(ve){if(u.v.useDeprecatedSynchronousErrorHandling)throw ve;(0,X.z)(ve)},complete(){}}},9765:(Ge,Ce,L)=>{"use strict";L.d(Ce,{Yc:()=>ie,xQ:()=>K});var u=L(7574),X=L(7393),H=L(5319),ve=L(7971),fe=L(8858),Q=L(9181);class ie extends X.L{constructor(U){super(U),this.destination=U}}let K=(()=>{class F extends u.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Q.b](){return new ie(this)}lift($){const oe=new j(this,this);return oe.operator=$,oe}next($){if(this.closed)throw new ve.N;if(!this.isStopped){const{observers:oe}=this,be=oe.length,Ee=oe.slice();for(let de=0;de<be;de++)Ee[de].next($)}}error($){if(this.closed)throw new ve.N;this.hasError=!0,this.thrownError=$,this.isStopped=!0;const{observers:oe}=this,be=oe.length,Ee=oe.slice();for(let de=0;de<be;de++)Ee[de].error($);this.observers.length=0}complete(){if(this.closed)throw new ve.N;this.isStopped=!0;const{observers:$}=this,oe=$.length,be=$.slice();for(let Ee=0;Ee<oe;Ee++)be[Ee].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe($){if(this.closed)throw new ve.N;return super._trySubscribe($)}_subscribe($){if(this.closed)throw new ve.N;return this.hasError?($.error(this.thrownError),H.w.EMPTY):this.isStopped?($.complete(),H.w.EMPTY):(this.observers.push($),new fe.W(this,$))}asObservable(){const $=new u.y;return $.source=this,$}}return F.create=(U,$)=>new j(U,$),F})();class j extends K{constructor(U,$){super(),this.destination=U,this.source=$}next(U){const{destination:$}=this;$&&$.next&&$.next(U)}error(U){const{destination:$}=this;$&&$.error&&this.destination.error(U)}complete(){const{destination:U}=this;U&&U.complete&&this.destination.complete()}_subscribe(U){const{source:$}=this;return $?this.source.subscribe(U):H.w.EMPTY}}},8858:(Ge,Ce,L)=>{"use strict";L.d(Ce,{W:()=>X});var u=L(5319);class X extends u.w{constructor(ve,fe){super(),this.subject=ve,this.subscriber=fe,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ve=this.subject,fe=ve.observers;if(this.subject=null,!fe||0===fe.length||ve.isStopped||ve.closed)return;const Q=fe.indexOf(this.subscriber);-1!==Q&&fe.splice(Q,1)}}},7393:(Ge,Ce,L)=>{"use strict";L.d(Ce,{L:()=>ie});var u=L(9105),X=L(6490),H=L(5319),ve=L(9181),fe=L(2494),Q=L(4449);class ie extends H.w{constructor(F,U,$){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=X.c;break;case 1:if(!F){this.destination=X.c;break}if("object"==typeof F){F instanceof ie?(this.syncErrorThrowable=F.syncErrorThrowable,this.destination=F,F.add(this)):(this.syncErrorThrowable=!0,this.destination=new K(this,F));break}default:this.syncErrorThrowable=!0,this.destination=new K(this,F,U,$)}}[ve.b](){return this}static create(F,U,$){const oe=new ie(F,U,$);return oe.syncErrorThrowable=!1,oe}next(F){this.isStopped||this._next(F)}error(F){this.isStopped||(this.isStopped=!0,this._error(F))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(F){this.destination.next(F)}_error(F){this.destination.error(F),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:F}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=F,this}}class K extends ie{constructor(F,U,$,oe){super(),this._parentSubscriber=F;let be,Ee=this;(0,u.m)(U)?be=U:U&&(be=U.next,$=U.error,oe=U.complete,U!==X.c&&(Ee=Object.create(U),(0,u.m)(Ee.unsubscribe)&&this.add(Ee.unsubscribe.bind(Ee)),Ee.unsubscribe=this.unsubscribe.bind(this))),this._context=Ee,this._next=be,this._error=$,this._complete=oe}next(F){if(!this.isStopped&&this._next){const{_parentSubscriber:U}=this;fe.v.useDeprecatedSynchronousErrorHandling&&U.syncErrorThrowable?this.__tryOrSetError(U,this._next,F)&&this.unsubscribe():this.__tryOrUnsub(this._next,F)}}error(F){if(!this.isStopped){const{_parentSubscriber:U}=this,{useDeprecatedSynchronousErrorHandling:$}=fe.v;if(this._error)$&&U.syncErrorThrowable?(this.__tryOrSetError(U,this._error,F),this.unsubscribe()):(this.__tryOrUnsub(this._error,F),this.unsubscribe());else if(U.syncErrorThrowable)$?(U.syncErrorValue=F,U.syncErrorThrown=!0):(0,Q.z)(F),this.unsubscribe();else{if(this.unsubscribe(),$)throw F;(0,Q.z)(F)}}}complete(){if(!this.isStopped){const{_parentSubscriber:F}=this;if(this._complete){const U=()=>this._complete.call(this._context);fe.v.useDeprecatedSynchronousErrorHandling&&F.syncErrorThrowable?(this.__tryOrSetError(F,U),this.unsubscribe()):(this.__tryOrUnsub(U),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(F,U){try{F.call(this._context,U)}catch($){if(this.unsubscribe(),fe.v.useDeprecatedSynchronousErrorHandling)throw $;(0,Q.z)($)}}__tryOrSetError(F,U,$){if(!fe.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{U.call(this._context,$)}catch(oe){return fe.v.useDeprecatedSynchronousErrorHandling?(F.syncErrorValue=oe,F.syncErrorThrown=!0,!0):((0,Q.z)(oe),!0)}return!1}_unsubscribe(){const{_parentSubscriber:F}=this;this._context=null,this._parentSubscriber=null,F.unsubscribe()}}},5319:(Ge,Ce,L)=>{"use strict";L.d(Ce,{w:()=>Q});var u=L(9796),X=L(1555),H=L(9105);const fe=(()=>{function K(j){return Error.call(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((F,U)=>`${U+1}) ${F.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j,this}return K.prototype=Object.create(Error.prototype),K})();class Q{constructor(j){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,j&&(this._ctorUnsubscribe=!0,this._unsubscribe=j)}unsubscribe(){let j;if(this.closed)return;let{_parentOrParents:F,_ctorUnsubscribe:U,_unsubscribe:$,_subscriptions:oe}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,F instanceof Q)F.remove(this);else if(null!==F)for(let be=0;be<F.length;++be)F[be].remove(this);if((0,H.m)($)){U&&(this._unsubscribe=void 0);try{$.call(this)}catch(be){j=be instanceof fe?ie(be.errors):[be]}}if((0,u.k)(oe)){let be=-1,Ee=oe.length;for(;++be<Ee;){const de=oe[be];if((0,X.K)(de))try{de.unsubscribe()}catch(Ie){j=j||[],Ie instanceof fe?j=j.concat(ie(Ie.errors)):j.push(Ie)}}}if(j)throw new fe(j)}add(j){let F=j;if(!j)return Q.EMPTY;switch(typeof j){case"function":F=new Q(j);case"object":if(F===this||F.closed||"function"!=typeof F.unsubscribe)return F;if(this.closed)return F.unsubscribe(),F;if(!(F instanceof Q)){const oe=F;F=new Q,F._subscriptions=[oe]}break;default:throw new Error("unrecognized teardown "+j+" added to Subscription.")}let{_parentOrParents:U}=F;if(null===U)F._parentOrParents=this;else if(U instanceof Q){if(U===this)return F;F._parentOrParents=[U,this]}else{if(-1!==U.indexOf(this))return F;U.push(this)}const $=this._subscriptions;return null===$?this._subscriptions=[F]:$.push(F),F}remove(j){const F=this._subscriptions;if(F){const U=F.indexOf(j);-1!==U&&F.splice(U,1)}}}var K;function ie(K){return K.reduce((j,F)=>j.concat(F instanceof fe?F.errors:F),[])}Q.EMPTY=((K=new Q).closed=!0,K)},2494:(Ge,Ce,L)=>{"use strict";L.d(Ce,{v:()=>X});let u=!1;const X={Promise:void 0,set useDeprecatedSynchronousErrorHandling(H){if(H){const ve=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ve.stack)}else u&&console.log("RxJS: Back to a better error behavior. Thank you. <3");u=H},get useDeprecatedSynchronousErrorHandling(){return u}}},5345:(Ge,Ce,L)=>{"use strict";L.d(Ce,{IY:()=>ve,Ds:()=>Q,ft:()=>K});var u=L(7393),X=L(7574),H=L(7444);class ve extends u.L{constructor(F){super(),this.parent=F}_next(F){this.parent.notifyNext(F)}_error(F){this.parent.notifyError(F),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Q extends u.L{notifyNext(F){this.destination.next(F)}notifyError(F){this.destination.error(F)}notifyComplete(){this.destination.complete()}}function K(j,F){if(F.closed)return;if(j instanceof X.y)return j.subscribe(F);let U;try{U=(0,H.s)(j)(F)}catch($){F.error($)}return U}},2441:(Ge,Ce,L)=>{"use strict";L.d(Ce,{c:()=>fe,N:()=>Q});var u=L(9765),X=L(7574),H=L(5319),ve=L(1307);class fe extends X.y{constructor(U,$){super(),this.source=U,this.subjectFactory=$,this._refCount=0,this._isComplete=!1}_subscribe(U){return this.getSubject().subscribe(U)}getSubject(){const U=this._subject;return(!U||U.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let U=this._connection;return U||(this._isComplete=!1,U=this._connection=new H.w,U.add(this.source.subscribe(new ie(this.getSubject(),this))),U.closed&&(this._connection=null,U=H.w.EMPTY)),U}refCount(){return(0,ve.x)()(this)}}const Q=(()=>{const F=fe.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:F._subscribe},_isComplete:{value:F._isComplete,writable:!0},getSubject:{value:F.getSubject},connect:{value:F.connect},refCount:{value:F.refCount}}})();class ie extends u.Yc{constructor(U,$){super(U),this.connectable=$}_error(U){this._unsubscribe(),super._error(U)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const U=this.connectable;if(U){this.connectable=null;const $=U._connection;U._refCount=0,U._subject=null,U._connection=null,$&&$.unsubscribe()}}}},9193:(Ge,Ce,L)=>{"use strict";L.d(Ce,{E:()=>X,c:()=>H});var u=L(7574);const X=new u.y(fe=>fe.complete());function H(fe){return fe?function(fe){return new u.y(Q=>fe.schedule(()=>Q.complete()))}(fe):X}},4402:(Ge,Ce,L)=>{"use strict";L.d(Ce,{D:()=>Ee});var u=L(7574),X=L(7444),H=L(5319),ve=L(6554),ie=L(4087),K=L(377),U=L(4072),$=L(9489);function Ee(de,Ie){return Ie?function(de,Ie){if(null!=de){if(function(de){return de&&"function"==typeof de[ve.L]}(de))return function(de,Ie){return new u.y(he=>{const ye=new H.w;return ye.add(Ie.schedule(()=>{const Le=de[ve.L]();ye.add(Le.subscribe({next(Be){ye.add(Ie.schedule(()=>he.next(Be)))},error(Be){ye.add(Ie.schedule(()=>he.error(Be)))},complete(){ye.add(Ie.schedule(()=>he.complete()))}}))})),ye})}(de,Ie);if((0,U.t)(de))return function(de,Ie){return new u.y(he=>{const ye=new H.w;return ye.add(Ie.schedule(()=>de.then(Le=>{ye.add(Ie.schedule(()=>{he.next(Le),ye.add(Ie.schedule(()=>he.complete()))}))},Le=>{ye.add(Ie.schedule(()=>he.error(Le)))}))),ye})}(de,Ie);if((0,$.z)(de))return(0,ie.r)(de,Ie);if(function(de){return de&&"function"==typeof de[K.hZ]}(de)||"string"==typeof de)return function(de,Ie){if(!de)throw new Error("Iterable cannot be null");return new u.y(he=>{const ye=new H.w;let Le;return ye.add(()=>{Le&&"function"==typeof Le.return&&Le.return()}),ye.add(Ie.schedule(()=>{Le=de[K.hZ](),ye.add(Ie.schedule(function(){if(he.closed)return;let Be,at;try{const Lt=Le.next();Be=Lt.value,at=Lt.done}catch(Lt){return void he.error(Lt)}at?he.complete():(he.next(Be),this.schedule())}))})),ye})}(de,Ie)}throw new TypeError((null!==de&&typeof de||de)+" is not observable")}(de,Ie):de instanceof u.y?de:new u.y((0,X.s)(de))}},6693:(Ge,Ce,L)=>{"use strict";L.d(Ce,{n:()=>ve});var u=L(7574),X=L(5015),H=L(4087);function ve(fe,Q){return Q?(0,H.r)(fe,Q):new u.y((0,X.V)(fe))}},6682:(Ge,Ce,L)=>{"use strict";L.d(Ce,{T:()=>fe});var u=L(7574),X=L(4869),H=L(3282),ve=L(6693);function fe(...Q){let ie=Number.POSITIVE_INFINITY,K=null,j=Q[Q.length-1];return(0,X.K)(j)?(K=Q.pop(),Q.length>1&&"number"==typeof Q[Q.length-1]&&(ie=Q.pop())):"number"==typeof j&&(ie=Q.pop()),null===K&&1===Q.length&&Q[0]instanceof u.y?Q[0]:(0,H.J)(ie)((0,ve.n)(Q,K))}},5917:(Ge,Ce,L)=>{"use strict";L.d(Ce,{of:()=>ve});var u=L(4869),X=L(6693),H=L(4087);function ve(...fe){let Q=fe[fe.length-1];return(0,u.K)(Q)?(fe.pop(),(0,H.r)(fe,Q)):(0,X.n)(fe)}},8002:(Ge,Ce,L)=>{"use strict";L.d(Ce,{U:()=>X});var u=L(7393);function X(fe,Q){return function(K){if("function"!=typeof fe)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return K.lift(new H(fe,Q))}}class H{constructor(Q,ie){this.project=Q,this.thisArg=ie}call(Q,ie){return ie.subscribe(new ve(Q,this.project,this.thisArg))}}class ve extends u.L{constructor(Q,ie,K){super(Q),this.project=ie,this.count=0,this.thisArg=K||this}_next(Q){let ie;try{ie=this.project.call(this.thisArg,Q,this.count++)}catch(K){return void this.destination.error(K)}this.destination.next(ie)}}},3282:(Ge,Ce,L)=>{"use strict";L.d(Ce,{J:()=>H});var u=L(9773),X=L(4487);function H(ve=Number.POSITIVE_INFINITY){return(0,u.zg)(X.y,ve)}},9773:(Ge,Ce,L)=>{"use strict";L.d(Ce,{zg:()=>ve});var u=L(8002),X=L(4402),H=L(5345);function ve(K,j,F=Number.POSITIVE_INFINITY){return"function"==typeof j?U=>U.pipe(ve(($,oe)=>(0,X.D)(K($,oe)).pipe((0,u.U)((be,Ee)=>j($,be,oe,Ee))),F)):("number"==typeof j&&(F=j),U=>U.lift(new fe(K,F)))}class fe{constructor(j,F=Number.POSITIVE_INFINITY){this.project=j,this.concurrent=F}call(j,F){return F.subscribe(new Q(j,this.project,this.concurrent))}}class Q extends H.Ds{constructor(j,F,U=Number.POSITIVE_INFINITY){super(j),this.project=F,this.concurrent=U,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(j){this.active<this.concurrent?this._tryNext(j):this.buffer.push(j)}_tryNext(j){let F;const U=this.index++;try{F=this.project(j,U)}catch($){return void this.destination.error($)}this.active++,this._innerSub(F)}_innerSub(j){const F=new H.IY(this),U=this.destination;U.add(F);const $=(0,H.ft)(j,F);$!==F&&U.add($)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(j){this.destination.next(j)}notifyComplete(){const j=this.buffer;this.active--,j.length>0?this._next(j.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9746:(Ge,Ce,L)=>{"use strict";L.d(Ce,{QV:()=>H,ht:()=>fe});var u=L(7393),X=L(1593);function H(ie,K=0){return function(F){return F.lift(new ve(ie,K))}}class ve{constructor(K,j=0){this.scheduler=K,this.delay=j}call(K,j){return j.subscribe(new fe(K,this.scheduler,this.delay))}}class fe extends u.L{constructor(K,j,F=0){super(K),this.scheduler=j,this.delay=F}static dispatch(K){const{notification:j,destination:F}=K;j.observe(F),this.unsubscribe()}scheduleMessage(K){this.destination.add(this.scheduler.schedule(fe.dispatch,this.delay,new Q(K,this.destination)))}_next(K){this.scheduleMessage(X.P.createNext(K))}_error(K){this.scheduleMessage(X.P.createError(K)),this.unsubscribe()}_complete(){this.scheduleMessage(X.P.createComplete()),this.unsubscribe()}}class Q{constructor(K,j){this.notification=K,this.destination=j}}},1307:(Ge,Ce,L)=>{"use strict";L.d(Ce,{x:()=>X});var u=L(7393);function X(){return function(Q){return Q.lift(new H(Q))}}class H{constructor(Q){this.connectable=Q}call(Q,ie){const{connectable:K}=this;K._refCount++;const j=new ve(Q,K),F=ie.subscribe(j);return j.closed||(j.connection=K.connect()),F}}class ve extends u.L{constructor(Q,ie){super(Q),this.connectable=ie}_unsubscribe(){const{connectable:Q}=this;if(!Q)return void(this.connection=null);this.connectable=null;const ie=Q._refCount;if(ie<=0)return void(this.connection=null);if(Q._refCount=ie-1,ie>1)return void(this.connection=null);const{connection:K}=this,j=Q._connection;this.connection=null,j&&(!K||j===K)&&j.unsubscribe()}}},8819:(Ge,Ce,L)=>{"use strict";L.d(Ce,{B:()=>ie});var u=L(2441);var ve=L(1307),fe=L(9765);function Q(){return new fe.xQ}function ie(){return K=>(0,ve.x)()(function(K,j){return function(U){let $;$="function"==typeof K?K:function(){return K};const oe=Object.create(U,u.N);return oe.source=U,oe.subjectFactory=$,oe}}(Q)(K))}},2639:(Ge,Ce,L)=>{"use strict";L.d(Ce,{R:()=>de});var u=L(7574);let X=1;const H=Promise.resolve(),ve={};function fe(he){return he in ve&&(delete ve[he],!0)}const Q={setImmediate(he){const ye=X++;return ve[ye]=!0,H.then(()=>fe(ye)&&he()),ye},clearImmediate(he){fe(he)}};var K=L(6465),F=L(6102);const oe=new class extends F.v{flush(ye){this.active=!0,this.scheduled=void 0;const{actions:Le}=this;let Be,at=-1,Lt=Le.length;ye=ye||Le.shift();do{if(Be=ye.execute(ye.state,ye.delay))break}while(++at<Lt&&(ye=Le.shift()));if(this.active=!1,Be){for(;++at<Lt&&(ye=Le.shift());)ye.unsubscribe();throw Be}}}(class extends K.o{constructor(ye,Le){super(ye,Le),this.scheduler=ye,this.work=Le}requestAsyncId(ye,Le,Be=0){return null!==Be&&Be>0?super.requestAsyncId(ye,Le,Be):(ye.actions.push(this),ye.scheduled||(ye.scheduled=Q.setImmediate(ye.flush.bind(ye,null))))}recycleAsyncId(ye,Le,Be=0){if(null!==Be&&Be>0||null===Be&&this.delay>0)return super.recycleAsyncId(ye,Le,Be);0===ye.actions.length&&(Q.clearImmediate(Le),ye.scheduled=void 0)}});var be=L(6561);class Ee extends u.y{constructor(ye,Le=0,Be=oe){super(),this.source=ye,this.delayTime=Le,this.scheduler=Be,(!(0,be.k)(Le)||Le<0)&&(this.delayTime=0),(!Be||"function"!=typeof Be.schedule)&&(this.scheduler=oe)}static create(ye,Le=0,Be=oe){return new Ee(ye,Le,Be)}static dispatch(ye){const{source:Le,subscriber:Be}=ye;return this.add(Le.subscribe(Be))}_subscribe(ye){return this.scheduler.schedule(Ee.dispatch,this.delayTime,{source:this.source,subscriber:ye})}}function de(he,ye=0){return function(Be){return Be.lift(new Ie(he,ye))}}class Ie{constructor(ye,Le){this.scheduler=ye,this.delay=Le}call(ye,Le){return new Ee(Le,this.delay,this.scheduler).subscribe(ye)}}},8307:(Ge,Ce,L)=>{"use strict";L.d(Ce,{b:()=>ve});var u=L(7393),X=L(8640),H=L(9105);function ve(ie,K,j){return function(U){return U.lift(new fe(ie,K,j))}}class fe{constructor(K,j,F){this.nextOrObserver=K,this.error=j,this.complete=F}call(K,j){return j.subscribe(new Q(K,this.nextOrObserver,this.error,this.complete))}}class Q extends u.L{constructor(K,j,F,U){super(K),this._tapNext=X.Z,this._tapError=X.Z,this._tapComplete=X.Z,this._tapError=F||X.Z,this._tapComplete=U||X.Z,(0,H.m)(j)?(this._context=this,this._tapNext=j):j&&(this._context=j,this._tapNext=j.next||X.Z,this._tapError=j.error||X.Z,this._tapComplete=j.complete||X.Z)}_next(K){try{this._tapNext.call(this._context,K)}catch(j){return void this.destination.error(j)}this.destination.next(K)}_error(K){try{this._tapError.call(this._context,K)}catch(j){return void this.destination.error(j)}this.destination.error(K)}_complete(){try{this._tapComplete.call(this._context)}catch(K){return void this.destination.error(K)}return this.destination.complete()}}},4087:(Ge,Ce,L)=>{"use strict";L.d(Ce,{r:()=>H});var u=L(7574),X=L(5319);function H(ve,fe){return new u.y(Q=>{const ie=new X.w;let K=0;return ie.add(fe.schedule(function(){K!==ve.length?(Q.next(ve[K++]),Q.closed||ie.add(this.schedule())):Q.complete()})),ie})}},6465:(Ge,Ce,L)=>{"use strict";L.d(Ce,{o:()=>H});var u=L(5319);class X extends u.w{constructor(fe,Q){super()}schedule(fe,Q=0){return this}}class H extends X{constructor(fe,Q){super(fe,Q),this.scheduler=fe,this.work=Q,this.pending=!1}schedule(fe,Q=0){if(this.closed)return this;this.state=fe;const ie=this.id,K=this.scheduler;return null!=ie&&(this.id=this.recycleAsyncId(K,ie,Q)),this.pending=!0,this.delay=Q,this.id=this.id||this.requestAsyncId(K,this.id,Q),this}requestAsyncId(fe,Q,ie=0){return setInterval(fe.flush.bind(fe,this),ie)}recycleAsyncId(fe,Q,ie=0){if(null!==ie&&this.delay===ie&&!1===this.pending)return Q;clearInterval(Q)}execute(fe,Q){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ie=this._execute(fe,Q);if(ie)return ie;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(fe,Q){let K,ie=!1;try{this.work(fe)}catch(j){ie=!0,K=!!j&&j||new Error(j)}if(ie)return this.unsubscribe(),K}_unsubscribe(){const fe=this.id,Q=this.scheduler,ie=Q.actions,K=ie.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==K&&ie.splice(K,1),null!=fe&&(this.id=this.recycleAsyncId(Q,fe,null)),this.delay=null}}},6102:(Ge,Ce,L)=>{"use strict";L.d(Ce,{v:()=>X});let u=(()=>{class H{constructor(fe,Q=H.now){this.SchedulerAction=fe,this.now=Q}schedule(fe,Q=0,ie){return new this.SchedulerAction(this,fe).schedule(ie,Q)}}return H.now=()=>Date.now(),H})();class X extends u{constructor(ve,fe=u.now){super(ve,()=>X.delegate&&X.delegate!==this?X.delegate.now():fe()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ve,fe=0,Q){return X.delegate&&X.delegate!==this?X.delegate.schedule(ve,fe,Q):super.schedule(ve,fe,Q)}flush(ve){const{actions:fe}=this;if(this.active)return void fe.push(ve);let Q;this.active=!0;do{if(Q=ve.execute(ve.state,ve.delay))break}while(ve=fe.shift());if(this.active=!1,Q){for(;ve=fe.shift();)ve.unsubscribe();throw Q}}}},3637:(Ge,Ce,L)=>{"use strict";L.d(Ce,{z:()=>H,P:()=>ve});var u=L(6465);const H=new(L(6102).v)(u.o),ve=H},7771:(Ge,Ce,L)=>{"use strict";L.d(Ce,{c:()=>Q,N:()=>fe});var u=L(6465),H=L(6102);const fe=new class extends H.v{}(class extends u.o{constructor(K,j){super(K,j),this.scheduler=K,this.work=j}schedule(K,j=0){return j>0?super.schedule(K,j):(this.delay=j,this.state=K,this.scheduler.flush(this),this)}execute(K,j){return j>0||this.closed?super.execute(K,j):this._execute(K,j)}requestAsyncId(K,j,F=0){return null!==F&&F>0||null===F&&this.delay>0?super.requestAsyncId(K,j,F):K.flush(this)}}),Q=fe},377:(Ge,Ce,L)=>{"use strict";L.d(Ce,{hZ:()=>X});const X="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Ge,Ce,L)=>{"use strict";L.d(Ce,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Ge,Ce,L)=>{"use strict";L.d(Ce,{b:()=>u});const u="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Ge,Ce,L)=>{"use strict";L.d(Ce,{N:()=>X});const X=(()=>{function H(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return H.prototype=Object.create(Error.prototype),H})()},4449:(Ge,Ce,L)=>{"use strict";function u(X){setTimeout(()=>{throw X},0)}L.d(Ce,{z:()=>u})},4487:(Ge,Ce,L)=>{"use strict";function u(X){return X}L.d(Ce,{y:()=>u})},9796:(Ge,Ce,L)=>{"use strict";L.d(Ce,{k:()=>u});const u=Array.isArray||(X=>X&&"number"==typeof X.length)},9489:(Ge,Ce,L)=>{"use strict";L.d(Ce,{z:()=>u});const u=X=>X&&"number"==typeof X.length&&"function"!=typeof X},9105:(Ge,Ce,L)=>{"use strict";function u(X){return"function"==typeof X}L.d(Ce,{m:()=>u})},6561:(Ge,Ce,L)=>{"use strict";L.d(Ce,{k:()=>X});var u=L(9796);function X(H){return!(0,u.k)(H)&&H-parseFloat(H)+1>=0}},1555:(Ge,Ce,L)=>{"use strict";function u(X){return null!==X&&"object"==typeof X}L.d(Ce,{K:()=>u})},4072:(Ge,Ce,L)=>{"use strict";function u(X){return!!X&&"function"!=typeof X.subscribe&&"function"==typeof X.then}L.d(Ce,{t:()=>u})},4869:(Ge,Ce,L)=>{"use strict";function u(X){return X&&"function"==typeof X.schedule}L.d(Ce,{K:()=>u})},8640:(Ge,Ce,L)=>{"use strict";function u(){}L.d(Ce,{Z:()=>u})},7444:(Ge,Ce,L)=>{"use strict";L.d(Ce,{s:()=>U});var u=L(5015),X=L(4449),ve=L(377),Q=L(6554),K=L(9489),j=L(4072),F=L(1555);const U=$=>{if($&&"function"==typeof $[Q.L])return($=>oe=>{const be=$[Q.L]();if("function"!=typeof be.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return be.subscribe(oe)})($);if((0,K.z)($))return(0,u.V)($);if((0,j.t)($))return($=>oe=>($.then(be=>{oe.closed||(oe.next(be),oe.complete())},be=>oe.error(be)).then(null,X.z),oe))($);if($&&"function"==typeof $[ve.hZ])return($=>oe=>{const be=$[ve.hZ]();for(;;){let Ee;try{Ee=be.next()}catch(de){return oe.error(de),oe}if(Ee.done){oe.complete();break}if(oe.next(Ee.value),oe.closed)break}return"function"==typeof be.return&&oe.add(()=>{be.return&&be.return()}),oe})($);{const be=`You provided ${(0,F.K)($)?"an invalid object":`'${$}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(be)}}},5015:(Ge,Ce,L)=>{"use strict";L.d(Ce,{V:()=>u});const u=X=>H=>{for(let ve=0,fe=X.length;ve<fe&&!H.closed;ve++)H.next(X[ve]);H.complete()}},1296:(Ge,Ce,L)=>{"use strict";var u=L(7716);let X=null;function H(){return X}const ie=new u.OlP("DocumentToken");let K=(()=>{class i{historyGo(r){throw new Error("Not implemented")}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=(0,u.Yz7)({factory:j,token:i,providedIn:"platform"}),i})();function j(){return(0,u.LFG)(U)}const F=new u.OlP("Location Initialized");let U=(()=>{class i extends K{constructor(r){super(),this._doc=r,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return H().getBaseHref(this._doc)}onPopState(r){const s=H().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",r,!1),()=>s.removeEventListener("popstate",r)}onHashChange(r){const s=H().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",r,!1),()=>s.removeEventListener("hashchange",r)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(r){this.location.pathname=r}pushState(r,s,l){$()?this._history.pushState(r,s,l):this.location.hash=l}replaceState(r,s,l){$()?this._history.replaceState(r,s,l):this.location.hash=l}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return i.\u0275fac=function(r){return new(r||i)(u.LFG(ie))},i.\u0275prov=(0,u.Yz7)({factory:oe,token:i,providedIn:"platform"}),i})();function $(){return!!window.history.pushState}function oe(){return new U((0,u.LFG)(ie))}function be(i,n){if(0==i.length)return n;if(0==n.length)return i;let r=0;return i.endsWith("/")&&r++,n.startsWith("/")&&r++,2==r?i+n.substring(1):1==r?i+n:i+"/"+n}function Ee(i){const n=i.match(/#|\?|$/),r=n&&n.index||i.length;return i.slice(0,r-("/"===i[r-1]?1:0))+i.slice(r)}function de(i){return i&&"?"!==i[0]?"?"+i:i}let Ie=(()=>{class i{historyGo(r){throw new Error("Not implemented")}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=(0,u.Yz7)({factory:he,token:i,providedIn:"root"}),i})();function he(i){const n=(0,u.LFG)(ie).location;return new Le((0,u.LFG)(K),n&&n.origin||"")}const ye=new u.OlP("appBaseHref");let Le=(()=>{class i extends Ie{constructor(r,s){if(super(),this._platformLocation=r,this._removeListenerFns=[],null==s&&(s=this._platformLocation.getBaseHrefFromDOM()),null==s)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=s}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return be(this._baseHref,r)}path(r=!1){const s=this._platformLocation.pathname+de(this._platformLocation.search),l=this._platformLocation.hash;return l&&r?`${s}${l}`:s}pushState(r,s,l,d){const g=this.prepareExternalUrl(l+de(d));this._platformLocation.pushState(r,s,g)}replaceState(r,s,l,d){const g=this.prepareExternalUrl(l+de(d));this._platformLocation.replaceState(r,s,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(r=0){var s,l;null===(l=(s=this._platformLocation).historyGo)||void 0===l||l.call(s,r)}}return i.\u0275fac=function(r){return new(r||i)(u.LFG(K),u.LFG(ye,8))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac}),i})(),Be=(()=>{class i extends Ie{constructor(r,s){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(r){const s=be(this._baseHref,r);return s.length>0?"#"+s:s}pushState(r,s,l,d){let g=this.prepareExternalUrl(l+de(d));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.pushState(r,s,g)}replaceState(r,s,l,d){let g=this.prepareExternalUrl(l+de(d));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.replaceState(r,s,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(r=0){var s,l;null===(l=(s=this._platformLocation).historyGo)||void 0===l||l.call(s,r)}}return i.\u0275fac=function(r){return new(r||i)(u.LFG(K),u.LFG(ye,8))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac}),i})(),at=(()=>{class i{constructor(r,s){this._subject=new u.vpe,this._urlChangeListeners=[],this._platformStrategy=r;const l=this._platformStrategy.getBaseHref();this._platformLocation=s,this._baseHref=Ee(Vt(l)),this._platformStrategy.onPopState(d=>{this._subject.emit({url:this.path(!0),pop:!0,state:d.state,type:d.type})})}path(r=!1){return this.normalize(this._platformStrategy.path(r))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(r,s=""){return this.path()==this.normalize(r+de(s))}normalize(r){return i.stripTrailingSlash(function(i,n){return i&&n.startsWith(i)?n.substring(i.length):n}(this._baseHref,Vt(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._platformStrategy.prepareExternalUrl(r)}go(r,s="",l=null){this._platformStrategy.pushState(l,"",r,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+de(s)),l)}replaceState(r,s="",l=null){this._platformStrategy.replaceState(l,"",r,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+de(s)),l)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(r=0){var s,l;null===(l=(s=this._platformStrategy).historyGo)||void 0===l||l.call(s,r)}onUrlChange(r){this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)}))}_notifyUrlChangeListeners(r="",s){this._urlChangeListeners.forEach(l=>l(r,s))}subscribe(r,s,l){return this._subject.subscribe({next:r,error:s,complete:l})}}return i.\u0275fac=function(r){return new(r||i)(u.LFG(Ie),u.LFG(K))},i.normalizeQueryParams=de,i.joinWithSlash=be,i.stripTrailingSlash=Ee,i.\u0275prov=(0,u.Yz7)({factory:Lt,token:i,providedIn:"root"}),i})();function Lt(){return new at((0,u.LFG)(Ie),(0,u.LFG)(K))}function Vt(i){return i.replace(/\/index.html$/,"")}var le=(()=>((le=le||{})[le.Zero=0]="Zero",le[le.One=1]="One",le[le.Two=2]="Two",le[le.Few=3]="Few",le[le.Many=4]="Many",le[le.Other=5]="Other",le))(),_e=(()=>((_e=_e||{})[_e.Format=0]="Format",_e[_e.Standalone=1]="Standalone",_e))(),ae=(()=>((ae=ae||{})[ae.Narrow=0]="Narrow",ae[ae.Abbreviated=1]="Abbreviated",ae[ae.Wide=2]="Wide",ae[ae.Short=3]="Short",ae))(),ue=(()=>((ue=ue||{})[ue.Short=0]="Short",ue[ue.Medium=1]="Medium",ue[ue.Long=2]="Long",ue[ue.Full=3]="Full",ue))(),ee=(()=>((ee=ee||{})[ee.Decimal=0]="Decimal",ee[ee.Group=1]="Group",ee[ee.List=2]="List",ee[ee.PercentSign=3]="PercentSign",ee[ee.PlusSign=4]="PlusSign",ee[ee.MinusSign=5]="MinusSign",ee[ee.Exponential=6]="Exponential",ee[ee.SuperscriptingExponent=7]="SuperscriptingExponent",ee[ee.PerMille=8]="PerMille",ee[ee.Infinity=9]="Infinity",ee[ee.NaN=10]="NaN",ee[ee.TimeSeparator=11]="TimeSeparator",ee[ee.CurrencyDecimal=12]="CurrencyDecimal",ee[ee.CurrencyGroup=13]="CurrencyGroup",ee))();function rt(i,n,r){const s=(0,u.cg1)(i),d=zn([s[u.wAp.DaysFormat],s[u.wAp.DaysStandalone]],n);return zn(d,r)}function Je(i,n,r){const s=(0,u.cg1)(i),d=zn([s[u.wAp.MonthsFormat],s[u.wAp.MonthsStandalone]],n);return zn(d,r)}function xi(i,n){return zn((0,u.cg1)(i)[u.wAp.DateFormat],n)}function Kt(i,n){return zn((0,u.cg1)(i)[u.wAp.TimeFormat],n)}function an(i,n){return zn((0,u.cg1)(i)[u.wAp.DateTimeFormat],n)}function xt(i,n){const r=(0,u.cg1)(i),s=r[u.wAp.NumberSymbols][n];if(void 0===s){if(n===ee.CurrencyDecimal)return r[u.wAp.NumberSymbols][ee.Decimal];if(n===ee.CurrencyGroup)return r[u.wAp.NumberSymbols][ee.Group]}return s}const js=u.kL8;function ra(i){if(!i[u.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${i[u.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function zn(i,n){for(let r=n;r>-1;r--)if(void 0!==i[r])return i[r];throw new Error("Locale data API: locale data undefined")}function Xi(i){const[n,r]=i.split(":");return{hours:+n,minutes:+r}}const jt=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ut={},Or=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Wt=(()=>((Wt=Wt||{})[Wt.Short=0]="Short",Wt[Wt.ShortGMT=1]="ShortGMT",Wt[Wt.Long=2]="Long",Wt[Wt.Extended=3]="Extended",Wt))(),Fe=(()=>((Fe=Fe||{})[Fe.FullYear=0]="FullYear",Fe[Fe.Month=1]="Month",Fe[Fe.Date=2]="Date",Fe[Fe.Hours=3]="Hours",Fe[Fe.Minutes=4]="Minutes",Fe[Fe.Seconds=5]="Seconds",Fe[Fe.FractionalSeconds=6]="FractionalSeconds",Fe[Fe.Day=7]="Day",Fe))(),st=(()=>((st=st||{})[st.DayPeriods=0]="DayPeriods",st[st.Days=1]="Days",st[st.Months=2]="Months",st[st.Eras=3]="Eras",st))();function ki(i,n,r,s){let l=function(i){if(od(i))return i;if("number"==typeof i&&!isNaN(i))return new Date(i);if("string"==typeof i){if(i=i.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(i)){const[l,d=1,g=1]=i.split("-").map(y=>+y);return yo(l,d-1,g)}const r=parseFloat(i);if(!isNaN(i-r))return new Date(r);let s;if(s=i.match(jt))return function(i){const n=new Date(0);let r=0,s=0;const l=i[8]?n.setUTCFullYear:n.setFullYear,d=i[8]?n.setUTCHours:n.setHours;i[9]&&(r=Number(i[9]+i[10]),s=Number(i[9]+i[11])),l.call(n,Number(i[1]),Number(i[2])-1,Number(i[3]));const g=Number(i[4]||0)-r,y=Number(i[5]||0)-s,E=Number(i[6]||0),I=Math.floor(1e3*parseFloat("0."+(i[7]||0)));return d.call(n,g,y,E,I),n}(s)}const n=new Date(i);if(!od(n))throw new Error(`Unable to convert "${i}" into a date`);return n}(i);n=ys(r,n)||n;let y,g=[];for(;n;){if(y=Or.exec(n),!y){g.push(n);break}{g=g.concat(y.slice(1));const S=g.pop();if(!S)break;n=S}}let E=l.getTimezoneOffset();s&&(E=hi(s,E),l=function(i,n,r){const l=i.getTimezoneOffset();return function(i,n){return(i=new Date(i.getTime())).setMinutes(i.getMinutes()+n),i}(i,-1*(hi(n,l)-l))}(l,s));let I="";return g.forEach(S=>{const x=function(i){if(Rt[i])return Rt[i];let n;switch(i){case"G":case"GG":case"GGG":n=W(st.Eras,ae.Abbreviated);break;case"GGGG":n=W(st.Eras,ae.Wide);break;case"GGGGG":n=W(st.Eras,ae.Narrow);break;case"y":n=Z(Fe.FullYear,1,0,!1,!0);break;case"yy":n=Z(Fe.FullYear,2,0,!0,!0);break;case"yyy":n=Z(Fe.FullYear,3,0,!1,!0);break;case"yyyy":n=Z(Fe.FullYear,4,0,!1,!0);break;case"Y":n=zr(1);break;case"YY":n=zr(2,!0);break;case"YYY":n=zr(3);break;case"YYYY":n=zr(4);break;case"M":case"L":n=Z(Fe.Month,1,1);break;case"MM":case"LL":n=Z(Fe.Month,2,1);break;case"MMM":n=W(st.Months,ae.Abbreviated);break;case"MMMM":n=W(st.Months,ae.Wide);break;case"MMMMM":n=W(st.Months,ae.Narrow);break;case"LLL":n=W(st.Months,ae.Abbreviated,_e.Standalone);break;case"LLLL":n=W(st.Months,ae.Wide,_e.Standalone);break;case"LLLLL":n=W(st.Months,ae.Narrow,_e.Standalone);break;case"w":n=fn(1);break;case"ww":n=fn(2);break;case"W":n=fn(1,!0);break;case"d":n=Z(Fe.Date,1);break;case"dd":n=Z(Fe.Date,2);break;case"c":case"cc":n=Z(Fe.Day,1);break;case"ccc":n=W(st.Days,ae.Abbreviated,_e.Standalone);break;case"cccc":n=W(st.Days,ae.Wide,_e.Standalone);break;case"ccccc":n=W(st.Days,ae.Narrow,_e.Standalone);break;case"cccccc":n=W(st.Days,ae.Short,_e.Standalone);break;case"E":case"EE":case"EEE":n=W(st.Days,ae.Abbreviated);break;case"EEEE":n=W(st.Days,ae.Wide);break;case"EEEEE":n=W(st.Days,ae.Narrow);break;case"EEEEEE":n=W(st.Days,ae.Short);break;case"a":case"aa":case"aaa":n=W(st.DayPeriods,ae.Abbreviated);break;case"aaaa":n=W(st.DayPeriods,ae.Wide);break;case"aaaaa":n=W(st.DayPeriods,ae.Narrow);break;case"b":case"bb":case"bbb":n=W(st.DayPeriods,ae.Abbreviated,_e.Standalone,!0);break;case"bbbb":n=W(st.DayPeriods,ae.Wide,_e.Standalone,!0);break;case"bbbbb":n=W(st.DayPeriods,ae.Narrow,_e.Standalone,!0);break;case"B":case"BB":case"BBB":n=W(st.DayPeriods,ae.Abbreviated,_e.Format,!0);break;case"BBBB":n=W(st.DayPeriods,ae.Wide,_e.Format,!0);break;case"BBBBB":n=W(st.DayPeriods,ae.Narrow,_e.Format,!0);break;case"h":n=Z(Fe.Hours,1,-12);break;case"hh":n=Z(Fe.Hours,2,-12);break;case"H":n=Z(Fe.Hours,1);break;case"HH":n=Z(Fe.Hours,2);break;case"m":n=Z(Fe.Minutes,1);break;case"mm":n=Z(Fe.Minutes,2);break;case"s":n=Z(Fe.Seconds,1);break;case"ss":n=Z(Fe.Seconds,2);break;case"S":n=Z(Fe.FractionalSeconds,1);break;case"SS":n=Z(Fe.FractionalSeconds,2);break;case"SSS":n=Z(Fe.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":n=re(Wt.Short);break;case"ZZZZZ":n=re(Wt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=re(Wt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":n=re(Wt.Long);break;default:return null}return Rt[i]=n,n}(S);I+=x?x(l,r,E):"''"===S?"'":S.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),I}function yo(i,n,r){const s=new Date(0);return s.setFullYear(i,n,r),s.setHours(0,0,0),s}function ys(i,n){const r=function(i){return(0,u.cg1)(i)[u.wAp.LocaleId]}(i);if(Ut[r]=Ut[r]||{},Ut[r][n])return Ut[r][n];let s="";switch(n){case"shortDate":s=xi(i,ue.Short);break;case"mediumDate":s=xi(i,ue.Medium);break;case"longDate":s=xi(i,ue.Long);break;case"fullDate":s=xi(i,ue.Full);break;case"shortTime":s=Kt(i,ue.Short);break;case"mediumTime":s=Kt(i,ue.Medium);break;case"longTime":s=Kt(i,ue.Long);break;case"fullTime":s=Kt(i,ue.Full);break;case"short":const l=ys(i,"shortTime"),d=ys(i,"shortDate");s=en(an(i,ue.Short),[l,d]);break;case"medium":const g=ys(i,"mediumTime"),y=ys(i,"mediumDate");s=en(an(i,ue.Medium),[g,y]);break;case"long":const E=ys(i,"longTime"),I=ys(i,"longDate");s=en(an(i,ue.Long),[E,I]);break;case"full":const S=ys(i,"fullTime"),x=ys(i,"fullDate");s=en(an(i,ue.Full),[S,x])}return s&&(Ut[r][n]=s),s}function en(i,n){return n&&(i=i.replace(/\{([^}]+)}/g,function(r,s){return null!=n&&s in n?n[s]:r})),i}function di(i,n,r="-",s,l){let d="";(i<0||l&&i<=0)&&(l?i=1-i:(i=-i,d=r));let g=String(i);for(;g.length<n;)g="0"+g;return s&&(g=g.substr(g.length-n)),d+g}function Z(i,n,r=0,s=!1,l=!1){return function(d,g){let y=function(i,n){switch(i){case Fe.FullYear:return n.getFullYear();case Fe.Month:return n.getMonth();case Fe.Date:return n.getDate();case Fe.Hours:return n.getHours();case Fe.Minutes:return n.getMinutes();case Fe.Seconds:return n.getSeconds();case Fe.FractionalSeconds:return n.getMilliseconds();case Fe.Day:return n.getDay();default:throw new Error(`Unknown DateType value "${i}".`)}}(i,d);if((r>0||y>-r)&&(y+=r),i===Fe.Hours)0===y&&-12===r&&(y=12);else if(i===Fe.FractionalSeconds)return function(i,n){return di(i,3).substr(0,n)}(y,n);const E=xt(g,ee.MinusSign);return di(y,n,E,s,l)}}function W(i,n,r=_e.Format,s=!1){return function(l,d){return function(i,n,r,s,l,d){switch(r){case st.Months:return Je(n,l,s)[i.getMonth()];case st.Days:return rt(n,l,s)[i.getDay()];case st.DayPeriods:const g=i.getHours(),y=i.getMinutes();if(d){const I=function(i){const n=(0,u.cg1)(i);return ra(n),(n[u.wAp.ExtraData][2]||[]).map(s=>"string"==typeof s?Xi(s):[Xi(s[0]),Xi(s[1])])}(n),S=function(i,n,r){const s=(0,u.cg1)(i);ra(s);const d=zn([s[u.wAp.ExtraData][0],s[u.wAp.ExtraData][1]],n)||[];return zn(d,r)||[]}(n,l,s),x=I.findIndex(O=>{if(Array.isArray(O)){const[V,q]=O,te=g>=V.hours&&y>=V.minutes,me=g<q.hours||g===q.hours&&y<q.minutes;if(V.hours<q.hours){if(te&&me)return!0}else if(te||me)return!0}else if(O.hours===g&&O.minutes===y)return!0;return!1});if(-1!==x)return S[x]}return function(i,n,r){const s=(0,u.cg1)(i),d=zn([s[u.wAp.DayPeriodsFormat],s[u.wAp.DayPeriodsStandalone]],n);return zn(d,r)}(n,l,s)[g<12?0:1];case st.Eras:return function(i,n){return zn((0,u.cg1)(i)[u.wAp.Eras],n)}(n,s)[i.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${r}`)}}(l,d,i,n,r,s)}}function re(i){return function(n,r,s){const l=-1*s,d=xt(r,ee.MinusSign),g=l>0?Math.floor(l/60):Math.ceil(l/60);switch(i){case Wt.Short:return(l>=0?"+":"")+di(g,2,d)+di(Math.abs(l%60),2,d);case Wt.ShortGMT:return"GMT"+(l>=0?"+":"")+di(g,1,d);case Wt.Long:return"GMT"+(l>=0?"+":"")+di(g,2,d)+":"+di(Math.abs(l%60),2,d);case Wt.Extended:return 0===s?"Z":(l>=0?"+":"")+di(g,2,d)+":"+di(Math.abs(l%60),2,d);default:throw new Error(`Unknown zone width "${i}"`)}}}function nn(i){return yo(i.getFullYear(),i.getMonth(),i.getDate()+(4-i.getDay()))}function fn(i,n=!1){return function(r,s){let l;if(n){const d=new Date(r.getFullYear(),r.getMonth(),1).getDay()-1,g=r.getDate();l=1+Math.floor((g+d)/7)}else{const d=nn(r),g=function(i){const n=yo(i,0,1).getDay();return yo(i,0,1+(n<=4?4:11)-n)}(d.getFullYear()),y=d.getTime()-g.getTime();l=1+Math.round(y/6048e5)}return di(l,i,xt(s,ee.MinusSign))}}function zr(i,n=!1){return function(r,s){return di(nn(r).getFullYear(),i,xt(s,ee.MinusSign),n)}}const Rt={};function hi(i,n){i=i.replace(/:/g,"");const r=Date.parse("Jan 01, 1970 00:00:00 "+i)/6e4;return isNaN(r)?n:r}function od(i){return i instanceof Date&&!isNaN(i.valueOf())}class Fi{}let Cu=(()=>{class i extends Fi{constructor(r){super(),this.locale=r}getPluralCategory(r,s){switch(js(s||this.locale)(r)){case le.Zero:return"zero";case le.One:return"one";case le.Two:return"two";case le.Few:return"few";case le.Many:return"many";default:return"other"}}}return i.\u0275fac=function(r){return new(r||i)(u.LFG(u.soG))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac}),i})();class ts{constructor(n,r,s,l){this.$implicit=n,this.ngForOf=r,this.index=s,this.count=l}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let vt=(()=>{class i{constructor(r,s,l){this._viewContainer=r,this._template=s,this._differs=l,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;if(!this._differ&&r)try{this._differ=this._differs.find(r).create(this.ngForTrackBy)}catch(s){throw new Error(`Cannot find a differ supporting object '${r}' of type '${function(i){return i.name||typeof i}(r)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const s=[];r.forEachOperation((l,d,g)=>{if(null==l.previousIndex){const y=this._viewContainer.createEmbeddedView(this._template,new ts(null,this._ngForOf,-1,-1),null===g?void 0:g),E=new Tu(l,y);s.push(E)}else if(null==g)this._viewContainer.remove(null===d?void 0:d);else if(null!==d){const y=this._viewContainer.get(d);this._viewContainer.move(y,g);const E=new Tu(l,y);s.push(E)}});for(let l=0;l<s.length;l++)this._perViewChange(s[l].view,s[l].record);for(let l=0,d=this._viewContainer.length;l<d;l++){const g=this._viewContainer.get(l);g.context.index=l,g.context.count=d,g.context.ngForOf=this._ngForOf}r.forEachIdentityChange(l=>{this._viewContainer.get(l.currentIndex).context.$implicit=l.item})}_perViewChange(r,s){r.context.$implicit=s.item}static ngTemplateContextGuard(r,s){return!0}}return i.\u0275fac=function(r){return new(r||i)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},i.\u0275dir=u.lG2({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),i})();class Tu{constructor(n,r){this.record=n,this.view=r}}let un=(()=>{class i{constructor(r,s){this._viewContainer=r,this._context=new Iu,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=s}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){cl("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){cl("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,s){return!0}}return i.\u0275fac=function(r){return new(r||i)(u.Y36(u.s_b),u.Y36(u.Rgc))},i.\u0275dir=u.lG2({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),i})();class Iu{constructor(){this.$implicit=null,this.ngIf=null}}function cl(i,n){if(n&&!n.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${(0,u.AaK)(n)}'.`)}let Cr=(()=>{class i{constructor(r){this._viewContainerRef=r,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(r){if(r.ngTemplateOutlet){const s=this._viewContainerRef;this._viewRef&&s.remove(s.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?s.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&r.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return i.\u0275fac=function(r){return new(r||i)(u.Y36(u.s_b))},i.\u0275dir=u.lG2({type:i,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[u.TTD]}),i})(),Pr=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({providers:[{provide:Fi,useClass:Cu}]}),i})();function cd(i){return"server"===i}let Nu=(()=>{class i{}return i.\u0275prov=(0,u.Yz7)({token:i,providedIn:"root",factory:()=>new Mu((0,u.LFG)(ie),window)}),i})();class Mu{constructor(n,r){this.document=n,this.window=r,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const r=function(i,n){const r=i.getElementById(n)||i.getElementsByName(n)[0];if(r)return r;if("function"==typeof i.createTreeWalker&&i.body&&(i.body.createShadowRoot||i.body.attachShadow)){const s=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let l=s.currentNode;for(;l;){const d=l.shadowRoot;if(d){const g=d.getElementById(n)||d.querySelector(`[name="${n}"]`);if(g)return g}l=s.nextNode()}}return null}(this.document,n);r&&(this.scrollToElement(r),this.attemptFocus(r))}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const r=this.window.history;r&&r.scrollRestoration&&(r.scrollRestoration=n)}}scrollToElement(n){const r=n.getBoundingClientRect(),s=r.left+this.window.pageXOffset,l=r.top+this.window.pageYOffset,d=this.offset();this.window.scrollTo(s-d[0],l-d[1])}attemptFocus(n){return n.focus(),this.document.activeElement===n}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=xu(this.window.history)||xu(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch(n){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(n){return!1}}}function xu(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class dd extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var i;i=new dd,X||(X=i)}onAndCancel(n,r,s){return n.addEventListener(r,s,!1),()=>{n.removeEventListener(r,s,!1)}}dispatchEvent(n,r){n.dispatchEvent(r)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,r){return(r=r||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,r){return"window"===r?window:"document"===r?n:"body"===r?n.body:null}getBaseHref(n){const r=(qs=qs||document.querySelector("base"),qs?qs.getAttribute("href"):null);return null==r?null:function(i){dn=dn||document.createElement("a"),dn.setAttribute("href",i);const n=dn.pathname;return"/"===n.charAt(0)?n:`/${n}`}(r)}resetBaseElement(){qs=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function(i,n){n=encodeURIComponent(n);for(const r of i.split(";")){const s=r.indexOf("="),[l,d]=-1==s?[r,""]:[r.slice(0,s),r.slice(s+1)];if(l.trim()===n)return decodeURIComponent(d)}return null}(document.cookie,n)}}let dn,qs=null;const rm=new u.OlP("TRANSITION_ID"),Fr=[{provide:u.ip1,useFactory:function(i,n,r){return()=>{r.get(u.CZH).donePromise.then(()=>{const s=H(),l=n.querySelectorAll(`style[ng-transition="${i}"]`);for(let d=0;d<l.length;d++)s.remove(l[d])})}},deps:[rm,ie,u.zs3],multi:!0}];class Ru{static init(){(0,u.VLi)(new Ru)}addToWindow(n){u.dqk.getAngularTestability=(s,l=!0)=>{const d=n.findTestabilityInTree(s,l);if(null==d)throw new Error("Could not find testability for element.");return d},u.dqk.getAllAngularTestabilities=()=>n.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>n.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(s=>{const l=u.dqk.getAllAngularTestabilities();let d=l.length,g=!1;const y=function(E){g=g||E,d--,0==d&&s(g)};l.forEach(function(E){E.whenStable(y)})})}findTestabilityInTree(n,r,s){if(null==r)return null;const l=n.getTestability(r);return null!=l?l:s?H().isShadowRoot(r)?this.findTestabilityInTree(n,r.host,!0):this.findTestabilityInTree(n,r.parentElement,!0):null}}let hd=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac}),i})();const la=new u.OlP("EventManagerPlugins");let Ae=(()=>{class i{constructor(r,s){this._zone=s,this._eventNameToPlugin=new Map,r.forEach(l=>l.manager=this),this._plugins=r.slice().reverse()}addEventListener(r,s,l){return this._findPluginFor(s).addEventListener(r,s,l)}addGlobalEventListener(r,s,l){return this._findPluginFor(s).addGlobalEventListener(r,s,l)}getZone(){return this._zone}_findPluginFor(r){const s=this._eventNameToPlugin.get(r);if(s)return s;const l=this._plugins;for(let d=0;d<l.length;d++){const g=l[d];if(g.supports(r))return this._eventNameToPlugin.set(r,g),g}throw new Error(`No event manager plugin found for event ${r}`)}}return i.\u0275fac=function(r){return new(r||i)(u.LFG(la),u.LFG(u.R0b))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac}),i})();class Nt{constructor(n){this._doc=n}addGlobalEventListener(n,r,s){const l=H().getGlobalEventTarget(this._doc,n);if(!l)throw new Error(`Unsupported event target ${l} for event ${r}`);return this.addEventListener(l,r,s)}}let Af=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(r){const s=new Set;r.forEach(l=>{this._stylesSet.has(l)||(this._stylesSet.add(l),s.add(l))}),this.onStylesAdded(s)}onStylesAdded(r){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac}),i})(),rn=(()=>{class i extends Af{constructor(r){super(),this._doc=r,this._hostNodes=new Map,this._hostNodes.set(r.head,[])}_addStylesToHost(r,s,l){r.forEach(d=>{const g=this._doc.createElement("style");g.textContent=d,l.push(s.appendChild(g))})}addHost(r){const s=[];this._addStylesToHost(this._stylesSet,r,s),this._hostNodes.set(r,s)}removeHost(r){const s=this._hostNodes.get(r);s&&s.forEach(Sf),this._hostNodes.delete(r)}onStylesAdded(r){this._hostNodes.forEach((s,l)=>{this._addStylesToHost(r,l,s)})}ngOnDestroy(){this._hostNodes.forEach(r=>r.forEach(Sf))}}return i.\u0275fac=function(r){return new(r||i)(u.LFG(ie))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac}),i})();function Sf(i){H().remove(i)}const Zs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Vi=/%COMP%/g;function xn(i,n,r){for(let s=0;s<n.length;s++){let l=n[s];Array.isArray(l)?xn(i,l,r):(l=l.replace(Vi,i),r.push(l))}return r}function ss(i){return n=>{if("__ngUnwrap__"===n)return i;!1===i(n)&&(n.preventDefault(),n.returnValue=!1)}}let zs=(()=>{class i{constructor(r,s,l){this.eventManager=r,this.sharedStylesHost=s,this.appId=l,this.rendererByCompId=new Map,this.defaultRenderer=new gi(r)}createRenderer(r,s){if(!r||!s)return this.defaultRenderer;switch(s.encapsulation){case u.ifc.Emulated:{let l=this.rendererByCompId.get(s.id);return l||(l=new Mf(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,l)),l.applyToHost(r),l}case 1:case u.ifc.ShadowDom:return new xf(this.eventManager,this.sharedStylesHost,r,s);default:if(!this.rendererByCompId.has(s.id)){const l=xn(s.id,s.styles,[]);this.sharedStylesHost.addStyles(l),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(r){return new(r||i)(u.LFG(Ae),u.LFG(rn),u.LFG(u.AFp))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac}),i})();class gi{constructor(n){this.eventManager=n,this.data=Object.create(null)}destroy(){}createElement(n,r){return r?document.createElementNS(Zs[r]||r,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,r){n.appendChild(r)}insertBefore(n,r,s){n&&n.insertBefore(r,s)}removeChild(n,r){n&&n.removeChild(r)}selectRootElement(n,r){let s="string"==typeof n?document.querySelector(n):n;if(!s)throw new Error(`The selector "${n}" did not match any elements`);return r||(s.textContent=""),s}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,r,s,l){if(l){r=l+":"+r;const d=Zs[l];d?n.setAttributeNS(d,r,s):n.setAttribute(r,s)}else n.setAttribute(r,s)}removeAttribute(n,r,s){if(s){const l=Zs[s];l?n.removeAttributeNS(l,r):n.removeAttribute(`${s}:${r}`)}else n.removeAttribute(r)}addClass(n,r){n.classList.add(r)}removeClass(n,r){n.classList.remove(r)}setStyle(n,r,s,l){l&(u.JOm.DashCase|u.JOm.Important)?n.style.setProperty(r,s,l&u.JOm.Important?"important":""):n.style[r]=s}removeStyle(n,r,s){s&u.JOm.DashCase?n.style.removeProperty(r):n.style[r]=""}setProperty(n,r,s){n[r]=s}setValue(n,r){n.nodeValue=r}listen(n,r,s){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,r,ss(s)):this.eventManager.addEventListener(n,r,ss(s))}}class Mf extends gi{constructor(n,r,s,l){super(n),this.component=s;const d=xn(l+"-"+s.id,s.styles,[]);r.addStyles(d),this.contentAttr="_ngcontent-%COMP%".replace(Vi,l+"-"+s.id),this.hostAttr=function(i){return"_nghost-%COMP%".replace(Vi,i)}(l+"-"+s.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,r){const s=super.createElement(n,r);return super.setAttribute(s,this.contentAttr,""),s}}class xf extends gi{constructor(n,r,s,l){super(n),this.sharedStylesHost=r,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=xn(l.id,l.styles,[]);for(let g=0;g<d.length;g++){const y=document.createElement("style");y.textContent=d[g],this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,r){return super.appendChild(this.nodeOrShadowRoot(n),r)}insertBefore(n,r,s){return super.insertBefore(this.nodeOrShadowRoot(n),r,s)}removeChild(n,r){return super.removeChild(this.nodeOrShadowRoot(n),r)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let ku=(()=>{class i extends Nt{constructor(r){super(r)}supports(r){return!0}addEventListener(r,s,l){return r.addEventListener(s,l,!1),()=>this.removeEventListener(r,s,l)}removeEventListener(r,s,l){return r.removeEventListener(s,l)}}return i.\u0275fac=function(r){return new(r||i)(u.LFG(ie))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac}),i})();const Pu=["alt","control","meta","shift"],Nv={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Lr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Mv={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let fE=(()=>{class i extends Nt{constructor(r){super(r)}supports(r){return null!=i.parseEventName(r)}addEventListener(r,s,l){const d=i.parseEventName(s),g=i.eventCallback(d.fullKey,l,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>H().onAndCancel(r,d.domEventName,g))}static parseEventName(r){const s=r.toLowerCase().split("."),l=s.shift();if(0===s.length||"keydown"!==l&&"keyup"!==l)return null;const d=i._normalizeKey(s.pop());let g="";if(Pu.forEach(E=>{const I=s.indexOf(E);I>-1&&(s.splice(I,1),g+=E+".")}),g+=d,0!=s.length||0===d.length)return null;const y={};return y.domEventName=l,y.fullKey=g,y}static getEventFullKey(r){let s="",l=function(i){let n=i.key;if(null==n){if(n=i.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===i.location&&Lr.hasOwnProperty(n)&&(n=Lr[n]))}return Nv[n]||n}(r);return l=l.toLowerCase()," "===l?l="space":"."===l&&(l="dot"),Pu.forEach(d=>{d!=l&&Mv[d](r)&&(s+=d+".")}),s+=l,s}static eventCallback(r,s,l){return d=>{i.getEventFullKey(d)===r&&l.runGuarded(()=>s(d))}}static _normalizeKey(r){switch(r){case"esc":return"escape";default:return r}}}return i.\u0275fac=function(r){return new(r||i)(u.LFG(ie))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac}),i})();const Fu=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:"browser"},{provide:u.g9A,useValue:function(){dd.makeCurrent(),Ru.init()},multi:!0},{provide:ie,useFactory:function(){return(0,u.RDi)(document),document},deps:[]}]),Lf=[[],{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function(){return new u.qLn},deps:[]},{provide:la,useClass:ku,multi:!0,deps:[ie,u.R0b,u.Lbi]},{provide:la,useClass:fE,multi:!0,deps:[ie]},[],{provide:zs,useClass:zs,deps:[Ae,rn,u.AFp]},{provide:u.FYo,useExisting:zs},{provide:Af,useExisting:rn},{provide:rn,useClass:rn,deps:[ie]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b]},{provide:Ae,useClass:Ae,deps:[la,u.R0b]},{provide:class{},useClass:hd,deps:[]},[]];let Vf=(()=>{class i{constructor(r){if(r)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(r){return{ngModule:i,providers:[{provide:u.AFp,useValue:r.appId},{provide:rm,useExisting:u.AFp},Fr]}}}return i.\u0275fac=function(r){return new(r||i)(u.LFG(i,12))},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({providers:Lf,imports:[Pr,u.hGG]}),i})();"undefined"!=typeof window&&window;var Jt=L(4402),ze=L(5917),Zt=L(9765),Dd=L(7971);class kn extends Zt.xQ{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const r=super._subscribe(n);return r&&!r.closed&&n.next(this._value),r}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Dd.N;return this._value}next(n){super.next(this._value=n)}}var da=L(4869),Io=L(9796),Dr=L(7393);class $f extends Dr.L{notifyNext(n,r,s,l,d){this.destination.next(r)}notifyError(n,r){this.destination.error(n)}notifyComplete(n){this.destination.complete()}}class pE extends Dr.L{constructor(n,r,s){super(),this.parent=n,this.outerValue=r,this.outerIndex=s,this.index=0}_next(n){this.parent.notifyNext(this.outerValue,n,this.outerIndex,this.index++,this)}_error(n){this.parent.notifyError(n,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Ao=L(7444),Tn=L(7574);function Hf(i,n,r,s,l=new pE(i,r,s)){if(!l.closed)return n instanceof Tn.y?n.subscribe(l):(0,Ao.s)(n)(l)}var Td=L(6693);const Uu={};class Gf{constructor(n){this.resultSelector=n}call(n,r){return r.subscribe(new Id(n,this.resultSelector))}}class Id extends $f{constructor(n,r){super(n),this.resultSelector=r,this.active=0,this.values=[],this.observables=[]}_next(n){this.values.push(Uu),this.observables.push(n)}_complete(){const n=this.observables,r=n.length;if(0===r)this.destination.complete();else{this.active=r,this.toRespond=r;for(let s=0;s<r;s++)this.add(Hf(this,n[s],void 0,s))}}notifyComplete(n){0==(this.active-=1)&&this.destination.complete()}notifyNext(n,r,s){const l=this.values,g=this.toRespond?l[s]===Uu?--this.toRespond:this.toRespond:0;l[s]=r,0===g&&(this.resultSelector?this._tryResultSelector(l):this.destination.next(l.slice()))}_tryResultSelector(n){let r;try{r=this.resultSelector.apply(this,n)}catch(s){return void this.destination.error(s)}this.destination.next(r)}}const Ks=(()=>{function i(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return i.prototype=Object.create(Error.prototype),i})();var Ui=L(3282);function No(...i){return(0,Ui.J)(1)((0,ze.of)(...i))}var os=L(9193);function Cs(i){return new Tn.y(n=>{let r;try{r=i()}catch(l){return void n.error(l)}return(r?(0,Jt.D)(r):(0,os.c)()).subscribe(n)})}var gE=L(2441),ot=L(8002),Bi=L(5345);function On(i,n){return"function"==typeof n?r=>r.pipe(On((s,l)=>(0,Jt.D)(i(s,l)).pipe((0,ot.U)((d,g)=>n(s,d,l,g))))):r=>r.lift(new kv(i))}class kv{constructor(n){this.project=n}call(n,r){return r.subscribe(new pn(n,this.project))}}class pn extends Bi.Ds{constructor(n,r){super(n),this.project=r,this.index=0}_next(n){let r;const s=this.index++;try{r=this.project(n,s)}catch(l){return void this.destination.error(l)}this._innerSub(r)}_innerSub(n){const r=this.innerSubscription;r&&r.unsubscribe();const s=new Bi.IY(this),l=this.destination;l.add(s),this.innerSubscription=(0,Bi.ft)(n,s),this.innerSubscription!==s&&l.add(this.innerSubscription)}_complete(){const{innerSubscription:n}=this;(!n||n.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(n){this.destination.next(n)}}const qf=(()=>{function i(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return i.prototype=Object.create(Error.prototype),i})();function Qr(i){return n=>0===i?(0,os.c)():n.lift(new gm(i))}class gm{constructor(n){if(this.total=n,this.total<0)throw new qf}call(n,r){return r.subscribe(new _E(n,this.total))}}class _E extends Dr.L{constructor(n,r){super(n),this.total=r,this.count=0}_next(n){const r=this.total,s=++this.count;s<=r&&(this.destination.next(n),s===r&&(this.destination.complete(),this.unsubscribe()))}}function Mo(...i){const n=i[i.length-1];return(0,da.K)(n)?(i.pop(),r=>No(i,r,n)):r=>No(i,r)}function Ad(i,n){let r=!1;return arguments.length>=2&&(r=!0),function(l){return l.lift(new mm(i,n,r))}}class mm{constructor(n,r,s=!1){this.accumulator=n,this.seed=r,this.hasSeed=s}call(n,r){return r.subscribe(new yE(n,this.accumulator,this.seed,this.hasSeed))}}class yE extends Dr.L{constructor(n,r,s,l){super(n),this.accumulator=r,this._seed=s,this.hasSeed=l,this.index=0}get seed(){return this._seed}set seed(n){this.hasSeed=!0,this._seed=n}_next(n){if(this.hasSeed)return this._tryNext(n);this.seed=n,this.destination.next(n)}_tryNext(n){const r=this.index++;let s;try{s=this.accumulator(this.seed,n,r)}catch(l){this.destination.error(l)}this.seed=s,this.destination.next(s)}}function gn(i,n){return function(s){return s.lift(new Zf(i,n))}}class Zf{constructor(n,r){this.predicate=n,this.thisArg=r}call(n,r){return r.subscribe(new ha(n,this.predicate,this.thisArg))}}class ha extends Dr.L{constructor(n,r,s){super(n),this.predicate=r,this.thisArg=s,this.count=0}_next(n){let r;try{r=this.predicate.call(this.thisArg,n,this.count++)}catch(s){return void this.destination.error(s)}r&&this.destination.next(n)}}function wl(i){return function(r){const s=new In(i),l=r.lift(s);return s.caught=l}}class In{constructor(n){this.selector=n}call(n,r){return r.subscribe(new xo(n,this.selector,this.caught))}}class xo extends Bi.Ds{constructor(n,r,s){super(n),this.selector=r,this.caught=s}error(n){if(!this.isStopped){let r;try{r=this.selector(n,this.caught)}catch(d){return void super.error(d)}this._unsubscribeAndRecycle();const s=new Bi.IY(this);this.add(s);const l=(0,Bi.ft)(r,s);l!==s&&this.add(l)}}}var sn=L(9773);function El(i,n){return(0,sn.zg)(i,n,1)}function zf(i){return function(r){return 0===i?(0,os.c)():r.lift(new ji(i))}}class ji{constructor(n){if(this.total=n,this.total<0)throw new qf}call(n,r){return r.subscribe(new Ds(n,this.total))}}class Ds extends Dr.L{constructor(n,r){super(n),this.total=r,this.ring=new Array,this.count=0}_next(n){const r=this.ring,s=this.total,l=this.count++;r.length<s?r.push(n):r[l%s]=n}_complete(){const n=this.destination;let r=this.count;if(r>0){const s=this.count>=this.total?this.total:this.count,l=this.ring;for(let d=0;d<s;d++){const g=r++%s;n.next(l[g])}}n.complete()}}function fa(i=_m){return n=>n.lift(new Ro(i))}class Ro{constructor(n){this.errorFactory=n}call(n,r){return r.subscribe(new ko(n,this.errorFactory))}}class ko extends Dr.L{constructor(n,r){super(n),this.errorFactory=r,this.hasValue=!1}_next(n){this.hasValue=!0,this.destination.next(n)}_complete(){if(this.hasValue)return this.destination.complete();{let n;try{n=this.errorFactory()}catch(r){n=r}this.destination.error(n)}}}function _m(){return new Ks}function Sd(i=null){return n=>n.lift(new Ov(i))}class Ov{constructor(n){this.defaultValue=n}call(n,r){return r.subscribe(new ym(n,this.defaultValue))}}class ym extends Dr.L{constructor(n,r){super(n),this.defaultValue=r,this.isEmpty=!0}_next(n){this.isEmpty=!1,this.destination.next(n)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Pv=L(4487);function An(i,n){const r=arguments.length>=2;return s=>s.pipe(i?gn((l,d)=>i(l,d,s)):Pv.y,Qr(1),r?Sd(n):fa(()=>new Ks))}var Gn=L(8307),Oo=L(1307),Fv=L(5319);class Wf{constructor(n){this.callback=n}call(n,r){return r.subscribe(new Yf(n,this.callback))}}class Yf extends Dr.L{constructor(n,r){super(n),this.add(new Fv.w(r))}}class as{constructor(n,r){this.id=n,this.url=r}}class Kf extends as{constructor(n,r,s="imperative",l=null){super(n,r),this.navigationTrigger=s,this.restoredState=l}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class pa extends as{constructor(n,r,s){super(n,r),this.urlAfterRedirects=s}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ga extends as{constructor(n,r,s){super(n,r),this.reason=s}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Qf extends as{constructor(n,r,s){super(n,r),this.error=s}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Md extends as{constructor(n,r,s,l){super(n,r),this.urlAfterRedirects=s,this.state=l}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bm extends as{constructor(n,r,s,l){super(n,r),this.urlAfterRedirects=s,this.state=l}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bu extends as{constructor(n,r,s,l,d){super(n,r),this.urlAfterRedirects=s,this.state=l,this.shouldActivate=d}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Jf extends as{constructor(n,r,s,l){super(n,r),this.urlAfterRedirects=s,this.state=l}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Po extends as{constructor(n,r,s,l){super(n,r),this.urlAfterRedirects=s,this.state=l}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wm{constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Em{constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Xf{constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ep{constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cm{constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cl{constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fo{constructor(n,r,s){this.routerEvent=n,this.position=r,this.anchor=s}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const bt="primary";class tp{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const r=this.params[n];return Array.isArray(r)?r[0]:r}return null}getAll(n){if(this.has(n)){const r=this.params[n];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}}function on(i){return new tp(i)}const xd="ngNavigationCancelingError";function np(i){const n=Error("NavigationCancelingError: "+i);return n[xd]=!0,n}function ju(i,n,r){const s=r.path.split("/");if(s.length>i.length||"full"===r.pathMatch&&(n.hasChildren()||s.length<i.length))return null;const l={};for(let d=0;d<s.length;d++){const g=s[d],y=i[d];if(g.startsWith(":"))l[g.substring(1)]=y;else if(g!==y.path)return null}return{consumed:i.slice(0,s.length),posParams:l}}function mi(i,n){const r=i?Object.keys(i):void 0,s=n?Object.keys(n):void 0;if(!r||!s||r.length!=s.length)return!1;let l;for(let d=0;d<r.length;d++)if(l=r[d],!rp(i[l],n[l]))return!1;return!0}function rp(i,n){if(Array.isArray(i)&&Array.isArray(n)){if(i.length!==n.length)return!1;const r=[...i].sort(),s=[...n].sort();return r.every((l,d)=>s[d]===l)}return i===n}function Lv(i){return Array.prototype.concat.apply([],i)}function ma(i){return i.length>0?i[i.length-1]:null}function Pn(i,n){for(const r in i)i.hasOwnProperty(r)&&n(i[r],r)}function ar(i){return(0,u.CqO)(i)?i:(0,u.QGY)(i)?(0,Jt.D)(Promise.resolve(i)):(0,ze.of)(i)}const Im={exact:function Sm(i,n,r){if(!va(i.segments,n.segments)||!Rd(i.segments,n.segments,r)||i.numberOfChildren!==n.numberOfChildren)return!1;for(const s in n.children)if(!i.children[s]||!Sm(i.children[s],n.children[s],r))return!1;return!0},subset:ya},_a={exact:function(i,n){return mi(i,n)},subset:function(i,n){return Object.keys(n).length<=Object.keys(i).length&&Object.keys(n).every(r=>rp(i[r],n[r]))},ignored:()=>!0};function $u(i,n,r){return Im[r.paths](i.root,n.root,r.matrixParams)&&_a[r.queryParams](i.queryParams,n.queryParams)&&!("exact"===r.fragment&&i.fragment!==n.fragment)}function ya(i,n,r){return Dl(i,n,n.segments,r)}function Dl(i,n,r,s){if(i.segments.length>r.length){const l=i.segments.slice(0,r.length);return!(!va(l,r)||n.hasChildren()||!Rd(l,r,s))}if(i.segments.length===r.length){if(!va(i.segments,r)||!Rd(i.segments,r,s))return!1;for(const l in n.children)if(!i.children[l]||!ya(i.children[l],n.children[l],s))return!1;return!0}{const l=r.slice(0,i.segments.length),d=r.slice(i.segments.length);return!!(va(i.segments,l)&&Rd(i.segments,l,s)&&i.children[bt])&&Dl(i.children[bt],n,d,s)}}function Rd(i,n,r){return n.every((s,l)=>_a[r](i[l].parameters,s.parameters))}class Tl{constructor(n,r,s){this.root=n,this.queryParams=r,this.fragment=s}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=on(this.queryParams)),this._queryParamMap}toString(){return sp.serialize(this)}}class It{constructor(n,r){this.segments=n,this.children=r,this.parent=null,Pn(r,(s,l)=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qs(this)}}class Hu{constructor(n,r){this.path=n,this.parameters=r}get parameterMap(){return this._parameterMap||(this._parameterMap=on(this.parameters)),this._parameterMap}toString(){return op(this)}}function va(i,n){return i.length===n.length&&i.every((r,s)=>r.path===n[s].path)}class ip{}class Il{parse(n){const r=new Vo(n);return new Tl(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(n){var i;return`${`/${Gu(n.root,!0)}`}${function(i){const n=Object.keys(i).map(r=>{const s=i[r];return Array.isArray(s)?s.map(l=>`${qu(r)}=${qu(l)}`).join("&"):`${qu(r)}=${qu(s)}`}).filter(r=>!!r);return n.length?`?${n.join("&")}`:""}(n.queryParams)}${"string"==typeof n.fragment?`#${i=n.fragment,encodeURI(i)}`:""}`}}const sp=new Il;function Qs(i){return i.segments.map(n=>op(n)).join("/")}function Gu(i,n){if(!i.hasChildren())return Qs(i);if(n){const r=i.children[bt]?Gu(i.children[bt],!1):"",s=[];return Pn(i.children,(l,d)=>{d!==bt&&s.push(`${d}:${Gu(l,!1)}`)}),s.length>0?`${r}(${s.join("//")})`:r}{const r=function(i,n){let r=[];return Pn(i.children,(s,l)=>{l===bt&&(r=r.concat(n(s,l)))}),Pn(i.children,(s,l)=>{l!==bt&&(r=r.concat(n(s,l)))}),r}(i,(s,l)=>l===bt?[Gu(i.children[bt],!1)]:[`${l}:${Gu(s,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[bt]?`${Qs(i)}/${r[0]}`:`${Qs(i)}/(${r.join("//")})`}}function Nm(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qu(i){return Nm(i).replace(/%3B/gi,";")}function ba(i){return Nm(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Zu(i){return decodeURIComponent(i)}function Od(i){return Zu(i.replace(/\+/g,"%20"))}function op(i){return`${ba(i.path)}${function(i){return Object.keys(i).map(n=>`;${ba(n)}=${ba(i[n])}`).join("")}(i.parameters)}`}const jv=/^[^\/()?;=#]+/;function Pd(i){const n=i.match(jv);return n?n[0]:""}const $v=/^[^=?&#]+/,Xs=/^[^?&#]+/;class Vo{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new It([],{}):new It([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(n.length>0||Object.keys(r).length>0)&&(s[bt]=new It(n,r)),s}parseSegment(){const n=Pd(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(n),new Hu(Zu(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const r=Pd(this.remaining);if(!r)return;this.capture(r);let s="";if(this.consumeOptional("=")){const l=Pd(this.remaining);l&&(s=l,this.capture(s))}n[Zu(r)]=Zu(s)}parseQueryParam(n){const r=function(i){const n=i.match($v);return n?n[0]:""}(this.remaining);if(!r)return;this.capture(r);let s="";if(this.consumeOptional("=")){const g=function(i){const n=i.match(Xs);return n?n[0]:""}(this.remaining);g&&(s=g,this.capture(s))}const l=Od(r),d=Od(s);if(n.hasOwnProperty(l)){let g=n[l];Array.isArray(g)||(g=[g],n[l]=g),g.push(d)}else n[l]=d}parseParens(n){const r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=Pd(this.remaining),l=this.remaining[s.length];if("/"!==l&&")"!==l&&";"!==l)throw new Error(`Cannot parse url '${this.url}'`);let d;s.indexOf(":")>-1?(d=s.substr(0,s.indexOf(":")),this.capture(d),this.capture(":")):n&&(d=bt);const g=this.parseChildren();r[d]=1===Object.keys(g).length?g[bt]:new It([],g),this.consumeOptional("//")}return r}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new Error(`Expected "${n}".`)}}class Mm{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const r=this.pathFromRoot(n);return r.length>1?r[r.length-2]:null}children(n){const r=ap(n,this._root);return r?r.children.map(s=>s.value):[]}firstChild(n){const r=ap(n,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(n){const r=Wu(n,this._root);return r.length<2?[]:r[r.length-2].children.map(l=>l.value).filter(l=>l!==n)}pathFromRoot(n){return Wu(n,this._root).map(r=>r.value)}}function ap(i,n){if(i===n.value)return n;for(const r of n.children){const s=ap(i,r);if(s)return s}return null}function Wu(i,n){if(i===n.value)return[n];for(const r of n.children){const s=Wu(i,r);if(s.length)return s.unshift(n),s}return[]}class eo{constructor(n,r){this.value=n,this.children=r}toString(){return`TreeNode(${this.value})`}}function wa(i){const n={};return i&&i.children.forEach(r=>n[r.value.outlet]=r),n}class lp extends Mm{constructor(n,r){super(n),this.snapshot=r,Ld(this,n)}toString(){return this.snapshot.toString()}}function xm(i,n){const r=function(i,n){const g=new Fd([],{},{},"",{},bt,n,null,i.root,-1,{});return new Sl("",new eo(g,[]))}(i,n),s=new kn([new Hu("",{})]),l=new kn({}),d=new kn({}),g=new kn({}),y=new kn(""),E=new Al(s,l,g,y,d,bt,n,r.root);return E.snapshot=r.root,new lp(new eo(E,[]),r)}class Al{constructor(n,r,s,l,d,g,y,E){this.url=n,this.params=r,this.queryParams=s,this.fragment=l,this.data=d,this.outlet=g,this.component=y,this._futureSnapshot=E}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ot.U)(n=>on(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ot.U)(n=>on(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Rm(i,n="emptyOnly"){const r=i.pathFromRoot;let s=0;if("always"!==n)for(s=r.length-1;s>=1;){const l=r[s],d=r[s-1];if(l.routeConfig&&""===l.routeConfig.path)s--;else{if(d.component)break;s--}}return function(i){return i.reduce((n,r)=>({params:Object.assign(Object.assign({},n.params),r.params),data:Object.assign(Object.assign({},n.data),r.data),resolve:Object.assign(Object.assign({},n.resolve),r._resolvedData)}),{params:{},data:{},resolve:{}})}(r.slice(s))}class Fd{constructor(n,r,s,l,d,g,y,E,I,S,x){this.url=n,this.params=r,this.queryParams=s,this.fragment=l,this.data=d,this.outlet=g,this.component=y,this.routeConfig=E,this._urlSegment=I,this._lastPathIndex=S,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=on(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=on(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Sl extends Mm{constructor(n,r){super(r),this.url=n,Ld(this,r)}toString(){return ls(this._root)}}function Ld(i,n){n.value._routerState=i,n.children.forEach(r=>Ld(i,r))}function ls(i){const n=i.children.length>0?` { ${i.children.map(ls).join(", ")} } `:"";return`${i.value}${n}`}function Ea(i){if(i.snapshot){const n=i.snapshot,r=i._futureSnapshot;i.snapshot=r,mi(n.queryParams,r.queryParams)||i.queryParams.next(r.queryParams),n.fragment!==r.fragment&&i.fragment.next(r.fragment),mi(n.params,r.params)||i.params.next(r.params),function(i,n){if(i.length!==n.length)return!1;for(let r=0;r<i.length;++r)if(!mi(i[r],n[r]))return!1;return!0}(n.url,r.url)||i.url.next(r.url),mi(n.data,r.data)||i.data.next(r.data)}else i.snapshot=i._futureSnapshot,i.data.next(i._futureSnapshot.data)}function Yu(i,n){return mi(i.params,n.params)&&function(i,n){return va(i,n)&&i.every((r,s)=>mi(r.parameters,n[s].parameters))}(i.url,n.url)&&!(!i.parent!=!n.parent)&&(!i.parent||Yu(i.parent,n.parent))}function Ku(i,n,r){if(r&&i.shouldReuseRoute(n.value,r.value.snapshot)){const s=r.value;s._futureSnapshot=n.value;const l=function(i,n,r){return n.children.map(s=>{for(const l of r.children)if(i.shouldReuseRoute(s.value,l.value.snapshot))return Ku(i,s,l);return Ku(i,s)})}(i,n,r);return new eo(s,l)}{if(i.shouldAttach(n.value)){const d=i.retrieve(n.value);if(null!==d){const g=d.route;return Gv(n,g),g}}const s=function(i){return new Al(new kn(i.url),new kn(i.params),new kn(i.queryParams),new kn(i.fragment),new kn(i.data),i.outlet,i.component,i)}(n.value),l=n.children.map(d=>Ku(i,d));return new eo(s,l)}}function Gv(i,n){if(i.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(i.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=i.value;for(let r=0;r<i.children.length;++r)Gv(i.children[r],n.children[r])}function Nl(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function Is(i){return"object"==typeof i&&null!=i&&i.outlets}function Fm(i,n,r,s,l){let d={};return s&&Pn(s,(g,y)=>{d[y]=Array.isArray(g)?g.map(E=>`${E}`):`${g}`}),new Tl(r.root===i?n:qv(r.root,i,n),d,l)}function qv(i,n,r){const s={};return Pn(i.children,(l,d)=>{s[d]=l===n?r:qv(l,n,r)}),new It(i.segments,s)}class dp{constructor(n,r,s){if(this.isAbsolute=n,this.numberOfDoubleDots=r,this.commands=s,n&&s.length>0&&Nl(s[0]))throw new Error("Root segment cannot have matrix parameters");const l=s.find(Is);if(l&&l!==ma(s))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class hp{constructor(n,r,s){this.segmentGroup=n,this.processChildren=r,this.index=s}}function Uo(i,n,r){if(i||(i=new It([],{})),0===i.segments.length&&i.hasChildren())return Qu(i,n,r);const s=function(i,n,r){let s=0,l=n;const d={match:!1,pathIndex:0,commandIndex:0};for(;l<i.segments.length;){if(s>=r.length)return d;const g=i.segments[l],y=r[s];if(Is(y))break;const E=`${y}`,I=s<r.length-1?r[s+1]:null;if(l>0&&void 0===E)break;if(E&&I&&"object"==typeof I&&void 0===I.outlets){if(!Bm(E,I,g))return d;s+=2}else{if(!Bm(E,{},g))return d;s++}l++}return{match:!0,pathIndex:l,commandIndex:s}}(i,n,r),l=r.slice(s.commandIndex);if(s.match&&s.pathIndex<i.segments.length){const d=new It(i.segments.slice(0,s.pathIndex),{});return d.children[bt]=new It(i.segments.slice(s.pathIndex),i.children),Qu(d,0,l)}return s.match&&0===l.length?new It(i.segments,{}):s.match&&!i.hasChildren()?fp(i,n,r):s.match?Qu(i,0,l):fp(i,n,r)}function Qu(i,n,r){if(0===r.length)return new It(i.segments,{});{const s=function(i){return Is(i[0])?i[0].outlets:{[bt]:i}}(r),l={};return Pn(s,(d,g)=>{"string"==typeof d&&(d=[d]),null!==d&&(l[g]=Uo(i.children[g],n,d))}),Pn(i.children,(d,g)=>{void 0===s[g]&&(l[g]=d)}),new It(i.segments,l)}}function fp(i,n,r){const s=i.segments.slice(0,n);let l=0;for(;l<r.length;){const d=r[l];if(Is(d)){const E=En(d.outlets);return new It(s,E)}if(0===l&&Nl(r[0])){s.push(new Hu(i.segments[n].path,Um(r[0]))),l++;continue}const g=Is(d)?d.outlets[bt]:`${d}`,y=l<r.length-1?r[l+1]:null;g&&y&&Nl(y)?(s.push(new Hu(g,Um(y))),l+=2):(s.push(new Hu(g,{})),l++)}return new It(s,{})}function En(i){const n={};return Pn(i,(r,s)=>{"string"==typeof r&&(r=[r]),null!==r&&(n[s]=fp(new It([],{}),0,r))}),n}function Um(i){const n={};return Pn(i,(r,s)=>n[s]=`${r}`),n}function Bm(i,n,r){return i==r.path&&mi(n,r.parameters)}class jd{constructor(n,r,s,l){this.routeReuseStrategy=n,this.futureState=r,this.currState=s,this.forwardEvent=l}activate(n){const r=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,s,n),Ea(this.futureState.root),this.activateChildRoutes(r,s,n)}deactivateChildRoutes(n,r,s){const l=wa(r);n.children.forEach(d=>{const g=d.value.outlet;this.deactivateRoutes(d,l[g],s),delete l[g]}),Pn(l,(d,g)=>{this.deactivateRouteAndItsChildren(d,s)})}deactivateRoutes(n,r,s){const l=n.value,d=r?r.value:null;if(l===d)if(l.component){const g=s.getContext(l.outlet);g&&this.deactivateChildRoutes(n,r,g.children)}else this.deactivateChildRoutes(n,r,s);else d&&this.deactivateRouteAndItsChildren(r,s)}deactivateRouteAndItsChildren(n,r){this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,r):this.deactivateRouteAndOutlet(n,r)}detachAndStoreRouteSubtree(n,r){const s=r.getContext(n.value.outlet);if(s&&s.outlet){const l=s.outlet.detach(),d=s.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:l,route:n,contexts:d})}}deactivateRouteAndOutlet(n,r){const s=r.getContext(n.value.outlet),l=s&&n.value.component?s.children:r,d=wa(n);for(const g of Object.keys(d))this.deactivateRouteAndItsChildren(d[g],l);s&&s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated(),s.attachRef=null,s.resolver=null,s.route=null)}activateChildRoutes(n,r,s){const l=wa(r);n.children.forEach(d=>{this.activateRoutes(d,l[d.value.outlet],s),this.forwardEvent(new Cl(d.value.snapshot))}),n.children.length&&this.forwardEvent(new ep(n.value.snapshot))}activateRoutes(n,r,s){const l=n.value,d=r?r.value:null;if(Ea(l),l===d)if(l.component){const g=s.getOrCreateContext(l.outlet);this.activateChildRoutes(n,r,g.children)}else this.activateChildRoutes(n,r,s);else if(l.component){const g=s.getOrCreateContext(l.outlet);if(this.routeReuseStrategy.shouldAttach(l.snapshot)){const y=this.routeReuseStrategy.retrieve(l.snapshot);this.routeReuseStrategy.store(l.snapshot,null),g.children.onOutletReAttached(y.contexts),g.attachRef=y.componentRef,g.route=y.route.value,g.outlet&&g.outlet.attach(y.componentRef,y.route.value),$d(y.route)}else{const y=function(i){for(let n=i.parent;n;n=n.parent){const r=n.routeConfig;if(r&&r._loadedConfig)return r._loadedConfig;if(r&&r.component)return null}return null}(l.snapshot),E=y?y.module.componentFactoryResolver:null;g.attachRef=null,g.route=l,g.resolver=E,g.outlet&&g.outlet.activateWith(l,E),this.activateChildRoutes(n,null,g.children)}}else this.activateChildRoutes(n,null,s)}}function $d(i){Ea(i.value),i.children.forEach($d)}class pp{constructor(n,r){this.routes=n,this.module=r}}function As(i){return"function"==typeof i}function Ss(i){return i instanceof Tl}const Ml=Symbol("INITIAL_VALUE");function Ca(){return On(i=>function(...i){let n,r;return(0,da.K)(i[i.length-1])&&(r=i.pop()),"function"==typeof i[i.length-1]&&(n=i.pop()),1===i.length&&(0,Io.k)(i[0])&&(i=i[0]),(0,Td.n)(i,r).lift(new Gf(n))}(i.map(n=>n.pipe(Qr(1),Mo(Ml)))).pipe(Ad((n,r)=>{let s=!1;return r.reduce((l,d,g)=>l!==Ml?l:(d===Ml&&(s=!0),s||!1!==d&&g!==r.length-1&&!Ss(d)?l:d),n)},Ml),gn(n=>n!==Ml),(0,ot.U)(n=>Ss(n)?n:!0===n),Qr(1)))}let ur=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=u.Xpm({type:i,selectors:[["ng-component"]],decls:1,vars:0,template:function(r,s){1&r&&u._UZ(0,"router-outlet")},directives:function(){return[Yd]},encapsulation:2}),i})();function yi(i,n=""){for(let r=0;r<i.length;r++){const s=i[r];Hd(s,Yv(n,s))}}function Hd(i,n){i.children&&yi(i.children,n)}function Yv(i,n){return n?i||n.path?i&&!n.path?`${i}/`:!i&&n.path?n.path:`${i}/${n.path}`:"":i}function gp(i){const n=i.children&&i.children.map(gp),r=n?Object.assign(Object.assign({},i),{children:n}):Object.assign({},i);return!r.component&&(n||r.loadChildren)&&r.outlet&&r.outlet!==bt&&(r.component=ur),r}function vi(i){return i.outlet||bt}function mp(i,n){const r=i.filter(s=>vi(s)===n);return r.push(...i.filter(s=>vi(s)!==n)),r}const Tr={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function xl(i,n,r){var s;if(""===n.path)return"full"===n.pathMatch&&(i.hasChildren()||r.length>0)?Object.assign({},Tr):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const d=(n.matcher||ju)(r,i,n);if(!d)return Object.assign({},Tr);const g={};Pn(d.posParams,(E,I)=>{g[I]=E.path});const y=d.consumed.length>0?Object.assign(Object.assign({},g),d.consumed[d.consumed.length-1].parameters):g;return{matched:!0,consumedSegments:d.consumed,lastChild:d.consumed.length,parameters:y,positionalParamSegments:null!==(s=d.posParams)&&void 0!==s?s:{}}}function Da(i,n,r,s,l="corrected"){if(r.length>0&&function(i,n,r){return r.some(s=>Ta(i,n,s)&&vi(s)!==bt)}(i,r,s)){const g=new It(n,function(i,n,r,s){const l={};l[bt]=s,s._sourceSegment=i,s._segmentIndexShift=n.length;for(const d of r)if(""===d.path&&vi(d)!==bt){const g=new It([],{});g._sourceSegment=i,g._segmentIndexShift=n.length,l[vi(d)]=g}return l}(i,n,s,new It(r,i.children)));return g._sourceSegment=i,g._segmentIndexShift=n.length,{segmentGroup:g,slicedSegments:[]}}if(0===r.length&&function(i,n,r){return r.some(s=>Ta(i,n,s))}(i,r,s)){const g=new It(i.segments,function(i,n,r,s,l,d){const g={};for(const y of s)if(Ta(i,r,y)&&!l[vi(y)]){const E=new It([],{});E._sourceSegment=i,E._segmentIndexShift="legacy"===d?i.segments.length:n.length,g[vi(y)]=E}return Object.assign(Object.assign({},l),g)}(i,n,r,s,i.children,l));return g._sourceSegment=i,g._segmentIndexShift=n.length,{segmentGroup:g,slicedSegments:r}}const d=new It(i.segments,i.children);return d._sourceSegment=i,d._segmentIndexShift=n.length,{segmentGroup:d,slicedSegments:r}}function Ta(i,n,r){return(!(i.hasChildren()||n.length>0)||"full"!==r.pathMatch)&&""===r.path}function Gd(i,n,r,s){return!!(vi(i)===s||s!==bt&&Ta(n,r,i))&&("**"===i.path||xl(n,i,r).matched)}function qd(i,n,r){return 0===n.length&&!i.children[r]}class Zd{constructor(n){this.segmentGroup=n||null}}class yp{constructor(n){this.urlTree=n}}function Ia(i){return new Tn.y(n=>n.error(new Zd(i)))}function $m(i){return new Tn.y(n=>n.error(new yp(i)))}function C(i){return new Tn.y(n=>n.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${i}'`)))}class D{constructor(n,r,s,l,d){this.configLoader=r,this.urlSerializer=s,this.urlTree=l,this.config=d,this.allowRedirects=!0,this.ngModule=n.get(u.h0i)}apply(){const n=Da(this.urlTree.root,[],[],this.config).segmentGroup,r=new It(n.segments,n.children);return this.expandSegmentGroup(this.ngModule,this.config,r,bt).pipe((0,ot.U)(d=>this.createUrlTree(k(d),this.urlTree.queryParams,this.urlTree.fragment))).pipe(wl(d=>{if(d instanceof yp)return this.allowRedirects=!1,this.match(d.urlTree);throw d instanceof Zd?this.noMatchError(d):d}))}match(n){return this.expandSegmentGroup(this.ngModule,this.config,n.root,bt).pipe((0,ot.U)(l=>this.createUrlTree(k(l),n.queryParams,n.fragment))).pipe(wl(l=>{throw l instanceof Zd?this.noMatchError(l):l}))}noMatchError(n){return new Error(`Cannot match any routes. URL Segment: '${n.segmentGroup}'`)}createUrlTree(n,r,s){const l=n.segments.length>0?new It([],{[bt]:n}):n;return new Tl(l,r,s)}expandSegmentGroup(n,r,s,l){return 0===s.segments.length&&s.hasChildren()?this.expandChildren(n,r,s).pipe((0,ot.U)(d=>new It([],d))):this.expandSegment(n,s,r,s.segments,l,!0)}expandChildren(n,r,s){const l=[];for(const d of Object.keys(s.children))"primary"===d?l.unshift(d):l.push(d);return(0,Jt.D)(l).pipe(El(d=>{const g=s.children[d],y=mp(r,d);return this.expandSegmentGroup(n,y,g,d).pipe((0,ot.U)(E=>({segment:E,outlet:d})))}),Ad((d,g)=>(d[g.outlet]=g.segment,d),{}),function(i,n){const r=arguments.length>=2;return s=>s.pipe(i?gn((l,d)=>i(l,d,s)):Pv.y,zf(1),r?Sd(n):fa(()=>new Ks))}())}expandSegment(n,r,s,l,d,g){return(0,Jt.D)(s).pipe(El(y=>this.expandSegmentAgainstRoute(n,r,s,y,l,d,g).pipe(wl(I=>{if(I instanceof Zd)return(0,ze.of)(null);throw I}))),An(y=>!!y),wl((y,E)=>{if(y instanceof Ks||"EmptyError"===y.name){if(qd(r,l,d))return(0,ze.of)(new It([],{}));throw new Zd(r)}throw y}))}expandSegmentAgainstRoute(n,r,s,l,d,g,y){return Gd(l,r,d,g)?void 0===l.redirectTo?this.matchSegmentAgainstRoute(n,r,l,d,g):y&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,r,s,l,d,g):Ia(r):Ia(r)}expandSegmentAgainstRouteUsingRedirect(n,r,s,l,d,g){return"**"===l.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,s,l,g):this.expandRegularSegmentAgainstRouteUsingRedirect(n,r,s,l,d,g)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,s,l){const d=this.applyRedirectCommands([],s.redirectTo,{});return s.redirectTo.startsWith("/")?$m(d):this.lineralizeSegments(s,d).pipe((0,sn.zg)(g=>{const y=new It(g,{});return this.expandSegment(n,y,r,g,l,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,r,s,l,d,g){const{matched:y,consumedSegments:E,lastChild:I,positionalParamSegments:S}=xl(r,l,d);if(!y)return Ia(r);const x=this.applyRedirectCommands(E,l.redirectTo,S);return l.redirectTo.startsWith("/")?$m(x):this.lineralizeSegments(l,x).pipe((0,sn.zg)(O=>this.expandSegment(n,r,s,O.concat(d.slice(I)),g,!1)))}matchSegmentAgainstRoute(n,r,s,l,d){if("**"===s.path)return s.loadChildren?(s._loadedConfig?(0,ze.of)(s._loadedConfig):this.configLoader.load(n.injector,s)).pipe((0,ot.U)(O=>(s._loadedConfig=O,new It(l,{})))):(0,ze.of)(new It(l,{}));const{matched:g,consumedSegments:y,lastChild:E}=xl(r,s,l);if(!g)return Ia(r);const I=l.slice(E);return this.getChildConfig(n,s,l).pipe((0,sn.zg)(x=>{const O=x.module,V=x.routes,{segmentGroup:q,slicedSegments:te}=Da(r,y,I,V),me=new It(q.segments,q.children);if(0===te.length&&me.hasChildren())return this.expandChildren(O,V,me).pipe((0,ot.U)(He=>new It(y,He)));if(0===V.length&&0===te.length)return(0,ze.of)(new It(y,{}));const Oe=vi(s)===d;return this.expandSegment(O,me,V,te,Oe?bt:d,!0).pipe((0,ot.U)(je=>new It(y.concat(je.segments),je.children)))}))}getChildConfig(n,r,s){return r.children?(0,ze.of)(new pp(r.children,n)):r.loadChildren?void 0!==r._loadedConfig?(0,ze.of)(r._loadedConfig):this.runCanLoadGuards(n.injector,r,s).pipe((0,sn.zg)(l=>{return l?this.configLoader.load(n.injector,r).pipe((0,ot.U)(d=>(r._loadedConfig=d,d))):(i=r,new Tn.y(n=>n.error(np(`Cannot load children because the guard of the route "path: '${i.path}'" returned false`))));var i})):(0,ze.of)(new pp([],n))}runCanLoadGuards(n,r,s){const l=r.canLoad;if(!l||0===l.length)return(0,ze.of)(!0);const d=l.map(g=>{const y=n.get(g);let E;if((i=y)&&As(i.canLoad))E=y.canLoad(r,s);else{if(!As(y))throw new Error("Invalid CanLoad guard");E=y(r,s)}var i;return ar(E)});return(0,ze.of)(d).pipe(Ca(),(0,Gn.b)(g=>{if(!Ss(g))return;const y=np(`Redirecting to "${this.urlSerializer.serialize(g)}"`);throw y.url=g,y}),(0,ot.U)(g=>!0===g))}lineralizeSegments(n,r){let s=[],l=r.root;for(;;){if(s=s.concat(l.segments),0===l.numberOfChildren)return(0,ze.of)(s);if(l.numberOfChildren>1||!l.children[bt])return C(n.redirectTo);l=l.children[bt]}}applyRedirectCommands(n,r,s){return this.applyRedirectCreatreUrlTree(r,this.urlSerializer.parse(r),n,s)}applyRedirectCreatreUrlTree(n,r,s,l){const d=this.createSegmentGroup(n,r.root,s,l);return new Tl(d,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(n,r){const s={};return Pn(n,(l,d)=>{if("string"==typeof l&&l.startsWith(":")){const y=l.substring(1);s[d]=r[y]}else s[d]=l}),s}createSegmentGroup(n,r,s,l){const d=this.createSegments(n,r.segments,s,l);let g={};return Pn(r.children,(y,E)=>{g[E]=this.createSegmentGroup(n,y,s,l)}),new It(d,g)}createSegments(n,r,s,l){return r.map(d=>d.path.startsWith(":")?this.findPosParam(n,d,l):this.findOrReturn(d,s))}findPosParam(n,r,s){const l=s[r.path.substring(1)];if(!l)throw new Error(`Cannot redirect to '${n}'. Cannot find '${r.path}'.`);return l}findOrReturn(n,r){let s=0;for(const l of r){if(l.path===n.path)return r.splice(s),l;s++}return n}}function k(i){const n={};for(const s of Object.keys(i.children)){const d=k(i.children[s]);(d.segments.length>0||d.hasChildren())&&(n[s]=d)}return function(i){if(1===i.numberOfChildren&&i.children[bt]){const n=i.children[bt];return new It(i.segments.concat(n.segments),n.children)}return i}(new It(i.segments,n))}class pe{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class xe{constructor(n,r){this.component=n,this.route=r}}function qe(i,n,r){const s=i._root;return Jr(s,n?n._root:null,r,[s.value])}function tt(i,n,r){const s=function(i){if(!i)return null;for(let n=i.parent;n;n=n.parent){const r=n.routeConfig;if(r&&r._loadedConfig)return r._loadedConfig}return null}(n);return(s?s.module.injector:r).get(i)}function Jr(i,n,r,s,l={canDeactivateChecks:[],canActivateChecks:[]}){const d=wa(n);return i.children.forEach(g=>{(function(i,n,r,s,l={canDeactivateChecks:[],canActivateChecks:[]}){const d=i.value,g=n?n.value:null,y=r?r.getContext(i.value.outlet):null;if(g&&d.routeConfig===g.routeConfig){const E=function(i,n,r){if("function"==typeof r)return r(i,n);switch(r){case"pathParamsChange":return!va(i.url,n.url);case"pathParamsOrQueryParamsChange":return!va(i.url,n.url)||!mi(i.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Yu(i,n)||!mi(i.queryParams,n.queryParams);case"paramsChange":default:return!Yu(i,n)}}(g,d,d.routeConfig.runGuardsAndResolvers);E?l.canActivateChecks.push(new pe(s)):(d.data=g.data,d._resolvedData=g._resolvedData),Jr(i,n,d.component?y?y.children:null:r,s,l),E&&y&&y.outlet&&y.outlet.isActivated&&l.canDeactivateChecks.push(new xe(y.outlet.component,g))}else g&&Aa(n,y,l),l.canActivateChecks.push(new pe(s)),Jr(i,null,d.component?y?y.children:null:r,s,l)})(g,d[g.value.outlet],r,s.concat([g.value]),l),delete d[g.value.outlet]}),Pn(d,(g,y)=>Aa(g,r.getContext(y),l)),l}function Aa(i,n,r){const s=wa(i),l=i.value;Pn(s,(d,g)=>{Aa(d,l.component?n?n.children.getContext(g):null:n,r)}),r.canDeactivateChecks.push(new xe(l.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,l))}class tc{}function Wd(i){return new Tn.y(n=>n.error(i))}class bE{constructor(n,r,s,l,d,g){this.rootComponentType=n,this.config=r,this.urlTree=s,this.url=l,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=g}recognize(){const n=Da(this.urlTree.root,[],[],this.config.filter(g=>void 0===g.redirectTo),this.relativeLinkResolution).segmentGroup,r=this.processSegmentGroup(this.config,n,bt);if(null===r)return null;const s=new Fd([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},bt,this.rootComponentType,null,this.urlTree.root,-1,{}),l=new eo(s,r),d=new Sl(this.url,l);return this.inheritParamsAndData(d._root),d}inheritParamsAndData(n){const r=n.value,s=Rm(r,this.paramsInheritanceStrategy);r.params=Object.freeze(s.params),r.data=Object.freeze(s.data),n.children.forEach(l=>this.inheritParamsAndData(l))}processSegmentGroup(n,r,s){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,r):this.processSegment(n,r,r.segments,s)}processChildren(n,r){const s=[];for(const d of Object.keys(r.children)){const g=r.children[d],y=mp(n,d),E=this.processSegmentGroup(y,g,d);if(null===E)return null;s.push(...E)}const l=qm(s);return l.sort((n,r)=>n.value.outlet===bt?-1:r.value.outlet===bt?1:n.value.outlet.localeCompare(r.value.outlet)),l}processSegment(n,r,s,l){for(const d of n){const g=this.processSegmentAgainstRoute(d,r,s,l);if(null!==g)return g}return qd(r,s,l)?[]:null}processSegmentAgainstRoute(n,r,s,l){if(n.redirectTo||!Gd(n,r,s,l))return null;let d,g=[],y=[];if("**"===n.path){const V=s.length>0?ma(s).parameters:{};d=new Fd(s,V,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,nc(n),vi(n),n.component,n,e0(r),MA(r)+s.length,Zm(n))}else{const V=xl(r,n,s);if(!V.matched)return null;g=V.consumedSegments,y=s.slice(V.lastChild),d=new Fd(g,V.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,nc(n),vi(n),n.component,n,e0(r),MA(r)+g.length,Zm(n))}const E=(i=n).children?i.children:i.loadChildren?i._loadedConfig.routes:[],{segmentGroup:I,slicedSegments:S}=Da(r,g,y,E.filter(V=>void 0===V.redirectTo),this.relativeLinkResolution);var i;if(0===S.length&&I.hasChildren()){const V=this.processChildren(E,I);return null===V?null:[new eo(d,V)]}if(0===E.length&&0===S.length)return[new eo(d,[])];const x=vi(n)===l,O=this.processSegment(E,I,S,x?bt:l);return null===O?null:[new eo(d,O)]}}function EE(i){const n=i.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function qm(i){const n=[],r=new Set;for(const s of i){if(!EE(s)){n.push(s);continue}const l=n.find(d=>s.value.routeConfig===d.value.routeConfig);void 0!==l?(l.children.push(...s.children),r.add(l)):n.push(s)}for(const s of r){const l=qm(s.children);n.push(new eo(s.value,l))}return n.filter(s=>!r.has(s))}function e0(i){let n=i;for(;n._sourceSegment;)n=n._sourceSegment;return n}function MA(i){let n=i,r=n._segmentIndexShift?n._segmentIndexShift:0;for(;n._sourceSegment;)n=n._sourceSegment,r+=n._segmentIndexShift?n._segmentIndexShift:0;return r-1}function nc(i){return i.data||{}}function Zm(i){return i.resolve||{}}function n0(i){return On(n=>{const r=i(n);return r?(0,Jt.D)(r).pipe((0,ot.U)(()=>n)):(0,ze.of)(n)})}class FA extends class{shouldDetach(n){return!1}store(n,r){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,r){return n.routeConfig===r.routeConfig}}{}const zm=new u.OlP("ROUTES");class Wm{constructor(n,r,s,l){this.loader=n,this.compiler=r,this.onLoadStartListener=s,this.onLoadEndListener=l}load(n,r){if(r._loader$)return r._loader$;this.onLoadStartListener&&this.onLoadStartListener(r);const l=this.loadModuleFactory(r.loadChildren).pipe((0,ot.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(r);const g=d.create(n);return new pp(Lv(g.injector.get(zm,void 0,u.XFs.Self|u.XFs.Optional)).map(gp),g)}),wl(d=>{throw r._loader$=void 0,d}));return r._loader$=new gE.c(l,()=>new Zt.xQ).pipe((0,Oo.x)()),r._loader$}loadModuleFactory(n){return"string"==typeof n?(0,Jt.D)(this.loader.load(n)):ar(n()).pipe((0,sn.zg)(r=>r instanceof u.YKP?(0,ze.of)(r):(0,Jt.D)(this.compiler.compileModuleAsync(r))))}}class TE{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new kl,this.attachRef=null}}class kl{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const s=this.getOrCreateContext(n);s.outlet=r,this.contexts.set(n,s)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new TE,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}class VA{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}function IE(i){throw i}function AE(i,n,r){return n.parse("/")}function Ol(i,n){return(0,ze.of)(null)}const SE={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},NE={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let bi=(()=>{class i{constructor(r,s,l,d,g,y,E,I){this.rootComponentType=r,this.urlSerializer=s,this.rootContexts=l,this.location=d,this.config=I,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Zt.xQ,this.errorHandler=IE,this.malformedUriErrorHandler=AE,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ol,afterPreactivation:Ol},this.urlHandlingStrategy=new VA,this.routeReuseStrategy=new FA,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=g.get(u.h0i),this.console=g.get(u.c2e);const O=g.get(u.R0b);this.isNgZoneEnabled=O instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(I),this.currentUrlTree=new Tl(new It([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Wm(y,E,V=>this.triggerEvent(new wm(V)),V=>this.triggerEvent(new Em(V))),this.routerState=xm(this.currentUrlTree,this.rootComponentType),this.transitions=new kn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var r;return null===(r=this.location.getState())||void 0===r?void 0:r.\u0275routerPageId}setupNavigations(r){const s=this.events;return r.pipe(gn(l=>0!==l.id),(0,ot.U)(l=>Object.assign(Object.assign({},l),{extractedUrl:this.urlHandlingStrategy.extract(l.rawUrl)})),On(l=>{let d=!1,g=!1;return(0,ze.of)(l).pipe((0,Gn.b)(y=>{this.currentNavigation={id:y.id,initialUrl:y.currentRawUrl,extractedUrl:y.extractedUrl,trigger:y.source,extras:y.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),On(y=>{const E=this.browserUrlTree.toString(),I=!this.navigated||y.extractedUrl.toString()!==E||E!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||I)&&this.urlHandlingStrategy.shouldProcessUrl(y.rawUrl))return Km(y.source)&&(this.browserUrlTree=y.extractedUrl),(0,ze.of)(y).pipe(On(x=>{const O=this.transitions.getValue();return s.next(new Kf(x.id,this.serializeUrl(x.extractedUrl),x.source,x.restoredState)),O!==this.transitions.getValue()?os.E:Promise.resolve(x)}),function(i,n,r,s){return On(l=>function(i,n,r,s,l){return new D(i,n,r,s,l).apply()}(i,n,r,l.extractedUrl,s).pipe((0,ot.U)(d=>Object.assign(Object.assign({},l),{urlAfterRedirects:d}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Gn.b)(x=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:x.urlAfterRedirects})}),function(i,n,r,s,l){return(0,sn.zg)(d=>function(i,n,r,s,l="emptyOnly",d="legacy"){try{const g=new bE(i,n,r,s,l,d).recognize();return null===g?Wd(new tc):(0,ze.of)(g)}catch(g){return Wd(g)}}(i,n,d.urlAfterRedirects,r(d.urlAfterRedirects),s,l).pipe((0,ot.U)(g=>Object.assign(Object.assign({},d),{targetSnapshot:g}))))}(this.rootComponentType,this.config,x=>this.serializeUrl(x),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Gn.b)(x=>{"eager"===this.urlUpdateStrategy&&(x.extras.skipLocationChange||this.setBrowserUrl(x.urlAfterRedirects,x),this.browserUrlTree=x.urlAfterRedirects);const O=new Md(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);s.next(O)}));if(I&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:O,extractedUrl:V,source:q,restoredState:te,extras:me}=y,Oe=new Kf(O,this.serializeUrl(V),q,te);s.next(Oe);const Pe=xm(V,this.rootComponentType).snapshot;return(0,ze.of)(Object.assign(Object.assign({},y),{targetSnapshot:Pe,urlAfterRedirects:V,extras:Object.assign(Object.assign({},me),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=y.rawUrl,this.browserUrlTree=y.urlAfterRedirects,y.resolve(null),os.E}),n0(y=>{const{targetSnapshot:E,id:I,extractedUrl:S,rawUrl:x,extras:{skipLocationChange:O,replaceUrl:V}}=y;return this.hooks.beforePreactivation(E,{navigationId:I,appliedUrlTree:S,rawUrlTree:x,skipLocationChange:!!O,replaceUrl:!!V})}),(0,Gn.b)(y=>{const E=new bm(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(E)}),(0,ot.U)(y=>Object.assign(Object.assign({},y),{guards:qe(y.targetSnapshot,y.currentSnapshot,this.rootContexts)})),function(i,n){return(0,sn.zg)(r=>{const{targetSnapshot:s,currentSnapshot:l,guards:{canActivateChecks:d,canDeactivateChecks:g}}=r;return 0===g.length&&0===d.length?(0,ze.of)(Object.assign(Object.assign({},r),{guardsResult:!0})):function(i,n,r,s){return(0,Jt.D)(i).pipe((0,sn.zg)(l=>function(i,n,r,s,l){const d=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!d||0===d.length)return(0,ze.of)(!0);const g=d.map(y=>{const E=tt(y,n,l);let I;if(function(i){return i&&As(i.canDeactivate)}(E))I=ar(E.canDeactivate(i,n,r,s));else{if(!As(E))throw new Error("Invalid CanDeactivate guard");I=ar(E(i,n,r,s))}return I.pipe(An())});return(0,ze.of)(g).pipe(Ca())}(l.component,l.route,r,n,s)),An(l=>!0!==l,!0))}(g,s,l,i).pipe((0,sn.zg)(y=>y&&function(i){return"boolean"==typeof i}(y)?function(i,n,r,s){return(0,Jt.D)(n).pipe(El(l=>No(function(i,n){return null!==i&&n&&n(new Xf(i)),(0,ze.of)(!0)}(l.route.parent,s),function(i,n){return null!==i&&n&&n(new Cm(i)),(0,ze.of)(!0)}(l.route,s),function(i,n,r){const s=n[n.length-1],d=n.slice(0,n.length-1).reverse().map(g=>function(i){const n=i.routeConfig?i.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:i,guards:n}:null}(g)).filter(g=>null!==g).map(g=>Cs(()=>{const y=g.guards.map(E=>{const I=tt(E,g.node,r);let S;if(function(i){return i&&As(i.canActivateChild)}(I))S=ar(I.canActivateChild(s,i));else{if(!As(I))throw new Error("Invalid CanActivateChild guard");S=ar(I(s,i))}return S.pipe(An())});return(0,ze.of)(y).pipe(Ca())}));return(0,ze.of)(d).pipe(Ca())}(i,l.path,r),function(i,n,r){const s=n.routeConfig?n.routeConfig.canActivate:null;if(!s||0===s.length)return(0,ze.of)(!0);const l=s.map(d=>Cs(()=>{const g=tt(d,n,r);let y;if(function(i){return i&&As(i.canActivate)}(g))y=ar(g.canActivate(n,i));else{if(!As(g))throw new Error("Invalid CanActivate guard");y=ar(g(n,i))}return y.pipe(An())}));return(0,ze.of)(l).pipe(Ca())}(i,l.route,r))),An(l=>!0!==l,!0))}(s,d,i,n):(0,ze.of)(y)),(0,ot.U)(y=>Object.assign(Object.assign({},r),{guardsResult:y})))})}(this.ngModule.injector,y=>this.triggerEvent(y)),(0,Gn.b)(y=>{if(Ss(y.guardsResult)){const I=np(`Redirecting to "${this.serializeUrl(y.guardsResult)}"`);throw I.url=y.guardsResult,I}const E=new Bu(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot,!!y.guardsResult);this.triggerEvent(E)}),gn(y=>!!y.guardsResult||(this.restoreHistory(y),this.cancelNavigationTransition(y,""),!1)),n0(y=>{if(y.guards.canActivateChecks.length)return(0,ze.of)(y).pipe((0,Gn.b)(E=>{const I=new Jf(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(I)}),On(E=>{let I=!1;return(0,ze.of)(E).pipe(function(i,n){return(0,sn.zg)(r=>{const{targetSnapshot:s,guards:{canActivateChecks:l}}=r;if(!l.length)return(0,ze.of)(r);let d=0;return(0,Jt.D)(l).pipe(El(g=>function(i,n,r,s){return function(i,n,r,s){const l=Object.keys(i);if(0===l.length)return(0,ze.of)({});const d={};return(0,Jt.D)(l).pipe((0,sn.zg)(g=>function(i,n,r,s){const l=tt(i,n,s);return ar(l.resolve?l.resolve(n,r):l(n,r))}(i[g],n,r,s).pipe((0,Gn.b)(y=>{d[g]=y}))),zf(1),(0,sn.zg)(()=>Object.keys(d).length===l.length?(0,ze.of)(d):os.E))}(i._resolve,i,n,s).pipe((0,ot.U)(d=>(i._resolvedData=d,i.data=Object.assign(Object.assign({},i.data),Rm(i,r).resolve),null)))}(g.route,s,i,n)),(0,Gn.b)(()=>d++),zf(1),(0,sn.zg)(g=>d===l.length?(0,ze.of)(r):os.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Gn.b)({next:()=>I=!0,complete:()=>{I||(this.restoreHistory(E),this.cancelNavigationTransition(E,"At least one route resolver didn't emit any value."))}}))}),(0,Gn.b)(E=>{const I=new Po(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(I)}))}),n0(y=>{const{targetSnapshot:E,id:I,extractedUrl:S,rawUrl:x,extras:{skipLocationChange:O,replaceUrl:V}}=y;return this.hooks.afterPreactivation(E,{navigationId:I,appliedUrlTree:S,rawUrlTree:x,skipLocationChange:!!O,replaceUrl:!!V})}),(0,ot.U)(y=>{const E=function(i,n,r){const s=Ku(i,n._root,r?r._root:void 0);return new lp(s,n)}(this.routeReuseStrategy,y.targetSnapshot,y.currentRouterState);return Object.assign(Object.assign({},y),{targetRouterState:E})}),(0,Gn.b)(y=>{this.currentUrlTree=y.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(y.urlAfterRedirects,y.rawUrl),this.routerState=y.targetRouterState,"deferred"===this.urlUpdateStrategy&&(y.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,y),this.browserUrlTree=y.urlAfterRedirects)}),((i,n,r)=>(0,ot.U)(s=>(new jd(n,s.targetRouterState,s.currentRouterState,r).activate(i),s)))(this.rootContexts,this.routeReuseStrategy,y=>this.triggerEvent(y)),(0,Gn.b)({next(){d=!0},complete(){d=!0}}),function(i){return n=>n.lift(new Wf(i))}(()=>{if(!d&&!g){const y=`Navigation ID ${l.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(l),this.cancelNavigationTransition(l,y)):this.cancelNavigationTransition(l,y)}this.currentNavigation=null}),wl(y=>{if(g=!0,function(i){return i&&i[xd]}(y)){const E=Ss(y.url);E||(this.navigated=!0,this.restoreHistory(l,!0));const I=new ga(l.id,this.serializeUrl(l.extractedUrl),y.message);s.next(I),E?setTimeout(()=>{const S=this.urlHandlingStrategy.merge(y.url,this.rawUrlTree),x={skipLocationChange:l.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Km(l.source)};this.scheduleNavigation(S,"imperative",null,x,{resolve:l.resolve,reject:l.reject,promise:l.promise})},0):l.resolve(!1)}else{this.restoreHistory(l,!0);const E=new Qf(l.id,this.serializeUrl(l.extractedUrl),y);s.next(E);try{l.resolve(this.errorHandler(y))}catch(I){l.reject(I)}}return os.E}))}))}resetRootComponentType(r){this.rootComponentType=r,this.routerState.root.component=this.rootComponentType}getTransition(){const r=this.transitions.value;return r.urlAfterRedirects=this.browserUrlTree,r}setTransition(r){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),r))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const s=this.extractLocationChangeInfoFromEvent(r);this.shouldScheduleNavigation(this.lastLocationChangeInfo,s)&&setTimeout(()=>{const{source:l,state:d,urlTree:g}=s,y={replaceUrl:!0};if(d){const E=Object.assign({},d);delete E.navigationId,delete E.\u0275routerPageId,0!==Object.keys(E).length&&(y.state=E)}this.scheduleNavigation(g,l,d,y)},0),this.lastLocationChangeInfo=s}))}extractLocationChangeInfoFromEvent(r){var s;return{source:"popstate"===r.type?"popstate":"hashchange",urlTree:this.parseUrl(r.url),state:(null===(s=r.state)||void 0===s?void 0:s.navigationId)?r.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(r,s){if(!r)return!0;const l=s.urlTree.toString()===r.urlTree.toString();return s.transitionId!==r.transitionId||!l||!("hashchange"===s.source&&"popstate"===r.source||"popstate"===s.source&&"hashchange"===r.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(r){this.events.next(r)}resetConfig(r){yi(r),this.config=r.map(gp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(r,s={}){const{relativeTo:l,queryParams:d,fragment:g,queryParamsHandling:y,preserveFragment:E}=s,I=l||this.routerState.root,S=E?this.currentUrlTree.fragment:g;let x=null;switch(y){case"merge":x=Object.assign(Object.assign({},this.currentUrlTree.queryParams),d);break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=d||null}return null!==x&&(x=this.removeEmptyProps(x)),function(i,n,r,s,l){if(0===r.length)return Fm(n.root,n.root,n,s,l);const d=function(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new dp(!0,0,i);let n=0,r=!1;const s=i.reduce((l,d,g)=>{if("object"==typeof d&&null!=d){if(d.outlets){const y={};return Pn(d.outlets,(E,I)=>{y[I]="string"==typeof E?E.split("/"):E}),[...l,{outlets:y}]}if(d.segmentPath)return[...l,d.segmentPath]}return"string"!=typeof d?[...l,d]:0===g?(d.split("/").forEach((y,E)=>{0==E&&"."===y||(0==E&&""===y?r=!0:".."===y?n++:""!=y&&l.push(y))}),l):[...l,d]},[]);return new dp(r,n,s)}(r);if(d.toRoot())return Fm(n.root,new It([],{}),n,s,l);const g=function(i,n,r){if(i.isAbsolute)return new hp(n.root,!0,0);if(-1===r.snapshot._lastPathIndex){const d=r.snapshot._urlSegment;return new hp(d,d===n.root,0)}const s=Nl(i.commands[0])?0:1;return function(i,n,r){let s=i,l=n,d=r;for(;d>l;){if(d-=l,s=s.parent,!s)throw new Error("Invalid number of '../'");l=s.segments.length}return new hp(s,!1,l-d)}(r.snapshot._urlSegment,r.snapshot._lastPathIndex+s,i.numberOfDoubleDots)}(d,n,i),y=g.processChildren?Qu(g.segmentGroup,g.index,d.commands):Uo(g.segmentGroup,g.index,d.commands);return Fm(g.segmentGroup,y,n,s,l)}(I,this.currentUrlTree,r,x,null!=S?S:null)}navigateByUrl(r,s={skipLocationChange:!1}){const l=Ss(r)?r:this.parseUrl(r),d=this.urlHandlingStrategy.merge(l,this.rawUrlTree);return this.scheduleNavigation(d,"imperative",null,s)}navigate(r,s={skipLocationChange:!1}){return function(i){for(let n=0;n<i.length;n++){const r=i[n];if(null==r)throw new Error(`The requested path contains ${r} segment at index ${n}`)}}(r),this.navigateByUrl(this.createUrlTree(r,s),s)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let s;try{s=this.urlSerializer.parse(r)}catch(l){s=this.malformedUriErrorHandler(l,this.urlSerializer,r)}return s}isActive(r,s){let l;if(l=!0===s?Object.assign({},SE):!1===s?Object.assign({},NE):s,Ss(r))return $u(this.currentUrlTree,r,l);const d=this.parseUrl(r);return $u(this.currentUrlTree,d,l)}removeEmptyProps(r){return Object.keys(r).reduce((s,l)=>{const d=r[l];return null!=d&&(s[l]=d),s},{})}processNavigations(){this.navigations.subscribe(r=>{this.navigated=!0,this.lastSuccessfulId=r.id,this.currentPageId=r.targetPageId,this.events.next(new pa(r.id,this.serializeUrl(r.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,r.resolve(!0)},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)})}scheduleNavigation(r,s,l,d,g){var y,E;if(this.disposed)return Promise.resolve(!1);const I=this.getTransition(),S=Km(s)&&I&&!Km(I.source),V=(this.lastSuccessfulId===I.id||this.currentNavigation?I.rawUrl:I.urlAfterRedirects).toString()===r.toString();if(S&&V)return Promise.resolve(!0);let q,te,me;g?(q=g.resolve,te=g.reject,me=g.promise):me=new Promise((je,He)=>{q=je,te=He});const Oe=++this.navigationId;let Pe;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(l=this.location.getState()),Pe=l&&l.\u0275routerPageId?l.\u0275routerPageId:d.replaceUrl||d.skipLocationChange?null!==(y=this.browserPageId)&&void 0!==y?y:0:(null!==(E=this.browserPageId)&&void 0!==E?E:0)+1):Pe=0,this.setTransition({id:Oe,targetPageId:Pe,source:s,restoredState:l,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:r,extras:d,resolve:q,reject:te,promise:me,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),me.catch(je=>Promise.reject(je))}setBrowserUrl(r,s){const l=this.urlSerializer.serialize(r),d=Object.assign(Object.assign({},s.extras.state),this.generateNgRouterState(s.id,s.targetPageId));this.location.isCurrentPathEqualTo(l)||s.extras.replaceUrl?this.location.replaceState(l,"",d):this.location.go(l,"",d)}restoreHistory(r,s=!1){var l,d;if("computed"===this.canceledNavigationResolution){const g=this.currentPageId-r.targetPageId;"popstate"!==r.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)||0===g?this.currentUrlTree===(null===(d=this.currentNavigation)||void 0===d?void 0:d.finalUrl)&&0===g&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(g)}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(r,s){const l=new ga(r.id,this.serializeUrl(r.extractedUrl),s);this.triggerEvent(l),r.resolve(!1)}generateNgRouterState(r,s){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:s}:{navigationId:r}}}return i.\u0275fac=function(r){return new(r||i)(u.LFG(u.DyG),u.LFG(ip),u.LFG(kl),u.LFG(at),u.LFG(u.zs3),u.LFG(u.v3s),u.LFG(u.Sil),u.LFG(void 0))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac}),i})();function Km(i){return"imperative"!==i}let bp=(()=>{class i{constructor(r,s,l){this.router=r,this.route=s,this.locationStrategy=l,this.commands=[],this.onChanges=new Zt.xQ,this.subscription=r.events.subscribe(d=>{d instanceof pa&&this.updateTargetUrlAndHref()})}set routerLink(r){this.commands=null!=r?Array.isArray(r)?r:[r]:[]}ngOnChanges(r){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(r,s,l,d,g){if(0!==r||s||l||d||g||"string"==typeof this.target&&"_self"!=this.target)return!0;const y={skipLocationChange:rc(this.skipLocationChange),replaceUrl:rc(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,y),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:rc(this.preserveFragment)})}}return i.\u0275fac=function(r){return new(r||i)(u.Y36(bi),u.Y36(Al),u.Y36(Ie))},i.\u0275dir=u.lG2({type:i,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(r,s){1&r&&u.NdJ("click",function(d){return s.onClick(d.button,d.ctrlKey,d.shiftKey,d.altKey,d.metaKey)}),2&r&&(u.Ikx("href",s.href,u.LSH),u.uIk("target",s.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[u.TTD]}),i})();function rc(i){return""===i||!!i}let Yd=(()=>{class i{constructor(r,s,l,d,g){this.parentContexts=r,this.location=s,this.resolver=l,this.changeDetector=g,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.name=d||bt,r.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const r=this.parentContexts.getContext(this.name);r&&r.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,r}attach(r,s){this.activated=r,this._activatedRoute=s,this.location.insert(r.hostView)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,s){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=r;const g=(s=s||this.resolver).resolveComponentFactory(r._futureSnapshot.routeConfig.component),y=this.parentContexts.getOrCreateContext(this.name).children,E=new Jm(r,y,this.location.injector);this.activated=this.location.createComponent(g,this.location.length,E),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(r){return new(r||i)(u.Y36(kl),u.Y36(u.s_b),u.Y36(u._Vd),u.$8M("name"),u.Y36(u.sBO))},i.\u0275dir=u.lG2({type:i,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),i})();class Jm{constructor(n,r,s){this.route=n,this.childContexts=r,this.parent=s}get(n,r){return n===Al?this.route:n===kl?this.childContexts:this.parent.get(n,r)}}class s0{}class a0{preload(n,r){return(0,ze.of)(null)}}let Xm=(()=>{class i{constructor(r,s,l,d,g){this.router=r,this.injector=d,this.preloadingStrategy=g,this.loader=new Wm(s,l,I=>r.triggerEvent(new wm(I)),I=>r.triggerEvent(new Em(I)))}setUpPreloading(){this.subscription=this.router.events.pipe(gn(r=>r instanceof pa),El(()=>this.preload())).subscribe(()=>{})}preload(){const r=this.injector.get(u.h0i);return this.processRoutes(r,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,s){const l=[];for(const d of s)if(d.loadChildren&&!d.canLoad&&d._loadedConfig){const g=d._loadedConfig;l.push(this.processRoutes(g.module,g.routes))}else d.loadChildren&&!d.canLoad?l.push(this.preloadConfig(r,d)):d.children&&l.push(this.processRoutes(r,d.children));return(0,Jt.D)(l).pipe((0,Ui.J)(),(0,ot.U)(d=>{}))}preloadConfig(r,s){return this.preloadingStrategy.preload(s,()=>(s._loadedConfig?(0,ze.of)(s._loadedConfig):this.loader.load(r.injector,s)).pipe((0,sn.zg)(d=>(s._loadedConfig=d,this.processRoutes(d.module,d.routes)))))}}return i.\u0275fac=function(r){return new(r||i)(u.LFG(bi),u.LFG(u.v3s),u.LFG(u.Sil),u.LFG(u.zs3),u.LFG(s0))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac}),i})(),ic=(()=>{class i{constructor(r,s,l={}){this.router=r,this.viewportScroller=s,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(r=>{r instanceof Kf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof pa&&(this.lastId=r.id,this.scheduleScrollEvent(r,this.router.parseUrl(r.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(r=>{r instanceof Fo&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,s){this.router.triggerEvent(new Fo(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return i.\u0275fac=function(r){return new(r||i)(u.LFG(bi),u.LFG(Nu),u.LFG(void 0))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac}),i})();const Pl=new u.OlP("ROUTER_CONFIGURATION"),xE=new u.OlP("ROUTER_FORROOT_GUARD"),RE=[at,{provide:ip,useClass:Il},{provide:bi,useFactory:function(i,n,r,s,l,d,g,y={},E,I){const S=new bi(null,i,n,r,s,l,d,Lv(g));return E&&(S.urlHandlingStrategy=E),I&&(S.routeReuseStrategy=I),function(i,n){i.errorHandler&&(n.errorHandler=i.errorHandler),i.malformedUriErrorHandler&&(n.malformedUriErrorHandler=i.malformedUriErrorHandler),i.onSameUrlNavigation&&(n.onSameUrlNavigation=i.onSameUrlNavigation),i.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=i.paramsInheritanceStrategy),i.relativeLinkResolution&&(n.relativeLinkResolution=i.relativeLinkResolution),i.urlUpdateStrategy&&(n.urlUpdateStrategy=i.urlUpdateStrategy)}(y,S),y.enableTracing&&S.events.subscribe(x=>{var O,V;null===(O=console.group)||void 0===O||O.call(console,`Router Event: ${x.constructor.name}`),console.log(x.toString()),console.log(x),null===(V=console.groupEnd)||void 0===V||V.call(console)}),S},deps:[ip,kl,at,u.zs3,u.v3s,u.Sil,zm,Pl,[class{},new u.FiY],[class{},new u.FiY]]},kl,{provide:Al,useFactory:function(i){return i.routerState.root},deps:[bi]},{provide:u.v3s,useClass:u.EAV},Xm,a0,class{preload(n,r){return r().pipe(wl(()=>(0,ze.of)(null)))}},{provide:Pl,useValue:{enableTracing:!1}}];function l0(){return new u.PXZ("Router",bi)}let u0=(()=>{class i{constructor(r,s){}static forRoot(r,s){return{ngModule:i,providers:[RE,c0(r),{provide:xE,useFactory:BA,deps:[[bi,new u.FiY,new u.tp0]]},{provide:Pl,useValue:s||{}},{provide:Ie,useFactory:kE,deps:[K,[new u.tBr(ye),new u.FiY],Pl]},{provide:ic,useFactory:FR,deps:[bi,Nu,Pl]},{provide:s0,useExisting:s&&s.preloadingStrategy?s.preloadingStrategy:a0},{provide:u.PXZ,multi:!0,useFactory:l0},[d0,{provide:u.ip1,multi:!0,useFactory:OE,deps:[d0]},{provide:PE,useFactory:HA,deps:[d0]},{provide:u.tb,multi:!0,useExisting:PE}]]}}static forChild(r){return{ngModule:i,providers:[c0(r)]}}}return i.\u0275fac=function(r){return new(r||i)(u.LFG(xE,8),u.LFG(bi,8))},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({}),i})();function FR(i,n,r){return r.scrollOffset&&n.setOffset(r.scrollOffset),new ic(i,n,r)}function kE(i,n,r={}){return r.useHash?new Be(i,n):new Le(i,n)}function BA(i){return"guarded"}function c0(i){return[{provide:u.deG,multi:!0,useValue:i},{provide:zm,multi:!0,useValue:i}]}let d0=(()=>{class i{constructor(r){this.injector=r,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Zt.xQ}appInitializer(){return this.injector.get(F,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let s=null;const l=new Promise(y=>s=y),d=this.injector.get(bi),g=this.injector.get(Pl);return"disabled"===g.initialNavigation?(d.setUpLocationChangeListener(),s(!0)):"enabled"===g.initialNavigation||"enabledBlocking"===g.initialNavigation?(d.hooks.afterPreactivation=()=>this.initNavigation?(0,ze.of)(null):(this.initNavigation=!0,s(!0),this.resultOfPreactivationDone),d.initialNavigation()):s(!0),l})}bootstrapListener(r){const s=this.injector.get(Pl),l=this.injector.get(Xm),d=this.injector.get(ic),g=this.injector.get(bi),y=this.injector.get(u.z2F);r===y.components[0]&&(("enabledNonBlocking"===s.initialNavigation||void 0===s.initialNavigation)&&g.initialNavigation(),l.setUpPreloading(),d.init(),g.resetRootComponentType(y.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return i.\u0275fac=function(r){return new(r||i)(u.LFG(u.zs3))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac}),i})();function OE(i){return i.appInitializer.bind(i)}function HA(i){return i.bootstrapListener.bind(i)}const PE=new u.OlP("Router Initializer"),wp="actores";var ge=L(8239);const h0="peliculas";var gt=L(3637),hn=L(9126);function e_(){return i=>i.lift(new t_)}class t_{call(n,r){return r.subscribe(new ro(n))}}class ro extends Dr.L{constructor(n){super(n),this.hasPrev=!1}_next(n){let r;this.hasPrev?r=[this.prev,n]:this.hasPrev=!0,this.prev=n,r&&this.destination.next(r)}}class qA{constructor(n,r){this.compare=n,this.keySelector=r}call(n,r){return r.subscribe(new f0(n,this.compare,this.keySelector))}}class f0 extends Dr.L{constructor(n,r,s){super(n),this.keySelector=s,this.hasKey=!1,"function"==typeof r&&(this.compare=r)}compare(n,r){return n===r}_next(n){let r;try{const{keySelector:l}=this;r=l?l(n):n}catch(l){return this.destination.error(l)}let s=!1;if(this.hasKey)try{const{compare:l}=this;s=l(this.key,r)}catch(l){return this.destination.error(l)}else this.hasKey=!0;s||(this.key=r,this.destination.next(n))}}var $e,Kn=L(8939),p0=(L(5128),L(4486)),Fl=L(5452),g0=L(6034),Ll=L(5601),At=L(3854),Na="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ms={},Cp=Cp||{},Et=Na||self;function n_(){}function r_(i){var n=typeof i;return"array"==(n="object"!=n?n:i?Array.isArray(i)?"array":n:"null")||"object"==n&&"number"==typeof i.length}function i_(i){var n=typeof i;return"object"==n&&null!=i||"function"==n}var VE="closure_uid_"+(1e9*Math.random()>>>0),UE=0;function BE(i,n,r){return i.call.apply(i.bind,arguments)}function zA(i,n,r){if(!i)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,s),i.apply(n,l)}}return function(){return i.apply(n,arguments)}}function cr(i,n,r){return(cr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?BE:zA).apply(null,arguments)}function m0(i,n){var r=Array.prototype.slice.call(arguments,1);return function(){var s=r.slice();return s.push.apply(s,arguments),i.apply(this,s)}}function Xr(i,n){function r(){}r.prototype=n.prototype,i.Z=n.prototype,i.prototype=new r,i.prototype.constructor=i,i.Vb=function(s,l,d){for(var g=Array(arguments.length-2),y=2;y<arguments.length;y++)g[y-2]=arguments[y];return n.prototype[l].apply(s,g)}}function sc(){this.s=this.s,this.o=this.o}var UR={};sc.prototype.s=!1,sc.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function(i){return Object.prototype.hasOwnProperty.call(i,VE)&&i[VE]||(i[VE]=++UE)}(this);delete UR[i]}},sc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const WA=Array.prototype.indexOf?function(i,n){return Array.prototype.indexOf.call(i,n,void 0)}:function(i,n){if("string"==typeof i)return"string"!=typeof n||1!=n.length?-1:i.indexOf(n,0);for(let r=0;r<i.length;r++)if(r in i&&i[r]===n)return r;return-1},YA=Array.prototype.forEach?function(i,n,r){Array.prototype.forEach.call(i,n,r)}:function(i,n,r){const s=i.length,l="string"==typeof i?i.split(""):i;for(let d=0;d<s;d++)d in l&&n.call(r,l[d],d,i)};function KA(i){return Array.prototype.concat.apply([],arguments)}function jE(i){const n=i.length;if(0<n){const r=Array(n);for(let s=0;s<n;s++)r[s]=i[s];return r}return[]}function _0(i){return/^[\s\xa0]*$/.test(i)}var ei,Ma=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Vr(i,n){return-1!=i.indexOf(n)}function y0(i,n){return i<n?-1:i>n?1:0}e:{var s_=Et.navigator;if(s_){var v0=s_.userAgent;if(v0){ei=v0;break e}}ei=""}function Dp(i,n,r){for(const s in i)n.call(r,i[s],s,i)}function $E(i){const n={};for(const r in i)n[r]=i[r];return n}var xa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b0(i,n){let r,s;for(let l=1;l<arguments.length;l++){for(r in s=arguments[l],s)i[r]=s[r];for(let d=0;d<xa.length;d++)r=xa[d],Object.prototype.hasOwnProperty.call(s,r)&&(i[r]=s[r])}}function w0(i){return w0[" "](i),i}w0[" "]=n_;var Qd,i,E0=Vr(ei,"Opera"),Kd=Vr(ei,"Trident")||Vr(ei,"MSIE"),C0=Vr(ei,"Edge"),D0=C0||Kd,HE=Vr(ei,"Gecko")&&!(Vr(ei.toLowerCase(),"webkit")&&!Vr(ei,"Edge"))&&!(Vr(ei,"Trident")||Vr(ei,"MSIE"))&&!Vr(ei,"Edge"),Tp=Vr(ei.toLowerCase(),"webkit")&&!Vr(ei,"Edge");function oc(){var i=Et.document;return i?i.documentMode:void 0}e:{var Vl="",ac=(i=ei,HE?/rv:([^\);]+)(\)|;)/.exec(i):C0?/Edge\/([\d\.]+)/.exec(i):Kd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Tp?/WebKit\/(\S+)/.exec(i):E0?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(ac&&(Vl=ac?ac[1]:""),Kd){var Ul=oc();if(null!=Ul&&Ul>parseFloat(Vl)){Qd=String(Ul);break e}}Qd=Vl}var QA={};function GE(){return n=QA,Object.prototype.hasOwnProperty.call(n,9)?n[9]:n[9]=function(){let i=0;const n=Ma(String(Qd)).split("."),r=Ma("9").split("."),s=Math.max(n.length,r.length);for(let g=0;0==i&&g<s;g++){var l=n[g]||"",d=r[g]||"";do{if(l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],0==l[0].length&&0==d[0].length)break;i=y0(0==l[1].length?0:parseInt(l[1],10),0==d[1].length?0:parseInt(d[1],10))||y0(0==l[2].length,0==d[2].length)||y0(l[2],d[2]),l=l[3],d=d[3]}while(0==i)}return 0<=i}();var n}var T0=Et.document&&Kd&&(oc()||parseInt(Qd,10))||void 0,qE=function(){if(!Et.addEventListener||!Object.defineProperty)return!1;var i=!1,n=Object.defineProperty({},"passive",{get:function(){i=!0}});try{Et.addEventListener("test",n_,n),Et.removeEventListener("test",n_,n)}catch(r){}return i}();function dr(i,n){this.type=i,this.g=this.target=n,this.defaultPrevented=!1}function Ip(i,n){if(dr.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var r=this.type=i.type,s=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=n,n=i.relatedTarget){if(HE){e:{try{w0(n.nodeName);var l=!0;break e}catch(d){}l=!1}l||(n=null)}}else"mouseover"==r?n=i.fromElement:"mouseout"==r&&(n=i.toElement);this.relatedTarget=n,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:ZE[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Ip.Z.h.call(this)}}dr.prototype.h=function(){this.defaultPrevented=!0},Xr(Ip,dr);var ZE={2:"touch",3:"pen",4:"mouse"};Ip.prototype.h=function(){Ip.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var l_="closure_listenable_"+(1e6*Math.random()|0),zE=0;function WE(i,n,r,s,l){this.listener=i,this.proxy=null,this.src=n,this.type=r,this.capture=!!s,this.ia=l,this.key=++zE,this.ca=this.fa=!1}function u_(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function Ap(i){this.src=i,this.g={},this.h=0}function I0(i,n){var r=n.type;if(r in i.g){var d,s=i.g[r],l=WA(s,n);(d=0<=l)&&Array.prototype.splice.call(s,l,1),d&&(u_(n),0==i.g[r].length&&(delete i.g[r],i.h--))}}function A0(i,n,r,s){for(var l=0;l<i.length;++l){var d=i[l];if(!d.ca&&d.listener==n&&d.capture==!!r&&d.ia==s)return l}return-1}Ap.prototype.add=function(i,n,r,s,l){var d=i.toString();(i=this.g[d])||(i=this.g[d]=[],this.h++);var g=A0(i,n,s,l);return-1<g?(n=i[g],r||(n.fa=!1)):((n=new WE(n,this.src,d,!!s,l)).fa=r,i.push(n)),n};var wi="closure_lm_"+(1e6*Math.random()|0),S0={};function YE(i,n,r,s,l){if(s&&s.once)return N0(i,n,r,s,l);if(Array.isArray(n)){for(var d=0;d<n.length;d++)YE(i,n[d],r,s,l);return null}return r=k0(r),i&&i[l_]?i.N(n,r,i_(s)?!!s.capture:!!s,l):JA(i,n,r,!1,s,l)}function JA(i,n,r,s,l,d){if(!n)throw Error("Invalid event type");var g=i_(l)?!!l.capture:!!l,y=x0(i);if(y||(i[wi]=y=new Ap(i)),(r=y.add(n,r,s,g,d)).proxy)return r;if(s=function(){var n=KE;return function i(r){return n.call(i.src,i.listener,r)}}(),r.proxy=s,s.src=i,s.listener=r,i.addEventListener)qE||(l=g),void 0===l&&(l=!1),i.addEventListener(n.toString(),s,l);else if(i.attachEvent)i.attachEvent(c_(n.toString()),s);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(s)}return r}function N0(i,n,r,s,l){if(Array.isArray(n)){for(var d=0;d<n.length;d++)N0(i,n[d],r,s,l);return null}return r=k0(r),i&&i[l_]?i.O(n,r,i_(s)?!!s.capture:!!s,l):JA(i,n,r,!0,s,l)}function XA(i,n,r,s,l){if(Array.isArray(n))for(var d=0;d<n.length;d++)XA(i,n[d],r,s,l);else s=i_(s)?!!s.capture:!!s,r=k0(r),i&&i[l_]?(i=i.i,(n=String(n).toString())in i.g&&-1<(r=A0(d=i.g[n],r,s,l))&&(u_(d[r]),Array.prototype.splice.call(d,r,1),0==d.length&&(delete i.g[n],i.h--))):i&&(i=x0(i))&&(n=i.g[n.toString()],i=-1,n&&(i=A0(n,r,s,l)),(r=-1<i?n[i]:null)&&M0(r))}function M0(i){if("number"!=typeof i&&i&&!i.ca){var n=i.src;if(n&&n[l_])I0(n.i,i);else{var r=i.type,s=i.proxy;n.removeEventListener?n.removeEventListener(r,s,i.capture):n.detachEvent?n.detachEvent(c_(r),s):n.addListener&&n.removeListener&&n.removeListener(s),(r=x0(n))?(I0(r,i),0==r.h&&(r.src=null,n[wi]=null)):u_(i)}}}function c_(i){return i in S0?S0[i]:S0[i]="on"+i}function KE(i,n){if(i.ca)i=!0;else{n=new Ip(n,this);var r=i.listener,s=i.ia||i.src;i.fa&&M0(i),i=r.call(s,n)}return i}function x0(i){return(i=i[wi])instanceof Ap?i:null}var R0="__closure_events_fn_"+(1e9*Math.random()>>>0);function k0(i){return"function"==typeof i?i:(i[R0]||(i[R0]=function(n){return i.handleEvent(n)}),i[R0])}function hr(){sc.call(this),this.i=new Ap(this),this.P=this,this.I=null}function Ur(i,n){var r,s=i.I;if(s)for(r=[];s;s=s.I)r.push(s);if(i=i.P,s=n.type||n,"string"==typeof n)n=new dr(n,i);else if(n instanceof dr)n.target=n.target||i;else{var l=n;b0(n=new dr(s,i),l)}if(l=!0,r)for(var d=r.length-1;0<=d;d--){var g=n.g=r[d];l=Sp(g,s,!0,n)&&l}if(l=Sp(g=n.g=i,s,!0,n)&&l,l=Sp(g,s,!1,n)&&l,r)for(d=0;d<r.length;d++)l=Sp(g=n.g=r[d],s,!1,n)&&l}function Sp(i,n,r,s){if(!(n=i.i.g[String(n)]))return!0;n=n.concat();for(var l=!0,d=0;d<n.length;++d){var g=n[d];if(g&&!g.ca&&g.capture==r){var y=g.listener,E=g.ia||g.src;g.fa&&I0(i.i,g),l=!1!==y.call(E,s)&&l}}return l&&!s.defaultPrevented}Xr(hr,sc),hr.prototype[l_]=!0,hr.prototype.removeEventListener=function(i,n,r,s){XA(this,i,n,r,s)},hr.prototype.M=function(){if(hr.Z.M.call(this),this.i){var n,i=this.i;for(n in i.g){for(var r=i.g[n],s=0;s<r.length;s++)u_(r[s]);delete i.g[n],i.h--}}this.I=null},hr.prototype.N=function(i,n,r,s){return this.i.add(String(i),n,!1,r,s)},hr.prototype.O=function(i,n,r,s){return this.i.add(String(i),n,!0,r,s)};var O0=Et.JSON.stringify;function eS(){var i=L0;let n=null;return i.g&&(n=i.g,i.g=i.g.next,i.g||(i.h=null),n.next=null),n}var F0,P0=new class{constructor(i,n){this.i=i,this.j=n,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new tS,i=>i.reset());class tS{constructor(){this.next=this.g=this.h=null}set(n,r){this.h=n,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}function Bo(i){Et.setTimeout(()=>{throw i},0)}function Np(i,n){F0||function(){var i=Et.Promise.resolve(void 0);F0=function(){i.then(rS)}}(),JE||(F0(),JE=!0),L0.add(i,n)}var JE=!1,L0=new class{constructor(){this.h=this.g=null}add(n,r){const s=P0.get();s.set(n,r),this.h?this.h.next=s:this.g=s,this.h=s}};function rS(){for(var i;i=eS();){try{i.h.call(i.g)}catch(r){Bo(r)}var n=P0;n.j(i),100>n.h&&(n.h++,i.next=n.g,n.g=i)}JE=!1}function d_(i,n){hr.call(this),this.h=i||1,this.g=n||Et,this.j=cr(this.kb,this),this.l=Date.now()}function V0(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function Mp(i,n,r){if("function"==typeof i)r&&(i=cr(i,r));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=cr(i.handleEvent,i)}return 2147483647<Number(n)?-1:Et.setTimeout(i,n||0)}function XE(i){i.g=Mp(()=>{i.g=null,i.i&&(i.i=!1,XE(i))},i.j);const n=i.h;i.h=null,i.m.apply(null,n)}Xr(d_,hr),($e=d_.prototype).da=!1,$e.S=null,$e.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ur(this,"tick"),this.da&&(V0(this),this.start()))}},$e.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},$e.M=function(){d_.Z.M.call(this),V0(this),delete this.g};class iS extends sc{constructor(n,r){super(),this.m=n,this.j=r,this.h=null,this.i=!1,this.g=null}l(n){this.h=arguments,this.g?this.i=!0:XE(this)}M(){super.M(),this.g&&(Et.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bl(i){sc.call(this),this.h=i,this.g={}}Xr(Bl,sc);var h_=[];function eC(i,n,r,s){Array.isArray(r)||(r&&(h_[0]=r.toString()),r=h_);for(var l=0;l<r.length;l++){var d=YE(n,r[l],s||i.handleEvent,!1,i.h||i);if(!d)break;i.g[d.key]=d}}function f_(i){Dp(i.g,function(n,r){this.g.hasOwnProperty(r)&&M0(n)},i),i.g={}}function Jd(){this.g=!0}function Xd(i,n,r,s){i.info(function(){return"XMLHTTP TEXT ("+n+"): "+function(i,n){if(!i.g)return n;if(!n)return null;try{var r=JSON.parse(n);if(r)for(i=0;i<r.length;i++)if(Array.isArray(r[i])){var s=r[i];if(!(2>s.length)){var l=s[1];if(Array.isArray(l)&&!(1>l.length)){var d=l[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var g=1;g<l.length;g++)l[g]=""}}}return O0(r)}catch(y){return n}}(i,r)+(s?" "+s:"")})}Bl.prototype.M=function(){Bl.Z.M.call(this),f_(this)},Bl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Jd.prototype.Aa=function(){this.g=!1},Jd.prototype.info=function(){};var lc={},B0=null;function xp(){return B0=B0||new hr}function j0(i){dr.call(this,lc.Ma,i)}function eh(i){const n=xp();Ur(n,new j0(n,i))}function $0(i,n){dr.call(this,lc.STAT_EVENT,i),this.stat=n}function Sn(i){const n=xp();Ur(n,new $0(n,i))}function Rp(i,n){dr.call(this,lc.Na,i),this.size=n}function kp(i,n){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Et.setTimeout(function(){i()},n)}lc.Ma="serverreachability",Xr(j0,dr),lc.STAT_EVENT="statevent",Xr($0,dr),lc.Na="timingevent",Xr(Rp,dr);var p_={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},oS={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function jl(){}function th(){}jl.prototype.h=null;var g_,Ra={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function G0(){dr.call(this,"d")}function Op(){dr.call(this,"c")}function m_(){}function nh(i,n,r,s){this.l=i,this.j=n,this.m=r,this.X=s||1,this.V=new Bl(this),this.P=q0,this.W=new d_(i=D0?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new nC}function nC(){this.i=null,this.g="",this.h=!1}Xr(G0,dr),Xr(Op,dr),Xr(m_,jl),m_.prototype.g=function(){return new XMLHttpRequest},m_.prototype.i=function(){return{}},g_=new m_;var q0=45e3,Z0={},__={};function y_(i,n,r){i.K=1,i.v=Vp($l(n)),i.s=r,i.U=!0,uc(i,null)}function uc(i,n){i.F=Date.now(),jo(i),i.A=$l(i.v);var r=i.A,s=i.X;Array.isArray(s)||(s=[String(s)]),J0(r.h,"t",s),i.C=0,r=i.l.H,i.h=new nC,i.g=lb(i.l,r?n:null,!i.s),0<i.O&&(i.L=new iS(cr(i.Ia,i,i.g),i.O)),eC(i.V,i.g,"readystatechange",i.gb),n=i.H?$E(i.H):{},i.s?(i.u||(i.u="POST"),n["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,n)):(i.u="GET",i.g.ea(i.A,i.u,null,n)),eh(1),function(i,n,r,s,l,d){i.info(function(){if(i.g)if(d)for(var g="",y=d.split("&"),E=0;E<y.length;E++){var I=y[E].split("=");if(1<I.length){var S=I[0];I=I[1];var x=S.split("_");g=2<=x.length&&"type"==x[1]?g+(S+"=")+I+"&":g+(S+"=redacted&")}}else g=null;else g=d;return"XMLHTTP REQ ("+s+") [attempt "+l+"]: "+n+"\n"+r+"\n"+g})}(i.j,i.u,i.A,i.m,i.X,i.s)}function z0(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function rC(i,n,r){let l,s=!0;for(;!i.I&&i.C<r.length;){if(l=aS(i,r),l==__){4==n&&(i.o=4,Sn(14),s=!1),Xd(i.j,i.m,null,"[Incomplete Response]");break}if(l==Z0){i.o=4,Sn(15),Xd(i.j,i.m,r,"[Invalid Chunk]"),s=!1;break}Xd(i.j,i.m,l,null),sC(i,l)}z0(i)&&l!=__&&l!=Z0&&(i.h.g="",i.C=0),4!=n||0!=r.length||i.h.h||(i.o=1,Sn(16),s=!1),i.i=i.i&&s,s?0<r.length&&!i.aa&&(i.aa=!0,(n=i.l).g==i&&n.$&&!n.L&&(n.h.info("Great, no buffering proxy detected. Bytes received: "+r.length),Wl(n),n.L=!0,Sn(11))):(Xd(i.j,i.m,r,"[Invalid Chunked Response]"),cc(i),Pp(i))}function aS(i,n){var r=i.C,s=n.indexOf("\n",r);return-1==s?__:(r=Number(n.substring(r,s)),isNaN(r)?Z0:(s+=1)+r>n.length?__:(n=n.substr(s,r),i.C=s+r,n))}function jo(i){i.Y=Date.now()+i.P,iC(i,i.P)}function iC(i,n){if(null!=i.B)throw Error("WatchDog timer not null");i.B=kp(cr(i.eb,i),n)}function v_(i){i.B&&(Et.clearTimeout(i.B),i.B=null)}function Pp(i){0==i.l.G||i.I||ib(i.l,i)}function cc(i){v_(i);var n=i.L;n&&"function"==typeof n.na&&n.na(),i.L=null,V0(i.W),f_(i.V),i.g&&(n=i.g,i.g=null,n.abort(),n.na())}function sC(i,n){try{var r=i.l;if(0!=r.G&&(r.g==i||C_(r.i,i)))if(r.I=i.N,!i.J&&C_(r.i,i)&&3==r.G){try{var s=r.Ca.g.parse(n)}catch(I){s=null}if(Array.isArray(s)&&3==s.length){var l=s;if(0==l[0])e:if(r.u)r.ta=l[1],0<r.ta-r.U&&37500>l[2]&&r.N&&0==r.A&&!r.v&&(r.v=kp(cr(r.ab,r),6e3));else{if(r.g){if(!(r.g.F+3e3<i.F))break e;Hp(r),Ei(r)}zl(r),Sn(18)}if(1>=eb(r.i)&&r.ka){try{r.ka()}catch(I){}r.ka=void 0}}else Yl(r,11)}else if((i.J||r.g==i)&&Hp(r),!_0(n))for(l=r.Ca.g.parse(n),n=0;n<l.length;n++){let I=l[n];if(r.U=I[0],I=I[1],2==r.G)if("c"==I[0]){r.J=I[1],r.la=I[2];const S=I[3];null!=S&&(r.ma=S,r.h.info("VER="+r.ma));const x=I[4];null!=x&&(r.za=x,r.h.info("SVER="+r.za));const O=I[5];null!=O&&"number"==typeof O&&0<O&&(r.K=s=1.5*O,r.h.info("backChannelRequestTimeoutMs_="+s)),s=r;const V=i.g;if(V){const q=V.g?V.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(q){var d=s.i;!d.g&&(Vr(q,"spdy")||Vr(q,"quic")||Vr(q,"h2"))&&(d.j=d.l,d.g=new Set,d.h&&(cC(d,d.h),d.h=null))}if(s.D){const te=V.g?V.g.getResponseHeader("X-HTTP-Session-Id"):null;te&&(s.sa=te,mn(s.F,s.D,te))}}r.G=3,r.j&&r.j.xa(),r.$&&(r.O=Date.now()-i.F,r.h.info("Handshake RTT: "+r.O+"ms"));var g=i;if((s=r).oa=ab(s,s.H?s.la:null,s.W),g.J){xs(s.i,g);var y=g,E=s.K;E&&y.setTimeout(E),y.B&&(v_(y),jo(y)),s.g=g}else _c(s);0<r.l.length&&Fa(r)}else"stop"!=I[0]&&"close"!=I[0]||Yl(r,7);else 3==r.G&&("stop"==I[0]||"close"==I[0]?"stop"==I[0]?Yl(r,7):sh(r):"noop"!=I[0]&&r.j&&r.j.wa(I),r.A=0)}eh(4)}catch(I){}}function b_(i,n){if(i.forEach&&"function"==typeof i.forEach)i.forEach(n,void 0);else if(r_(i)||"string"==typeof i)YA(i,n,void 0);else{if(i.T&&"function"==typeof i.T)var r=i.T();else if(i.R&&"function"==typeof i.R)r=void 0;else if(r_(i)||"string"==typeof i){r=[];for(var s=i.length,l=0;l<s;l++)r.push(l)}else for(l in r=[],s=0,i)r[s++]=l;l=(s=function(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(r_(i)){for(var n=[],r=i.length,s=0;s<r;s++)n.push(i[s]);return n}for(s in n=[],r=0,i)n[r++]=i[s];return n}(i)).length;for(var d=0;d<l;d++)n.call(void 0,s[d],r&&r[d],i)}}function Xt(i,n){this.h={},this.g=[],this.i=0;var r=arguments.length;if(1<r){if(r%2)throw Error("Uneven number of arguments");for(var s=0;s<r;s+=2)this.set(arguments[s],arguments[s+1])}else if(i)if(i instanceof Xt)for(r=i.T(),s=0;s<r.length;s++)this.set(r[s],i.get(r[s]));else for(s in i)this.set(s,i[s])}function Fp(i){if(i.i!=i.g.length){for(var n=0,r=0;n<i.g.length;){var s=i.g[n];rh(i.h,s)&&(i.g[r++]=s),n++}i.g.length=r}if(i.i!=i.g.length){var l={};for(r=n=0;n<i.g.length;)rh(l,s=i.g[n])||(i.g[r++]=s,l[s]=1),n++;i.g.length=r}}function rh(i,n){return Object.prototype.hasOwnProperty.call(i,n)}($e=nh.prototype).setTimeout=function(i){this.P=i},$e.gb=function(i){i=i.target;const n=this.L;n&&3==Pa(i)?n.l():this.Ia(i)},$e.Ia=function(i){try{if(i==this.g)e:{const S=Pa(this.g);var n=this.g.Da();const x=this.g.ba();if(!(3>S)&&(3!=S||D0||this.g&&(this.h.h||this.g.ga()||A_(this.g)))){this.I||4!=S||7==n||eh(8==n||0>=x?3:2),v_(this);var r=this.g.ba();this.N=r;t:if(z0(this)){var s=A_(this.g);i="";var l=s.length,d=4==Pa(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){cc(this),Pp(this);var g="";break t}this.h.i=new Et.TextDecoder}for(n=0;n<l;n++)this.h.h=!0,i+=this.h.i.decode(s[n],{stream:d&&n==l-1});s.splice(0,l),this.h.g+=i,this.C=0,g=this.h.g}else g=this.g.ga();if(this.i=200==r,function(i,n,r,s,l,d,g){i.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+l+"]: "+n+"\n"+r+"\n"+d+" "+g})}(this.j,this.u,this.A,this.m,this.X,S,r),this.i){if(this.$&&!this.J){t:{if(this.g){var y,E=this.g;if((y=E.g?E.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_0(y)){var I=y;break t}}I=null}if(!(r=I)){this.i=!1,this.o=3,Sn(12),cc(this),Pp(this);break e}Xd(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,sC(this,r)}this.U?(rC(this,S,g),D0&&this.i&&3==S&&(eC(this.V,this.W,"tick",this.fb),this.W.start())):(Xd(this.j,this.m,g,null),sC(this,g)),4==S&&cc(this),this.i&&!this.I&&(4==S?ib(this.l,this):(this.i=!1,jo(this)))}else 400==r&&0<g.indexOf("Unknown SID")?(this.o=3,Sn(12)):(this.o=0,Sn(13)),cc(this),Pp(this)}}}catch(S){}},$e.fb=function(){if(this.g){var i=Pa(this.g),n=this.g.ga();this.C<n.length&&(v_(this),rC(this,i,n),this.i&&4!=i&&jo(this))}},$e.cancel=function(){this.I=!0,cc(this)},$e.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function(i,n){i.info(function(){return"TIMEOUT: "+n})}(this.j,this.A),2!=this.K&&(eh(3),Sn(17)),cc(this),this.o=2,Pp(this)):iC(this,this.Y-i)},($e=Xt.prototype).R=function(){Fp(this);for(var i=[],n=0;n<this.g.length;n++)i.push(this.h[this.g[n]]);return i},$e.T=function(){return Fp(this),this.g.concat()},$e.get=function(i,n){return rh(this.h,i)?this.h[i]:n},$e.set=function(i,n){rh(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=n},$e.forEach=function(i,n){for(var r=this.T(),s=0;s<r.length;s++){var l=r[s],d=this.get(l);i.call(n,d,l,this)}};var $o=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ka(i,n){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof ka){this.g=void 0!==n?n:i.g,w_(this,i.j),this.s=i.s,E_(this,i.i),Lp(this,i.m),this.l=i.l,n=i.h;var r=new Up;r.i=n.i,n.g&&(r.g=new Xt(n.g),r.h=n.h),Y0(this,r),this.o=i.o}else i&&(r=String(i).match($o))?(this.g=!!n,w_(this,r[1]||"",!0),this.s=Oa(r[2]||""),E_(this,r[3]||"",!0),Lp(this,r[4]),this.l=Oa(r[5]||"",!0),Y0(this,r[6]||"",!0),this.o=Oa(r[7]||"")):(this.g=!!n,this.h=new Up(null,this.g))}function $l(i){return new ka(i)}function w_(i,n,r){i.j=r?Oa(n,!0):n,i.j&&(i.j=i.j.replace(/:$/,""))}function E_(i,n,r){i.i=r?Oa(n,!0):n}function Lp(i,n){if(n){if(n=Number(n),isNaN(n)||0>n)throw Error("Bad port number "+n);i.m=n}else i.m=null}function Y0(i,n,r){n instanceof Up?(i.h=n,function(i,n){n&&!i.j&&(Hl(i),i.i=null,i.g.forEach(function(r,s){var l=s.toLowerCase();s!=l&&(Q0(this,s),J0(this,l,r))},i)),i.j=n}(i.h,i.g)):(r||(n=dc(n,dS)),i.h=new Up(n,i.g))}function mn(i,n,r){i.h.set(n,r)}function Vp(i){return mn(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Oa(i,n){return i?n?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function dc(i,n,r){return"string"==typeof i?(i=encodeURI(i).replace(n,oC),r&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function oC(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}ka.prototype.toString=function(){var i=[],n=this.j;n&&i.push(dc(n,K0,!0),":");var r=this.i;return(r||"file"==n)&&(i.push("//"),(n=this.s)&&i.push(dc(n,K0,!0),"@"),i.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.m)&&i.push(":",String(r))),(r=this.l)&&(this.i&&"/"!=r.charAt(0)&&i.push("/"),i.push(dc(r,"/"==r.charAt(0)?lC:aC,!0))),(r=this.h.toString())&&i.push("?",r),(r=this.o)&&i.push("#",dc(r,hS)),i.join("")};var K0=/[#\/\?@]/g,aC=/[#\?:]/g,lC=/[#\?]/g,dS=/[#\?@]/g,hS=/#/g;function Up(i,n){this.h=this.g=null,this.i=i||null,this.j=!!n}function Hl(i){i.g||(i.g=new Xt,i.h=0,i.i&&function(i,n){if(i){i=i.split("&");for(var r=0;r<i.length;r++){var s=i[r].indexOf("="),l=null;if(0<=s){var d=i[r].substring(0,s);l=i[r].substring(s+1)}else d=i[r];n(d,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(i.i,function(n,r){i.add(decodeURIComponent(n.replace(/\+/g," ")),r)}))}function Q0(i,n){Hl(i),n=ih(i,n),rh(i.g.h,n)&&(i.i=null,i.h-=i.g.get(n).length,rh((i=i.g).h,n)&&(delete i.h[n],i.i--,i.g.length>2*i.i&&Fp(i)))}function fS(i,n){return Hl(i),n=ih(i,n),rh(i.g.h,n)}function J0(i,n,r){Q0(i,n),0<r.length&&(i.i=null,i.g.set(ih(i,n),jE(r)),i.h+=r.length)}function ih(i,n){return n=String(n),i.j&&(n=n.toLowerCase()),n}function gS(i){this.l=i||X0,i=Et.PerformanceNavigationTiming?0<(i=Et.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Et.g&&Et.g.Ea&&Et.g.Ea()&&Et.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}($e=Up.prototype).add=function(i,n){Hl(this),this.i=null,i=ih(this,i);var r=this.g.get(i);return r||this.g.set(i,r=[]),r.push(n),this.h+=1,this},$e.forEach=function(i,n){Hl(this),this.g.forEach(function(r,s){YA(r,function(l){i.call(n,l,s,this)},this)},this)},$e.T=function(){Hl(this);for(var i=this.g.R(),n=this.g.T(),r=[],s=0;s<n.length;s++)for(var l=i[s],d=0;d<l.length;d++)r.push(n[s]);return r},$e.R=function(i){Hl(this);var n=[];if("string"==typeof i)fS(this,i)&&(n=KA(n,this.g.get(ih(this,i))));else{i=this.g.R();for(var r=0;r<i.length;r++)n=KA(n,i[r])}return n},$e.set=function(i,n){return Hl(this),this.i=null,fS(this,i=ih(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[n]),this.h+=1,this},$e.get=function(i,n){return i&&0<(i=this.R(i)).length?String(i[0]):n},$e.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],n=this.g.T(),r=0;r<n.length;r++){var s=n[r],l=encodeURIComponent(String(s));s=this.R(s);for(var d=0;d<s.length;d++){var g=l;""!==s[d]&&(g+="="+encodeURIComponent(String(s[d]))),i.push(g)}}return this.i=i.join("&")};var X0=10;function uC(i){return!!i.h||!!i.g&&i.g.size>=i.j}function eb(i){return i.h?1:i.g?i.g.size:0}function C_(i,n){return i.h?i.h==n:!!i.g&&i.g.has(n)}function cC(i,n){i.g?i.g.add(n):i.h=n}function xs(i,n){i.h&&i.h==n?i.h=null:i.g&&i.g.has(n)&&i.g.delete(n)}function mS(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let n=i.i;for(const r of i.g.values())n=n.concat(r.D);return n}return jE(i.i)}function dC(){}function qR(){this.g=new dC}function hC(i,n,r){const s=r||"";try{b_(i,function(l,d){let g=l;i_(l)&&(g=O0(l)),n.push(s+d+"="+encodeURIComponent(g))})}catch(l){throw n.push(s+"type="+encodeURIComponent("_badmap")),l}}function Bp(i,n,r,s,l){try{n.onload=null,n.onerror=null,n.onabort=null,n.ontimeout=null,l(s)}catch(d){}}function jp(i){this.l=i.$b||null,this.j=i.ib||!1}function tb(i,n){hr.call(this),this.D=i,this.u=n,this.m=void 0,this.readyState=D_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}gS.prototype.cancel=function(){if(this.i=mS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},dC.prototype.stringify=function(i){return Et.JSON.stringify(i,void 0)},dC.prototype.parse=function(i){return Et.JSON.parse(i,void 0)},Xr(jp,jl),jp.prototype.g=function(){return new tb(this.l,this.j)},jp.prototype.i=function(i){return function(){return i}}({}),Xr(tb,hr);var D_=0;function T_(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function $p(i){i.readyState=4,i.l=null,i.j=null,i.A=null,hc(i)}function hc(i){i.onreadystatechange&&i.onreadystatechange.call(i)}($e=tb.prototype).open=function(i,n){if(this.readyState!=D_)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=n,this.readyState=1,hc(this)},$e.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const n={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(n.body=i),(this.D||Et).fetch(new Request(this.B,n)).then(this.Va.bind(this),this.ha.bind(this))},$e.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,$p(this)),this.readyState=D_},$e.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,hc(this)),this.g&&(this.readyState=3,hc(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Et.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;T_(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},$e.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var n=i.value?i.value:new Uint8Array(0);(n=this.A.decode(n,{stream:!i.done}))&&(this.response=this.responseText+=n)}i.done?$p(this):hc(this),3==this.readyState&&T_(this)}},$e.Ua=function(i){this.g&&(this.response=this.responseText=i,$p(this))},$e.Ta=function(i){this.g&&(this.response=i,$p(this))},$e.ha=function(){this.g&&$p(this)},$e.setRequestHeader=function(i,n){this.v.append(i,n)},$e.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},$e.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],n=this.h.entries();for(var r=n.next();!r.done;)i.push((r=r.value)[0]+": "+r[1]),r=n.next();return i.join("\r\n")},Object.defineProperty(tb.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var _S=Et.JSON.parse;function Qn(i){hr.call(this),this.headers=new Xt,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=pC,this.K=this.L=!1}Xr(Qn,hr);var pC="",yS=/^https?$/i,vS=["POST","PUT"];function I_(i){return"content-type"==i.toLowerCase()}function fc(i,n){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=n,i.m=5,nb(i),Gl(i)}function nb(i){i.D||(i.D=!0,Ur(i,"complete"),Ur(i,"error"))}function Rs(i){if(i.h&&void 0!==Cp&&(!i.C[1]||4!=Pa(i)||2!=i.ba()))if(i.v&&4==Pa(i))Mp(i.Fa,0,i);else if(Ur(i,"readystatechange"),4==Pa(i)){i.h=!1;try{const y=i.ba();e:switch(y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var s;if(s=0===y){var l=String(i.H).match($o)[1]||null;if(!l&&Et.self&&Et.self.location){var d=Et.self.location.protocol;l=d.substr(0,d.length-1)}s=!yS.test(l?l.toLowerCase():"")}r=s}if(r)Ur(i,"complete"),Ur(i,"success");else{i.m=6;try{var g=2<Pa(i)?i.g.statusText:""}catch(E){g=""}i.j=g+" ["+i.ba()+"]",nb(i)}}finally{Gl(i)}}}function Gl(i,n){if(i.g){gC(i);const r=i.g,s=i.C[0]?n_:null;i.g=null,i.C=null,n||Ur(i,"ready");try{r.onreadystatechange=s}catch(l){}}}function gC(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(Et.clearTimeout(i.A),i.A=null)}function Pa(i){return i.g?i.g.readyState:0}function A_(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case pC:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(n){return null}}function pc(i,n,r){e:{for(s in r){var s=!1;break e}s=!0}s||(r=function(i){let n="";return Dp(i,function(r,s){n+=s,n+=":",n+=r,n+="\r\n"}),n}(r),"string"==typeof i?null!=r&&encodeURIComponent(String(r)):mn(i,n,r))}function Jn(i,n,r){return r&&r.internalChannelParams&&r.internalChannelParams[i]||n}function ql(i){this.za=0,this.l=[],this.h=new Jd,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Jn("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Jn("baseRetryDelayMs",5e3,i),this.$a=Jn("retryDelaySeedMs",1e4,i),this.Ya=Jn("forwardChannelMaxRetries",2,i),this.ra=Jn("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new gS(i&&i.concurrentRequestLimit),this.Ca=new qR,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function sh(i){if(S_(i),3==i.G){var n=i.V++,r=$l(i.F);mn(r,"SID",i.J),mn(r,"RID",n),mn(r,"TYPE","terminate"),Go(i,r),(n=new nh(i,i.h,n,void 0)).K=2,n.v=Vp($l(r)),r=!1,Et.navigator&&Et.navigator.sendBeacon&&(r=Et.navigator.sendBeacon(n.v.toString(),"")),!r&&Et.Image&&((new Image).src=n.v,r=!0),r||(n.g=lb(n.l,null),n.g.ea(n.v)),n.F=Date.now(),jo(n)}ob(i)}function Ei(i){i.g&&(Wl(i),i.g.cancel(),i.g=null)}function S_(i){Ei(i),i.u&&(Et.clearTimeout(i.u),i.u=null),Hp(i),i.i.cancel(),i.m&&("number"==typeof i.m&&Et.clearTimeout(i.m),i.m=null)}function Zl(i,n){i.l.push(new class{constructor(i,n){this.h=i,this.g=n}}(i.Za++,n)),3==i.G&&Fa(i)}function Fa(i){uC(i.i)||i.m||(i.m=!0,Np(i.Ha,i),i.C=0)}function gc(i,n){var r;r=n?n.m:i.V++;const s=$l(i.F);mn(s,"SID",i.J),mn(s,"RID",r),mn(s,"AID",i.U),Go(i,s),i.o&&i.s&&pc(s,i.o,i.s),r=new nh(i,i.h,r,i.C+1),null===i.o&&(r.H=i.s),n&&(i.l=n.D.concat(i.l)),n=mc(i,r,1e3),r.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),cC(i.i,r),y_(r,s,n)}function Go(i,n){i.j&&b_({},function(r,s){mn(n,s,r)})}function mc(i,n,r){r=Math.min(i.l.length,r);var s=i.j?cr(i.j.Oa,i.j,i):null;e:{var l=i.l;let d=-1;for(;;){const g=["count="+r];-1==d?0<r?(d=l[0].h,g.push("ofs="+d)):d=0:g.push("ofs="+d);let y=!0;for(let E=0;E<r;E++){let I=l[E].h;const S=l[E].g;if(I-=d,0>I)d=Math.max(0,l[E].h-100),y=!1;else try{hC(S,g,"req"+I+"_")}catch(x){s&&s(S)}}if(y){s=g.join("&");break e}}}return i=i.l.splice(0,r),n.D=i,s}function _c(i){i.g||i.u||(i.Y=1,Np(i.Ga,i),i.A=0)}function zl(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=kp(cr(i.Ga,i),sb(i,i.A)),i.A++,0))}function Wl(i){null!=i.B&&(Et.clearTimeout(i.B),i.B=null)}function rb(i){i.g=new nh(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var n=$l(i.oa);mn(n,"RID","rpc"),mn(n,"SID",i.J),mn(n,"CI",i.N?"0":"1"),mn(n,"AID",i.U),Go(i,n),mn(n,"TYPE","xmlhttp"),i.o&&i.s&&pc(n,i.o,i.s),i.K&&i.g.setTimeout(i.K);var r=i.g;i=i.la,r.K=1,r.v=Vp($l(n)),r.s=null,r.U=!0,uc(r,i)}function Hp(i){null!=i.v&&(Et.clearTimeout(i.v),i.v=null)}function ib(i,n){var r=null;if(i.g==n){Hp(i),Wl(i),i.g=null;var s=2}else{if(!C_(i.i,n))return;r=n.D,xs(i.i,n),s=1}if(i.I=n.N,0!=i.G)if(n.i)if(1==s){r=n.s?n.s.length:0,n=Date.now()-n.F;var l=i.C;Ur(s=xp(),new Rp(s,r,n,l)),Fa(i)}else _c(i);else if(3==(l=n.o)||0==l&&0<i.I||!(1==s&&function(i,n){return!(eb(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=n.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=kp(cr(i.Ha,i,n),sb(i,i.C)),i.C++,0)))}(i,n)||2==s&&zl(i)))switch(r&&0<r.length&&(n=i.i,n.i=n.i.concat(r)),l){case 1:Yl(i,5);break;case 4:Yl(i,10);break;case 3:Yl(i,6);break;default:Yl(i,2)}}function sb(i,n){let r=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(r*=2),r*n}function Yl(i,n){if(i.h.info("Error code "+n),2==n){var r=null;i.j&&(r=null);var s=cr(i.jb,i);r||(r=new ka("//www.google.com/images/cleardot.gif"),Et.location&&"http"==Et.location.protocol||w_(r,"https"),Vp(r)),function(i,n){const r=new Jd;if(Et.Image){const s=new Image;s.onload=m0(Bp,r,s,"TestLoadImage: loaded",!0,n),s.onerror=m0(Bp,r,s,"TestLoadImage: error",!1,n),s.onabort=m0(Bp,r,s,"TestLoadImage: abort",!1,n),s.ontimeout=m0(Bp,r,s,"TestLoadImage: timeout",!1,n),Et.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else n(!1)}(r.toString(),s)}else Sn(2);i.G=0,i.j&&i.j.va(n),ob(i),S_(i)}function ob(i){i.G=0,i.I=-1,i.j&&((0!=mS(i.i).length||0!=i.l.length)&&(i.i.i.length=0,jE(i.l),i.l.length=0),i.j.ua())}function ab(i,n,r){let s=function(i){return i instanceof ka?$l(i):new ka(i,void 0)}(r);if(""!=s.i)n&&E_(s,n+"."+s.i),Lp(s,s.m);else{const l=Et.location;s=function(i,n,r,s){var l=new ka(null,void 0);return i&&w_(l,i),n&&E_(l,n),r&&Lp(l,r),s&&(l.l=s),l}(l.protocol,n?n+"."+l.hostname:l.hostname,+l.port,r)}return i.aa&&Dp(i.aa,function(l,d){mn(s,d,l)}),r=i.sa,(n=i.D)&&r&&mn(s,n,r),mn(s,"VER",i.ma),Go(i,s),s}function lb(i,n,r){if(n&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(n=new Qn(r&&i.Ba&&!i.qa?new jp({ib:!0}):i.qa)).L=i.H,n}function ub(){}function N_(){if(Kd&&!(10<=Number(T0)))throw Error("Environmental error: no available transport.")}function Hi(i,n){hr.call(this),this.g=new ql(n),this.l=i,this.h=n&&n.messageUrlParams||null,i=n&&n.messageHeaders||null,n&&n.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=n&&n.initMessageHeaders||null,n&&n.messageContentType&&(i?i["X-WebChannel-Content-Type"]=n.messageContentType:i={"X-WebChannel-Content-Type":n.messageContentType}),n&&n.ya&&(i?i["X-WebChannel-Client-Profile"]=n.ya:i={"X-WebChannel-Client-Profile":n.ya}),this.g.P=i,(i=n&&n.httpHeadersOverwriteParam)&&!_0(i)&&(this.g.o=i),this.A=n&&n.supportsCrossDomainXhr||!1,this.v=n&&n.sendRawJson||!1,(n=n&&n.httpSessionIdParam)&&!_0(n)&&(this.g.D=n,null!==(i=this.h)&&n in i&&n in(i=this.h)&&delete i[n]),this.j=new yc(this)}function mC(i){G0.call(this);var n=i.__sm__;if(n){e:{for(const r in n){i=r;break e}i=void 0}(this.i=i)&&(i=this.i,n=null!==n&&i in n?n[i]:void 0),this.data=n}else this.data=i}function cb(){Op.call(this),this.status=1}function yc(i){this.g=i}($e=Qn.prototype).ea=function(i,n,r,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);n=n?n.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():g_.g(),this.C=function(i){return i.h||(i.h=i.i())}(this.u?this.u:g_),this.g.onreadystatechange=cr(this.Fa,this);try{this.F=!0,this.g.open(n,String(i),!0),this.F=!1}catch(d){return void fc(this,d)}i=r||"";const l=new Xt(this.headers);s&&b_(s,function(d,g){l.set(g,d)}),s=function(i){e:{var n=I_;const r=i.length,s="string"==typeof i?i.split(""):i;for(let l=0;l<r;l++)if(l in s&&n.call(void 0,s[l],l,i)){n=l;break e}n=-1}return 0>n?null:"string"==typeof i?i.charAt(n):i[n]}(l.T()),r=Et.FormData&&i instanceof Et.FormData,!(0<=WA(vS,n))||s||r||l.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),l.forEach(function(d,g){this.g.setRequestHeader(g,d)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{gC(this),0<this.B&&((this.K=function(i){return Kd&&GE()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=cr(this.pa,this)):this.A=Mp(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(d){fc(this,d)}},$e.pa=function(){void 0!==Cp&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ur(this,"timeout"),this.abort(8))},$e.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Ur(this,"complete"),Ur(this,"abort"),Gl(this))},$e.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Gl(this,!0)),Qn.Z.M.call(this)},$e.Fa=function(){this.s||(this.F||this.v||this.l?Rs(this):this.cb())},$e.cb=function(){Rs(this)},$e.ba=function(){try{return 2<Pa(this)?this.g.status:-1}catch(i){return-1}},$e.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},$e.Qa=function(i){if(this.g){var n=this.g.responseText;return i&&0==n.indexOf(i)&&(n=n.substring(i.length)),_S(n)}},$e.Da=function(){return this.m},$e.La=function(){return"string"==typeof this.j?this.j:String(this.j)},($e=ql.prototype).ma=8,$e.G=1,$e.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(n){}},$e.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const l=new nh(this,this.h,i,void 0);let d=this.s;if(this.P&&(d?(d=$E(d),b0(d,this.P)):d=this.P),null===this.o&&(l.H=d),this.ja)e:{for(var n=0,r=0;r<this.l.length;r++){var s=this.l[r];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(n+=s)){n=r;break e}if(4096===n||r===this.l.length-1){n=r+1;break e}}n=1e3}else n=1e3;n=mc(this,l,n),mn(r=$l(this.F),"RID",i),mn(r,"CVER",22),this.D&&mn(r,"X-HTTP-Session-Id",this.D),Go(this,r),this.o&&d&&pc(r,this.o,d),cC(this.i,l),this.Ra&&mn(r,"TYPE","init"),this.ja?(mn(r,"$req",n),mn(r,"SID","null"),l.$=!0,y_(l,r,null)):y_(l,r,n),this.G=2}}else 3==this.G&&(i?gc(this,i):0==this.l.length||uC(this.i)||gc(this))},$e.Ga=function(){if(this.u=null,rb(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=kp(cr(this.bb,this),i)}},$e.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Sn(10),Ei(this),rb(this))},$e.ab=function(){null!=this.v&&(this.v=null,Ei(this),zl(this),Sn(19))},$e.jb=function(i){i?(this.h.info("Successfully pinged google.com"),Sn(2)):(this.h.info("Failed to ping google.com"),Sn(1))},($e=ub.prototype).xa=function(){},$e.wa=function(){},$e.va=function(){},$e.ua=function(){},$e.Oa=function(){},N_.prototype.g=function(i,n){return new Hi(i,n)},Xr(Hi,hr),Hi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,n=this.l,r=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),Np(cr(i.hb,i,n))),Sn(0),i.W=n,i.aa=r||{},i.N=i.X,i.F=ab(i,null,i.W),Fa(i)},Hi.prototype.close=function(){sh(this.g)},Hi.prototype.u=function(i){if("string"==typeof i){var n={};n.__data__=i,Zl(this.g,n)}else this.v?((n={}).__data__=O0(i),Zl(this.g,n)):Zl(this.g,i)},Hi.prototype.M=function(){this.g.j=null,delete this.j,sh(this.g),delete this.g,Hi.Z.M.call(this)},Xr(mC,G0),Xr(cb,Op),Xr(yc,ub),yc.prototype.xa=function(){Ur(this.g,"a")},yc.prototype.wa=function(i){Ur(this.g,new mC(i))},yc.prototype.va=function(i){Ur(this.g,new cb(i))},yc.prototype.ua=function(){Ur(this.g,"b")},N_.prototype.createWebChannel=N_.prototype.g,Hi.prototype.send=Hi.prototype.u,Hi.prototype.open=Hi.prototype.m,Hi.prototype.close=Hi.prototype.close,p_.NO_ERROR=0,p_.TIMEOUT=8,p_.HTTP_ERROR=6,oS.COMPLETE="complete",th.EventType=Ra,Ra.OPEN="a",Ra.CLOSE="b",Ra.ERROR="c",Ra.MESSAGE="d",hr.prototype.listen=hr.prototype.N,Qn.prototype.listenOnce=Qn.prototype.O,Qn.prototype.getLastError=Qn.prototype.La,Qn.prototype.getLastErrorCode=Qn.prototype.Da,Qn.prototype.getStatus=Qn.prototype.ba,Qn.prototype.getResponseJson=Qn.prototype.Qa,Qn.prototype.getResponseText=Qn.prototype.ga,Qn.prototype.send=Qn.prototype.ea;var wS=Ms.createWebChannelTransport=function(){return new N_},ZR=Ms.getStatEventTarget=function(){return xp()},db=Ms.ErrorCode=p_,_C=Ms.EventType=oS,ES=Ms.Event=lc,hb=Ms.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},CS=Ms.FetchXmlHttpFactory=jp,M_=Ms.WebChannel=th,zR=Ms.XhrIo=Qn;class Br{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}Br.UNAUTHENTICATED=new Br(null),Br.GOOGLE_CREDENTIALS=new Br("google-credentials-uid"),Br.FIRST_PARTY=new Br("first-party-uid"),Br.MOCK_USER=new Br("mock-user");let vc="9.1.0";const bc=new Ll.Yd("@firebase/firestore");function yC(){return bc.logLevel}function Re(i,...n){if(bc.logLevel<=Ll.in.DEBUG){const r=n.map(fb);bc.debug(`Firestore (${vc}): ${i}`,...r)}}function fr(i,...n){if(bc.logLevel<=Ll.in.ERROR){const r=n.map(fb);bc.error(`Firestore (${vc}): ${i}`,...r)}}function Gp(i,...n){if(bc.logLevel<=Ll.in.WARN){const r=n.map(fb);bc.warn(`Firestore (${vc}): ${i}`,...r)}}function fb(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(r){return i}}function Ye(i="Unexpected state"){const n=`FIRESTORE (${vc}) INTERNAL ASSERTION FAILED: `+i;throw fr(n),new Error(n)}function ht(i,n){i||Ye()}function Ue(i,n){return i}const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends Error{constructor(n,r){super(r),this.code=n,this.message=r,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ir{constructor(){this.promise=new Promise((n,r)=>{this.resolve=n,this.reject=r})}}class pb{constructor(n,r){this.user=r,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${n}`}}class YR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,r){n.enqueueRetryable(()=>r(Br.UNAUTHENTICATED))}shutdown(){}}class TS{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,r){this.changeListener=r,n.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class ah{constructor(n){this.t=n,this.currentUser=Br.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,r){var s=this;let l=this.i;const d=I=>this.i!==l?(l=this.i,r(I)):Promise.resolve();let g=new Ir;this.o=()=>{this.i++,this.currentUser=this.u(),g.resolve(),g=new Ir,n.enqueueRetryable(()=>d(this.currentUser))};const y=()=>{const I=g;n.enqueueRetryable((0,ge.Z)(function*(){yield I.promise,yield d(s.currentUser)}))},E=I=>{Re("FirebaseCredentialsProvider","Auth detected"),this.auth=I,this.auth.addAuthTokenListener(this.o),y()};this.t.onInit(I=>E(I)),setTimeout(()=>{if(!this.auth){const I=this.t.getImmediate({optional:!0});I?E(I):(Re("FirebaseCredentialsProvider","Auth not yet detected"),g.resolve(),g=new Ir)}},0),y()}getToken(){const n=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==n?(Re("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ht("string"==typeof s.accessToken),new pb(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const n=this.auth&&this.auth.getUid();return ht(null===n||"string"==typeof n),new Br(n)}}class IS{constructor(n,r,s){this.h=n,this.l=r,this.m=s,this.type="FirstParty",this.user=Br.FIRST_PARTY}get authHeaders(){const n={"X-Goog-AuthUser":this.l},r=this.h.auth.getAuthHeaderValueForFirstParty([]);return r&&(n.Authorization=r),this.m&&(n["X-Goog-Iam-Authorization-Token"]=this.m),n}}class vC{constructor(n,r,s){this.h=n,this.l=r,this.m=s}getToken(){return Promise.resolve(new IS(this.h,this.l,this.m))}start(n,r){n.enqueueRetryable(()=>r(Br.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class us{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=s=>this.g(s),this.p=s=>r.writeSequenceNumber(s))}g(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.p&&this.p(n),n}}function bC(i){const n="undefined"!=typeof self&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(r);else for(let s=0;s<i;s++)r[s]=Math.floor(256*Math.random());return r}us.T=-1;class qp{static I(){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/n.length)*n.length;let s="";for(;s.length<20;){const l=bC(40);for(let d=0;d<l.length;++d)s.length<20&&l[d]<r&&(s+=n.charAt(l[d]%n.length))}return s}}function Bt(i,n){return i<n?-1:i>n?1:0}function wc(i,n,r){return i.length===n.length&&i.every((s,l)=>r(s,n[l]))}function wC(i){return i+"\0"}class Ar{constructor(n,r){if(this.seconds=n,this.nanoseconds=r,r<0)throw new Ne(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ne(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(n<-62135596800)throw new Ne(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new Ne(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}static now(){return Ar.fromMillis(Date.now())}static fromDate(n){return Ar.fromMillis(n.getTime())}static fromMillis(n){const r=Math.floor(n/1e3),s=Math.floor(1e6*(n-1e3*r));return new Ar(r,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?Bt(this.nanoseconds,n.nanoseconds):Bt(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Tt{constructor(n){this.timestamp=n}static fromTimestamp(n){return new Tt(n)}static min(){return new Tt(new Ar(0,0))}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function EC(i){let n=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&n++;return n}function Ec(i,n){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&n(r,i[r])}function gb(i){for(const n in i)if(Object.prototype.hasOwnProperty.call(i,n))return!1;return!0}class Zp{constructor(n,r,s){void 0===r?r=0:r>n.length&&Ye(),void 0===s?s=n.length-r:s>n.length-r&&Ye(),this.segments=n,this.offset=r,this.len=s}get length(){return this.len}isEqual(n){return 0===Zp.comparator(this,n)}child(n){const r=this.segments.slice(this.offset,this.limit());return n instanceof Zp?n.forEach(s=>{r.push(s)}):r.push(n),this.construct(r)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==n.get(r))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==n.get(r))return!1;return!0}forEach(n){for(let r=this.offset,s=this.limit();r<s;r++)n(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,r){const s=Math.min(n.length,r.length);for(let l=0;l<s;l++){const d=n.get(l),g=r.get(l);if(d<g)return-1;if(d>g)return 1}return n.length<r.length?-1:n.length>r.length?1:0}}class Gt extends Zp{construct(n,r,s){return new Gt(n,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...n){const r=[];for(const s of n){if(s.indexOf("//")>=0)throw new Ne(ce.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(l=>l.length>0))}return new Gt(r)}static emptyPath(){return new Gt([])}}const CC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pr extends Zp{construct(n,r,s){return new pr(n,r,s)}static isValidIdentifier(n){return CC.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pr.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new pr(["__name__"])}static fromServerFormat(n){const r=[];let s="",l=0;const d=()=>{if(0===s.length)throw new Ne(ce.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let g=!1;for(;l<n.length;){const y=n[l];if("\\"===y){if(l+1===n.length)throw new Ne(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const E=n[l+1];if("\\"!==E&&"."!==E&&"`"!==E)throw new Ne(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);s+=E,l+=2}else"`"===y?(g=!g,l++):"."!==y||g?(s+=y,l++):(d(),l++)}if(d(),g)throw new Ne(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new pr(r)}static emptyPath(){return new pr([])}}class zp{constructor(n){this.fields=n,n.sort(pr.comparator)}covers(n){for(const r of this.fields)if(r.isPrefixOf(n))return!0;return!1}isEqual(n){return wc(this.fields,n.fields,(r,s)=>r.isEqual(s))}}class Sr{constructor(n){this.binaryString=n}static fromBase64String(n){const r=atob(n);return new Sr(r)}static fromUint8Array(n){const r=function(s){let l="";for(let d=0;d<s.length;++d)l+=String.fromCharCode(s[d]);return l}(n);return new Sr(r)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return Bt(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}Sr.EMPTY_BYTE_STRING=new Sr("");const KR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ks(i){if(ht(!!i),"string"==typeof i){let n=0;const r=KR.exec(i);if(ht(!!r),r[1]){let l=r[1];l=(l+"000000000").substr(0,9),n=Number(l)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:n}}return{seconds:Xn(i.seconds),nanos:Xn(i.nanos)}}function Xn(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Kl(i){return"string"==typeof i?Sr.fromBase64String(i):Sr.fromUint8Array(i)}function Wp(i){var n,r;return"server_timestamp"===(null===(r=((null===(n=null==i?void 0:i.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function DC(i){const n=i.mapValue.fields.__previous_value__;return Wp(n)?DC(n):n}function Cc(i){const n=ks(i.mapValue.fields.__local_write_time__.timestampValue);return new Ar(n.seconds,n.nanos)}function La(i){return null==i}function Yp(i){return 0===i&&1/i==-1/0}function AS(i){return"number"==typeof i&&Number.isInteger(i)&&!Yp(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class Qe{constructor(n){this.path=n}static fromPath(n){return new Qe(Gt.fromString(n))}static fromName(n){return new Qe(Gt.fromString(n).popFirst(5))}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}isEqual(n){return null!==n&&0===Gt.comparator(this.path,n.path)}toString(){return this.path.toString()}static comparator(n,r){return Gt.comparator(n.path,r.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new Qe(new Gt(n.slice()))}}function Va(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Wp(i)?4:10:Ye()}function Os(i,n){const r=Va(i);if(r!==Va(n))return!1;switch(r){case 0:return!0;case 1:return i.booleanValue===n.booleanValue;case 4:return Cc(i).isEqual(Cc(n));case 3:return function(s,l){if("string"==typeof s.timestampValue&&"string"==typeof l.timestampValue&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const d=ks(s.timestampValue),g=ks(l.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(i,n);case 5:return i.stringValue===n.stringValue;case 6:return l=n,Kl(i.bytesValue).isEqual(Kl(l.bytesValue));case 7:return i.referenceValue===n.referenceValue;case 8:return function(s,l){return Xn(s.geoPointValue.latitude)===Xn(l.geoPointValue.latitude)&&Xn(s.geoPointValue.longitude)===Xn(l.geoPointValue.longitude)}(i,n);case 2:return function(s,l){if("integerValue"in s&&"integerValue"in l)return Xn(s.integerValue)===Xn(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const d=Xn(s.doubleValue),g=Xn(l.doubleValue);return d===g?Yp(d)===Yp(g):isNaN(d)&&isNaN(g)}return!1}(i,n);case 9:return wc(i.arrayValue.values||[],n.arrayValue.values||[],Os);case 10:return function(s,l){const d=s.mapValue.fields||{},g=l.mapValue.fields||{};if(EC(d)!==EC(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(void 0===g[y]||!Os(d[y],g[y])))return!1;return!0}(i,n);default:return Ye()}var l}function Kp(i,n){return void 0!==(i.values||[]).find(r=>Os(r,n))}function Dc(i,n){const r=Va(i),s=Va(n);if(r!==s)return Bt(r,s);switch(r){case 0:return 0;case 1:return Bt(i.booleanValue,n.booleanValue);case 2:return function(l,d){const g=Xn(l.integerValue||l.doubleValue),y=Xn(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1}(i,n);case 3:return x_(i.timestampValue,n.timestampValue);case 4:return x_(Cc(i),Cc(n));case 5:return Bt(i.stringValue,n.stringValue);case 6:return function(l,d){const g=Kl(l),y=Kl(d);return g.compareTo(y)}(i.bytesValue,n.bytesValue);case 7:return function(l,d){const g=l.split("/"),y=d.split("/");for(let E=0;E<g.length&&E<y.length;E++){const I=Bt(g[E],y[E]);if(0!==I)return I}return Bt(g.length,y.length)}(i.referenceValue,n.referenceValue);case 8:return function(l,d){const g=Bt(Xn(l.latitude),Xn(d.latitude));return 0!==g?g:Bt(Xn(l.longitude),Xn(d.longitude))}(i.geoPointValue,n.geoPointValue);case 9:return function(l,d){const g=l.values||[],y=d.values||[];for(let E=0;E<g.length&&E<y.length;++E){const I=Dc(g[E],y[E]);if(I)return I}return Bt(g.length,y.length)}(i.arrayValue,n.arrayValue);case 10:return function(l,d){const g=l.fields||{},y=Object.keys(g),E=d.fields||{},I=Object.keys(E);y.sort(),I.sort();for(let S=0;S<y.length&&S<I.length;++S){const x=Bt(y[S],I[S]);if(0!==x)return x;const O=Dc(g[y[S]],E[I[S]]);if(0!==O)return O}return Bt(y.length,I.length)}(i.mapValue,n.mapValue);default:throw Ye()}}function x_(i,n){if("string"==typeof i&&"string"==typeof n&&i.length===n.length)return Bt(i,n);const r=ks(i),s=ks(n),l=Bt(r.seconds,s.seconds);return 0!==l?l:Bt(r.nanos,s.nanos)}function R_(i){return Qp(i)}function Qp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(s){const l=ks(s);return`time(${l.seconds},${l.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Kl(i.bytesValue).toBase64():"referenceValue"in i?Qe.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(n=i.geoPointValue).latitude},${n.longitude})`:"arrayValue"in i?function(s){let l="[",d=!0;for(const g of s.values||[])d?d=!1:l+=",",l+=Qp(g);return l+"]"}(i.arrayValue):"mapValue"in i?function(s){const l=Object.keys(s.fields||{}).sort();let d="{",g=!0;for(const y of l)g?g=!1:d+=",",d+=`${y}:${Qp(s.fields[y])}`;return d+"}"}(i.mapValue):Ye();var n}function lh(i,n){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`}}function k_(i){return!!i&&"integerValue"in i}function _b(i){return!!i&&"arrayValue"in i}function yb(i){return!!i&&"nullValue"in i}function vb(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function uh(i){return!!i&&"mapValue"in i}function ch(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const n={mapValue:{fields:{}}};return Ec(i.mapValue.fields,(r,s)=>n.mapValue.fields[r]=ch(s)),n}if(i.arrayValue){const n={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=ch(i.arrayValue.values[r]);return n}return Object.assign({},i)}class ti{constructor(n){this.value=n}static empty(){return new ti({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let r=this.value;for(let s=0;s<n.length-1;++s)if(r=(r.mapValue.fields||{})[n.get(s)],!uh(r))return null;return r=(r.mapValue.fields||{})[n.lastSegment()],r||null}}set(n,r){this.getFieldsMap(n.popLast())[n.lastSegment()]=ch(r)}setAll(n){let r=pr.emptyPath(),s={},l=[];n.forEach((g,y)=>{if(!r.isImmediateParentOf(y)){const E=this.getFieldsMap(r);this.applyChanges(E,s,l),s={},l=[],r=y.popLast()}g?s[y.lastSegment()]=ch(g):l.push(y.lastSegment())});const d=this.getFieldsMap(r);this.applyChanges(d,s,l)}delete(n){const r=this.field(n.popLast());uh(r)&&r.mapValue.fields&&delete r.mapValue.fields[n.lastSegment()]}isEqual(n){return Os(this.value,n.value)}getFieldsMap(n){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<n.length;++s){let l=r.mapValue.fields[n.get(s)];uh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},r.mapValue.fields[n.get(s)]=l),r=l}return r.mapValue.fields}applyChanges(n,r,s){Ec(r,(l,d)=>n[l]=d);for(const l of s)delete n[l]}clone(){return new ti(ch(this.value))}}function bb(i){const n=[];return Ec(i.fields,(r,s)=>{const l=new pr([r]);if(uh(s)){const d=bb(s.mapValue).fields;if(0===d.length)n.push(l);else for(const g of d)n.push(l.child(g))}else n.push(l)}),new zp(n)}class _n{constructor(n,r,s,l,d){this.key=n,this.documentType=r,this.version=s,this.data=l,this.documentState=d}static newInvalidDocument(n){return new _n(n,0,Tt.min(),ti.empty(),0)}static newFoundDocument(n,r,s){return new _n(n,1,r,s,0)}static newNoDocument(n,r){return new _n(n,2,r,ti.empty(),0)}static newUnknownDocument(n,r){return new _n(n,3,r,ti.empty(),2)}convertToFoundDocument(n,r){return this.version=n,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=ti.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=ti.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof _n&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}clone(){return new _n(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class wb{constructor(n,r=null,s=[],l=[],d=null,g=null,y=null){this.path=n,this.collectionGroup=r,this.orderBy=s,this.filters=l,this.limit=d,this.startAt=g,this.endAt=y,this.A=null}}function Jp(i,n=null,r=[],s=[],l=null,d=null,g=null){return new wb(i,n,r,s,l,d,g)}function dh(i){const n=Ue(i);if(null===n.A){let r=n.path.canonicalString();null!==n.collectionGroup&&(r+="|cg:"+n.collectionGroup),r+="|f:",r+=n.filters.map(s=>function(i){return i.field.canonicalString()+i.op.toString()+R_(i.value)}(s)).join(","),r+="|ob:",r+=n.orderBy.map(s=>{return(l=s).field.canonicalString()+l.dir;var l}).join(","),La(n.limit)||(r+="|l:",r+=n.limit),n.startAt&&(r+="|lb:",r+=O_(n.startAt)),n.endAt&&(r+="|ub:",r+=O_(n.endAt)),n.A=r}return n.A}function Xp(i,n){if(i.limit!==n.limit||i.orderBy.length!==n.orderBy.length)return!1;for(let l=0;l<i.orderBy.length;l++)if(!xC(i.orderBy[l],n.orderBy[l]))return!1;if(i.filters.length!==n.filters.length)return!1;for(let l=0;l<i.filters.length;l++)if((r=i.filters[l]).op!==(s=n.filters[l]).op||!r.field.isEqual(s.field)||!Os(r.value,s.value))return!1;var r,s;return i.collectionGroup===n.collectionGroup&&!!i.path.isEqual(n.path)&&!!Eb(i.startAt,n.startAt)&&Eb(i.endAt,n.endAt)}function eg(i){return Qe.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class ni extends class{}{constructor(n,r,s){super(),this.field=n,this.op=r,this.value=s}static create(n,r,s){return n.isKeyField()?"in"===r||"not-in"===r?this.R(n,r,s):new AC(n,r,s):"array-contains"===r?new SS(n,s):"in"===r?new MC(n,s):"not-in"===r?new NS(n,s):"array-contains-any"===r?new gr(n,s):new ni(n,r,s)}static R(n,r,s){return"in"===r?new SC(n,s):new QR(n,s)}matches(n){const r=n.data.field(this.field);return"!="===this.op?null!==r&&this.P(Dc(r,this.value)):null!==r&&Va(this.value)===Va(r)&&this.P(Dc(r,this.value))}P(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return Ye()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class AC extends ni{constructor(n,r,s){super(n,r,s),this.key=Qe.fromName(s.referenceValue)}matches(n){const r=Qe.comparator(n.key,this.key);return this.P(r)}}class SC extends ni{constructor(n,r){super(n,"in",r),this.keys=NC(0,r)}matches(n){return this.keys.some(r=>r.isEqual(n.key))}}class QR extends ni{constructor(n,r){super(n,"not-in",r),this.keys=NC(0,r)}matches(n){return!this.keys.some(r=>r.isEqual(n.key))}}function NC(i,n){var r;return((null===(r=n.arrayValue)||void 0===r?void 0:r.values)||[]).map(s=>Qe.fromName(s.referenceValue))}class SS extends ni{constructor(n,r){super(n,"array-contains",r)}matches(n){const r=n.data.field(this.field);return _b(r)&&Kp(r.arrayValue,this.value)}}class MC extends ni{constructor(n,r){super(n,"in",r)}matches(n){const r=n.data.field(this.field);return null!==r&&Kp(this.value.arrayValue,r)}}class NS extends ni{constructor(n,r){super(n,"not-in",r)}matches(n){if(Kp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=n.data.field(this.field);return null!==r&&!Kp(this.value.arrayValue,r)}}class gr extends ni{constructor(n,r){super(n,"array-contains-any",r)}matches(n){const r=n.data.field(this.field);return!(!_b(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>Kp(this.value.arrayValue,s))}}class hh{constructor(n,r){this.position=n,this.before=r}}function O_(i){return`${i.before?"b":"a"}:${i.position.map(n=>R_(n)).join(",")}`}class fh{constructor(n,r="asc"){this.field=n,this.dir=r}}function xC(i,n){return i.dir===n.dir&&i.field.isEqual(n.field)}function RC(i,n,r){let s=0;for(let l=0;l<i.position.length;l++){const d=n[l],g=i.position[l];if(s=d.field.isKeyField()?Qe.comparator(Qe.fromName(g.referenceValue),r.key):Dc(g,r.data.field(d.field)),"desc"===d.dir&&(s*=-1),0!==s)break}return i.before?s<=0:s<0}function Eb(i,n){if(null===i)return null===n;if(null===n||i.before!==n.before||i.position.length!==n.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!Os(i.position[r],n.position[r]))return!1;return!0}class qo{constructor(n,r=null,s=[],l=[],d=null,g="F",y=null,E=null){this.path=n,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=l,this.limit=d,this.limitType=g,this.startAt=y,this.endAt=E,this.V=null,this.S=null}}function Tc(i,n,r,s,l,d,g,y){return new qo(i,n,r,s,l,d,g,y)}function ph(i){return new qo(i)}function P_(i){return!La(i.limit)&&"F"===i.limitType}function tg(i){return!La(i.limit)&&"L"===i.limitType}function Cb(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function F_(i){for(const n of i.filters)if(n.v())return n.field;return null}function kC(i){return null!==i.collectionGroup}function Ql(i){const n=Ue(i);if(null===n.V){n.V=[];const r=F_(n),s=Cb(n);if(null!==r&&null===s)r.isKeyField()||n.V.push(new fh(r)),n.V.push(new fh(pr.keyField(),"asc"));else{let l=!1;for(const d of n.explicitOrderBy)n.V.push(d),d.field.isKeyField()&&(l=!0);if(!l){const d=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";n.V.push(new fh(pr.keyField(),d))}}}return n.V}function Gi(i){const n=Ue(i);if(!n.S)if("F"===n.limitType)n.S=Jp(n.path,n.collectionGroup,Ql(n),n.filters,n.limit,n.startAt,n.endAt);else{const r=[];for(const d of Ql(n))r.push(new fh(d.field,"desc"===d.dir?"asc":"desc"));const s=n.endAt?new hh(n.endAt.position,!n.endAt.before):null,l=n.startAt?new hh(n.startAt.position,!n.startAt.before):null;n.S=Jp(n.path,n.collectionGroup,r,n.filters,n.limit,s,l)}return n.S}function io(i,n,r){return new qo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),n,r,i.startAt,i.endAt)}function ng(i,n){return Xp(Gi(i),Gi(n))&&i.limitType===n.limitType}function Db(i){return`${dh(Gi(i))}|lt:${i.limitType}`}function Ps(i){return`Query(target=${function(i){let n=i.path.canonicalString();return null!==i.collectionGroup&&(n+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(n+=`, filters: [${i.filters.map(r=>{return`${(s=r).field.canonicalString()} ${s.op} ${R_(s.value)}`;var s}).join(", ")}]`),La(i.limit)||(n+=", limit: "+i.limit),i.orderBy.length>0&&(n+=`, orderBy: [${i.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),i.startAt&&(n+=", startAt: "+O_(i.startAt)),i.endAt&&(n+=", endAt: "+O_(i.endAt)),`Target(${n})`}(Gi(i))}; limitType=${i.limitType})`}function Ci(i,n){return n.isFoundDocument()&&function(r,s){const l=s.key.path;return null!==r.collectionGroup?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):Qe.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(i,n)&&function(r,s){for(const l of r.explicitOrderBy)if(!l.field.isKeyField()&&null===s.data.field(l.field))return!1;return!0}(i,n)&&function(r,s){for(const l of r.filters)if(!l.matches(s))return!1;return!0}(i,n)&&(s=n,!((r=i).startAt&&!RC(r.startAt,Ql(r),s)||r.endAt&&RC(r.endAt,Ql(r),s)));var r,s}function Fs(i){return(n,r)=>{let s=!1;for(const l of Ql(i)){const d=OC(l,n,r);if(0!==d)return d;s=s||l.field.isKeyField()}return 0}}function OC(i,n,r){const s=i.field.isKeyField()?Qe.comparator(n.key,r.key):function(l,d,g){const y=d.data.field(l),E=g.data.field(l);return null!==y&&null!==E?Dc(y,E):Ye()}(i.field,n,r);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ye()}}function Tb(i,n){if(i.D){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yp(n)?"-0":n}}function PC(i){return{integerValue:""+i}}function FC(i,n){return AS(n)?PC(n):Tb(i,n)}class L_{constructor(){this._=void 0}}function MS(i,n,r){return i instanceof mh?function(s,l){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&(d.fields.__previous_value__=l),{mapValue:d}}(r,n):i instanceof Jl?LC(i,n):i instanceof Xl?Ab(i,n):function(s,l){const d=gh(s,l),g=VC(d)+VC(s.C);return k_(d)&&k_(s.C)?PC(g):Tb(s.N,g)}(i,n)}function Ib(i,n,r){return i instanceof Jl?LC(i,n):i instanceof Xl?Ab(i,n):r}function gh(i,n){return i instanceof Ua?k_(r=n)||(s=r)&&"doubleValue"in s?n:{integerValue:0}:null;var s,r}class mh extends L_{}class Jl extends L_{constructor(n){super(),this.elements=n}}function LC(i,n){const r=Sb(n);for(const s of i.elements)r.some(l=>Os(l,s))||r.push(s);return{arrayValue:{values:r}}}class Xl extends L_{constructor(n){super(),this.elements=n}}function Ab(i,n){let r=Sb(n);for(const s of i.elements)r=r.filter(l=>!Os(l,s));return{arrayValue:{values:r}}}class Ua extends L_{constructor(n,r){super(),this.N=n,this.C=r}}function VC(i){return Xn(i.integerValue||i.doubleValue)}function Sb(i){return _b(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class _h{constructor(n,r){this.field=n,this.transform=r}}class V_{constructor(n,r){this.version=n,this.transformResults=r}}class Ln{constructor(n,r){this.updateTime=n,this.exists=r}static none(){return new Ln}static exists(n){return new Ln(void 0,n)}static updateTime(n){return new Ln(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function rg(i,n){return void 0!==i.updateTime?n.isFoundDocument()&&n.version.isEqual(i.updateTime):void 0===i.exists||i.exists===n.isFoundDocument()}class ig{}function UC(i,n,r){i instanceof sg?function(s,l,d){const g=s.value.clone(),y=Rb(s.fieldTransforms,l,d.transformResults);g.setAll(y),l.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(i,n,r):i instanceof eu?function(s,l,d){if(!rg(s.precondition,l))return void l.convertToUnknownDocument(d.version);const g=Rb(s.fieldTransforms,l,d.transformResults),y=l.data;y.setAll(jC(s)),y.setAll(g),l.convertToFoundDocument(d.version,y).setHasCommittedMutations()}(i,n,r):n.convertToNoDocument(r.version).setHasCommittedMutations()}function U_(i,n,r){var l;i instanceof sg?function(s,l,d){if(!rg(s.precondition,l))return;const g=s.value.clone(),y=$C(s.fieldTransforms,d,l);g.setAll(y),l.convertToFoundDocument(xb(l),g).setHasLocalMutations()}(i,n,r):i instanceof eu?function(s,l,d){if(!rg(s.precondition,l))return;const g=$C(s.fieldTransforms,d,l),y=l.data;y.setAll(jC(s)),y.setAll(g),l.convertToFoundDocument(xb(l),y).setHasLocalMutations()}(i,n,r):rg(i.precondition,l=n)&&l.convertToNoDocument(Tt.min())}function BC(i,n){let r=null;for(const s of i.fieldTransforms){const l=n.data.field(s.field),d=gh(s.transform,l||null);null!=d&&(null==r&&(r=ti.empty()),r.set(s.field,d))}return r||null}function Mb(i,n){return i.type===n.type&&!!i.key.isEqual(n.key)&&!!i.precondition.isEqual(n.precondition)&&(s=n.fieldTransforms,!!(void 0===(r=i.fieldTransforms)&&void 0===s||r&&s&&wc(r,s,(l,d)=>function(i,n){return i.field.isEqual(n.field)&&(s=n.transform,(r=i.transform)instanceof Jl&&s instanceof Jl||r instanceof Xl&&s instanceof Xl?wc(r.elements,s.elements,Os):r instanceof Ua&&s instanceof Ua?Os(r.C,s.C):r instanceof mh&&s instanceof mh);var r,s}(l,d))))&&(0===i.type?i.value.isEqual(n.value):1!==i.type||i.data.isEqual(n.data)&&i.fieldMask.isEqual(n.fieldMask));var r,s}function xb(i){return i.isFoundDocument()?i.version:Tt.min()}class sg extends ig{constructor(n,r,s,l=[]){super(),this.key=n,this.value=r,this.precondition=s,this.fieldTransforms=l,this.type=0}}class eu extends ig{constructor(n,r,s,l,d=[]){super(),this.key=n,this.data=r,this.fieldMask=s,this.precondition=l,this.fieldTransforms=d,this.type=1}}function jC(i){const n=new Map;return i.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=i.data.field(r);n.set(r,s)}}),n}function Rb(i,n,r){const s=new Map;ht(i.length===r.length);for(let l=0;l<r.length;l++){const d=i[l],g=d.transform,y=n.data.field(d.field);s.set(d.field,Ib(g,y,r[l]))}return s}function $C(i,n,r){const s=new Map;for(const l of i){const d=l.transform,g=r.data.field(l.field);s.set(l.field,MS(d,g,n))}return s}class og extends ig{constructor(n,r){super(),this.key=n,this.precondition=r,this.type=2,this.fieldTransforms=[]}}class kb extends ig{constructor(n,r){super(),this.key=n,this.precondition=r,this.type=3,this.fieldTransforms=[]}}class xS{constructor(n){this.count=n}}var er,$t;function HC(i){switch(i){case ce.OK:return Ye();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return Ye()}}function GC(i){if(void 0===i)return fr("GRPC error has no .code"),ce.UNKNOWN;switch(i){case er.OK:return ce.OK;case er.CANCELLED:return ce.CANCELLED;case er.UNKNOWN:return ce.UNKNOWN;case er.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case er.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case er.INTERNAL:return ce.INTERNAL;case er.UNAVAILABLE:return ce.UNAVAILABLE;case er.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case er.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case er.NOT_FOUND:return ce.NOT_FOUND;case er.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case er.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case er.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case er.ABORTED:return ce.ABORTED;case er.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case er.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case er.DATA_LOSS:return ce.DATA_LOSS;default:return Ye()}}($t=er||(er={}))[$t.OK=0]="OK",$t[$t.CANCELLED=1]="CANCELLED",$t[$t.UNKNOWN=2]="UNKNOWN",$t[$t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$t[$t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$t[$t.NOT_FOUND=5]="NOT_FOUND",$t[$t.ALREADY_EXISTS=6]="ALREADY_EXISTS",$t[$t.PERMISSION_DENIED=7]="PERMISSION_DENIED",$t[$t.UNAUTHENTICATED=16]="UNAUTHENTICATED",$t[$t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$t[$t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$t[$t.ABORTED=10]="ABORTED",$t[$t.OUT_OF_RANGE=11]="OUT_OF_RANGE",$t[$t.UNIMPLEMENTED=12]="UNIMPLEMENTED",$t[$t.INTERNAL=13]="INTERNAL",$t[$t.UNAVAILABLE=14]="UNAVAILABLE",$t[$t.DATA_LOSS=15]="DATA_LOSS";class mr{constructor(n,r){this.comparator=n,this.root=r||jr.EMPTY}insert(n,r){return new mr(this.comparator,this.root.insert(n,r,this.comparator).copy(null,null,jr.BLACK,null,null))}remove(n){return new mr(this.comparator,this.root.remove(n,this.comparator).copy(null,null,jr.BLACK,null,null))}get(n){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(n,r.key);if(0===s)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(n){let r=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(n,s.key);if(0===l)return r+s.left.size;l<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((r,s)=>(n(r,s),!1))}toString(){const n=[];return this.inorderTraversal((r,s)=>(n.push(`${r}:${s}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new B_(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new B_(this.root,n,this.comparator,!1)}getReverseIterator(){return new B_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new B_(this.root,n,this.comparator,!0)}}class B_{constructor(n,r,s,l){this.isReverse=l,this.nodeStack=[];let d=1;for(;!n.isEmpty();)if(d=r?s(n.key,r):1,l&&(d*=-1),d<0)n=this.isReverse?n.left:n.right;else{if(0===d){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const r={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class jr{constructor(n,r,s,l,d){this.key=n,this.value=r,this.color=null!=s?s:jr.RED,this.left=null!=l?l:jr.EMPTY,this.right=null!=d?d:jr.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,r,s,l,d){return new jr(null!=n?n:this.key,null!=r?r:this.value,null!=s?s:this.color,null!=l?l:this.left,null!=d?d:this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,s){let l=this;const d=s(n,l.key);return l=d<0?l.copy(null,null,null,l.left.insert(n,r,s),null):0===d?l.copy(null,r,null,null,null):l.copy(null,null,null,null,l.right.insert(n,r,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return jr.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,r){let s,l=this;if(r(n,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(n,r),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===r(n,l.key)){if(l.right.isEmpty())return jr.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(n,r))}return l.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,jr.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,jr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ye();const n=this.left.check();if(n!==this.right.check())throw Ye();return n+(this.isRed()?0:1)}}jr.EMPTY=null,jr.RED=!0,jr.BLACK=!1,jr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ye()}get value(){throw Ye()}get color(){throw Ye()}get left(){throw Ye()}get right(){throw Ye()}copy(i,n,r,s,l){return this}insert(i,n,r){return new jr(i,n)}remove(i,n){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vn{constructor(n){this.comparator=n,this.data=new mr(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((r,s)=>(n(r),!1))}forEachInRange(n,r){const s=this.data.getIteratorFrom(n[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,n[1])>=0)return;r(l.key)}}forEachWhile(n,r){let s;for(s=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!n(s.getNext().key))return}firstAfterOrEqual(n){const r=this.data.getIteratorFrom(n);return r.hasNext()?r.getNext().key:null}getIterator(){return new qC(this.data.getIterator())}getIteratorFrom(n){return new qC(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let r=this;return r.size<n.size&&(r=n,n=this),n.forEach(s=>{r=r.add(s)}),r}isEqual(n){if(!(n instanceof Vn)||this.size!==n.size)return!1;const r=this.data.getIterator(),s=n.data.getIterator();for(;r.hasNext();){const l=r.getNext().key,d=s.getNext().key;if(0!==this.comparator(l,d))return!1}return!0}toArray(){const n=[];return this.forEach(r=>{n.push(r)}),n}toString(){const n=[];return this.forEach(r=>n.push(r)),"SortedSet("+n.toString()+")"}copy(n){const r=new Vn(this.comparator);return r.data=n,r}}class qC{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const RS=new mr(Qe.comparator);function cs(){return RS}const ZC=new mr(Qe.comparator);function j_(){return ZC}const zC=new mr(Qe.comparator);function Ob(){return zC}const WC=new Vn(Qe.comparator);function Yt(...i){let n=WC;for(const r of i)n=n.add(r);return n}const YC=new Vn(Bt);function ag(){return YC}class Ic{constructor(n,r,s,l,d){this.snapshotVersion=n,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(n,r){const s=new Map;return s.set(n,yh.createSynthesizedTargetChangeForCurrentChange(n,r)),new Ic(Tt.min(),s,ag(),cs(),Yt())}}class yh{constructor(n,r,s,l,d){this.resumeToken=n,this.current=r,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(n,r){return new yh(Sr.EMPTY_BYTE_STRING,r,Yt(),Yt(),Yt())}}class Zo{constructor(n,r,s,l){this.k=n,this.removedTargetIds=r,this.key=s,this.$=l}}class KC{constructor(n,r){this.targetId=n,this.O=r}}class QC{constructor(n,r,s=Sr.EMPTY_BYTE_STRING,l=null){this.state=n,this.targetIds=r,this.resumeToken=s,this.cause=l}}class Ac{constructor(){this.F=0,this.M=kS(),this.L=Sr.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(n){n.approximateByteSize()>0&&(this.U=!0,this.L=n)}W(){let n=Yt(),r=Yt(),s=Yt();return this.M.forEach((l,d)=>{switch(d){case 0:n=n.add(l);break;case 2:r=r.add(l);break;case 1:s=s.add(l);break;default:Ye()}}),new yh(this.L,this.B,n,r,s)}G(){this.U=!1,this.M=kS()}H(n,r){this.U=!0,this.M=this.M.insert(n,r)}J(n){this.U=!0,this.M=this.M.remove(n)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class JR{constructor(n){this.tt=n,this.et=new Map,this.nt=cs(),this.st=$_(),this.it=new Vn(Bt)}rt(n){for(const r of n.k)n.$&&n.$.isFoundDocument()?this.ot(r,n.$):this.at(r,n.key,n.$);for(const r of n.removedTargetIds)this.at(r,n.key,n.$)}ct(n){this.forEachTarget(n,r=>{const s=this.ut(r);switch(n.state){case 0:this.ht(r)&&s.j(n.resumeToken);break;case 1:s.X(),s.q||s.G(),s.j(n.resumeToken);break;case 2:s.X(),s.q||this.removeTarget(r);break;case 3:this.ht(r)&&(s.Z(),s.j(n.resumeToken));break;case 4:this.ht(r)&&(this.lt(r),s.j(n.resumeToken));break;default:Ye()}})}forEachTarget(n,r){n.targetIds.length>0?n.targetIds.forEach(r):this.et.forEach((s,l)=>{this.ht(l)&&r(l)})}ft(n){const r=n.targetId,s=n.O.count,l=this.dt(r);if(l){const d=l.target;if(eg(d))if(0===s){const g=new Qe(d.path);this.at(r,g,_n.newNoDocument(g,Tt.min()))}else ht(1===s);else this.wt(r)!==s&&(this.lt(r),this.it=this.it.add(r))}}_t(n){const r=new Map;this.et.forEach((d,g)=>{const y=this.dt(g);if(y){if(d.current&&eg(y.target)){const E=new Qe(y.target.path);null!==this.nt.get(E)||this.gt(g,E)||this.at(g,E,_n.newNoDocument(E,n))}d.K&&(r.set(g,d.W()),d.G())}});let s=Yt();this.st.forEach((d,g)=>{let y=!0;g.forEachWhile(E=>{const I=this.dt(E);return!I||2===I.purpose||(y=!1,!1)}),y&&(s=s.add(d))});const l=new Ic(n,r,this.it,this.nt,s);return this.nt=cs(),this.st=$_(),this.it=new Vn(Bt),l}ot(n,r){if(!this.ht(n))return;const s=this.gt(n,r.key)?2:0;this.ut(n).H(r.key,s),this.nt=this.nt.insert(r.key,r),this.st=this.st.insert(r.key,this.yt(r.key).add(n))}at(n,r,s){if(!this.ht(n))return;const l=this.ut(n);this.gt(n,r)?l.H(r,1):l.J(r),this.st=this.st.insert(r,this.yt(r).delete(n)),s&&(this.nt=this.nt.insert(r,s))}removeTarget(n){this.et.delete(n)}wt(n){const r=this.ut(n).W();return this.tt.getRemoteKeysForTarget(n).size+r.addedDocuments.size-r.removedDocuments.size}Y(n){this.ut(n).Y()}ut(n){let r=this.et.get(n);return r||(r=new Ac,this.et.set(n,r)),r}yt(n){let r=this.st.get(n);return r||(r=new Vn(Bt),this.st=this.st.insert(n,r)),r}ht(n){const r=null!==this.dt(n);return r||Re("WatchChangeAggregator","Detected inactive target",n),r}dt(n){const r=this.et.get(n);return r&&r.q?null:this.tt.Et(n)}lt(n){this.et.set(n,new Ac),this.tt.getRemoteKeysForTarget(n).forEach(r=>{this.at(n,r,null)})}gt(n,r){return this.tt.getRemoteKeysForTarget(n).has(r)}}function $_(){return new mr(Qe.comparator)}function kS(){return new mr(Qe.comparator)}const JC={asc:"ASCENDING",desc:"DESCENDING"},XC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class XR{constructor(n,r){this.databaseId=n,this.D=r}}function nt(i,n){return i.D?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function eD(i,n){return i.D?n.toBase64():n.toUint8Array()}function OS(i,n){return nt(i,n.toTimestamp())}function Nr(i){return ht(!!i),Tt.fromTimestamp(function(n){const r=ks(n);return new Ar(r.seconds,r.nanos)}(i))}function vh(i,n){return(r=i,new Gt(["projects",r.projectId,"databases",r.database])).child("documents").child(n).canonicalString();var r}function tD(i){const n=Gt.fromString(i);return ht(dD(n)),n}function tu(i,n){return vh(i.databaseId,n.path)}function ds(i,n){const r=tD(n);if(r.get(1)!==i.databaseId.projectId)throw new Ne(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new Ne(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new Qe(H_(r))}function Cn(i,n){return vh(i.databaseId,n)}function PS(i){const n=tD(i);return 4===n.length?Gt.emptyPath():H_(n)}function bh(i){return new Gt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function H_(i){return ht(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function nD(i,n,r){return{name:tu(i,n),fields:r.value.mapValue.fields}}function Pb(i,n,r){const s=ds(i,n.name),l=Nr(n.updateTime),d=new ti({mapValue:{fields:n.fields}}),g=_n.newFoundDocument(s,l,d);return r&&g.setHasCommittedMutations(),r?g.setHasCommittedMutations():g}function lg(i,n){let r;if(n instanceof sg)r={update:nD(i,n.key,n.value)};else if(n instanceof og)r={delete:tu(i,n.key)};else if(n instanceof eu)r={update:nD(i,n.key,n.data),updateMask:US(n.fieldMask)};else{if(!(n instanceof kb))return Ye();r={verify:tu(i,n.key)}}return n.fieldTransforms.length>0&&(r.updateTransforms=n.fieldTransforms.map(s=>function(l,d){const g=d.transform;if(g instanceof mh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Jl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Xl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Ua)return{fieldPath:d.field.canonicalString(),increment:g.C};throw Ye()}(0,s))),n.precondition.isNone||(r.currentDocument=void 0!==(l=n.precondition).updateTime?{updateTime:OS(i,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:Ye()),r;var l}function sD(i,n){const r=n.currentDocument?void 0!==(l=n.currentDocument).updateTime?Ln.updateTime(Nr(l.updateTime)):void 0!==l.exists?Ln.exists(l.exists):Ln.none():Ln.none(),s=n.updateTransforms?n.updateTransforms.map(l=>function(d,g){let y=null;"setToServerValue"in g?(ht("REQUEST_TIME"===g.setToServerValue),y=new mh):"appendMissingElements"in g?y=new Jl(g.appendMissingElements.values||[]):"removeAllFromArray"in g?y=new Xl(g.removeAllFromArray.values||[]):"increment"in g?y=new Ua(d,g.increment):Ye();const E=pr.fromServerFormat(g.fieldPath);return new _h(E,y)}(i,l)):[];var l;if(n.update){const l=ds(i,n.update.name),d=new ti({mapValue:{fields:n.update.fields}});if(n.updateMask){const g=new zp((n.updateMask.fieldPaths||[]).map(I=>pr.fromServerFormat(I)));return new eu(l,d,g,r,s)}return new sg(l,d,r,s)}if(n.delete){const l=ds(i,n.delete);return new og(l,r)}if(n.verify){const l=ds(i,n.verify);return new kb(l,r)}return Ye()}function oD(i,n){return{documents:[Cn(i,n.path)]}}function wh(i,n){const r={structuredQuery:{}},s=n.path;null!==n.collectionGroup?(r.parent=Cn(i,s),r.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(r.parent=Cn(i,s.popLast()),r.structuredQuery.from=[{collectionId:s.lastSegment()}]);const l=function(y){if(0===y.length)return;const E=y.map(I=>function(S){if("=="===S.op){if(vb(S.value))return{unaryFilter:{field:Eh(S.field),op:"IS_NAN"}};if(yb(S.value))return{unaryFilter:{field:Eh(S.field),op:"IS_NULL"}}}else if("!="===S.op){if(vb(S.value))return{unaryFilter:{field:Eh(S.field),op:"IS_NOT_NAN"}};if(yb(S.value))return{unaryFilter:{field:Eh(S.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Eh(S.field),op:cD(S.op),value:S.value}}}(I));return 1===E.length?E[0]:{compositeFilter:{op:"AND",filters:E}}}(n.filters);l&&(r.structuredQuery.where=l);const d=function(y){if(0!==y.length)return y.map(E=>{return{field:Eh((I=E).field),direction:uD(I.dir)};var I})}(n.orderBy);d&&(r.structuredQuery.orderBy=d);const g=(E=n.limit,i.D||La(E)?E:{value:E});var E;return null!==g&&(r.structuredQuery.limit=g),n.startAt&&(r.structuredQuery.startAt=ug(n.startAt)),n.endAt&&(r.structuredQuery.endAt=ug(n.endAt)),r}function aD(i){let n=PS(i.parent);const r=i.structuredQuery,s=r.from?r.from.length:0;let l=null;if(s>0){ht(1===s);const S=r.from[0];S.allDescendants?l=S.collectionId:n=n.child(S.collectionId)}let d=[];r.where&&(d=lD(r.where));let g=[];r.orderBy&&(g=r.orderBy.map(S=>{return new fh(zo((x=S).field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let y=null;r.limit&&(y=function(S){let x;return x="object"==typeof S?S.value:S,La(x)?null:x}(r.limit));let E=null;r.startAt&&(E=Fb(r.startAt));let I=null;return r.endAt&&(I=Fb(r.endAt)),Tc(n,l,g,d,y,"F",E,I)}function lD(i){return i?void 0!==i.unaryFilter?[VS(i)]:void 0!==i.fieldFilter?[cg(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(n=>lD(n)).reduce((n,r)=>n.concat(r)):Ye():[]}function ug(i){return{before:i.before,values:i.position}}function Fb(i){return new hh(i.values||[],!!i.before)}function uD(i){return JC[i]}function cD(i){return XC[i]}function Eh(i){return{fieldPath:i.canonicalString()}}function zo(i){return pr.fromServerFormat(i.fieldPath)}function cg(i){return ni.create(zo(i.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Ye()}}(i.fieldFilter.op),i.fieldFilter.value)}function VS(i){switch(i.unaryFilter.op){case"IS_NAN":const n=zo(i.unaryFilter.field);return ni.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=zo(i.unaryFilter.field);return ni.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=zo(i.unaryFilter.field);return ni.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=zo(i.unaryFilter.field);return ni.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Ye()}}function US(i){const n=[];return i.fields.forEach(r=>n.push(r.canonicalString())),{fieldPaths:n}}function dD(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function Ls(i){let n="";for(let r=0;r<i.length;r++)n.length>0&&(n=Lb(n)),n=hD(i.get(r),n);return Lb(n)}function hD(i,n){let r=n;const s=i.length;for(let l=0;l<s;l++){const d=i.charAt(l);switch(d){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=d}}return r}function Lb(i){return i+"\x01\x01"}function Ba(i){const n=i.length;if(ht(n>=2),2===n)return ht("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Gt.emptyPath();const r=n-2,s=[];let l="";for(let d=0;d<n;){const g=i.indexOf("\x01",d);switch((g<0||g>r)&&Ye(),i.charAt(g+1)){case"\x01":const y=i.substring(d,g);let E;0===l.length?E=y:(l+=y,E=l,l=""),s.push(E);break;case"\x10":l+=i.substring(d,g),l+="\0";break;case"\x11":l+=i.substring(d,g+1);break;default:Ye()}d=g+2}return new Gt(s)}class fD{constructor(n,r){this.seconds=n,this.nanoseconds=r}}class hs{constructor(n,r,s){this.ownerId=n,this.allowTabSynchronization=r,this.leaseTimestampMs=s}}hs.store="owner",hs.key="owner";class nu{constructor(n,r,s){this.userId=n,this.lastAcknowledgedBatchId=r,this.lastStreamToken=s}}nu.store="mutationQueues",nu.keyPath="userId";class Dn{constructor(n,r,s,l,d){this.userId=n,this.batchId=r,this.localWriteTimeMs=s,this.baseMutations=l,this.mutations=d}}Dn.store="mutations",Dn.keyPath="batchId",Dn.userMutationsIndex="userMutationsIndex",Dn.userMutationsKeyPath=["userId","batchId"];class Di{constructor(){}static prefixForUser(n){return[n]}static prefixForPath(n,r){return[n,Ls(r)]}static key(n,r,s){return[n,Ls(r),s]}}Di.store="documentMutations",Di.PLACEHOLDER=new Di;class ek{constructor(n,r){this.path=n,this.readTime=r}}class tk{constructor(n,r){this.path=n,this.version=r}}class Nn{constructor(n,r,s,l,d,g){this.unknownDocument=n,this.noDocument=r,this.document=s,this.hasCommittedMutations=l,this.readTime=d,this.parentPath=g}}Nn.store="remoteDocuments",Nn.readTimeIndex="readTimeIndex",Nn.readTimeIndexPath="readTime",Nn.collectionReadTimeIndex="collectionReadTimeIndex",Nn.collectionReadTimeIndexPath=["parentPath","readTime"];class fs{constructor(n){this.byteSize=n}}fs.store="remoteDocumentGlobal",fs.key="remoteDocumentGlobalKey";class qi{constructor(n,r,s,l,d,g,y){this.targetId=n,this.canonicalId=r,this.readTime=s,this.resumeToken=l,this.lastListenSequenceNumber=d,this.lastLimboFreeSnapshotVersion=g,this.query=y}}qi.store="targets",qi.keyPath="targetId",qi.queryTargetsIndexName="queryTargetsIndex",qi.queryTargetsKeyPath=["canonicalId","targetId"];class $r{constructor(n,r,s){this.targetId=n,this.path=r,this.sequenceNumber=s}}$r.store="targetDocuments",$r.keyPath=["targetId","path"],$r.documentTargetsIndex="documentTargetsIndex",$r.documentTargetsKeyPath=["path","targetId"];class Zi{constructor(n,r,s,l){this.highestTargetId=n,this.highestListenSequenceNumber=r,this.lastRemoteSnapshotVersion=s,this.targetCount=l}}Zi.key="targetGlobalKey",Zi.store="targetGlobal";class so{constructor(n,r){this.collectionId=n,this.parent=r}}so.store="collectionParents",so.keyPath=["collectionId","parent"];class ja{constructor(n,r,s,l){this.clientId=n,this.updateTimeMs=r,this.networkEnabled=s,this.inForeground=l}}ja.store="clientMetadata",ja.keyPath="clientId";class Ch{constructor(n,r,s){this.bundleId=n,this.createTime=r,this.version=s}}Ch.store="bundles",Ch.keyPath="bundleId";class Dh{constructor(n,r,s){this.name=n,this.readTime=r,this.bundledQuery=s}}Dh.store="namedQueries",Dh.keyPath="name";const BS=[nu.store,Dn.store,Di.store,Nn.store,qi.store,hs.store,Zi.store,$r.store,ja.store,fs.store,so.store,Ch.store,Dh.store],pD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Vb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}class Se{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(n){return this.next(void 0,n)}next(n,r){return this.callbackAttached&&Ye(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(n,this.result):new Se((s,l)=>{this.nextCallback=d=>{this.wrapSuccess(n,d).next(s,l)},this.catchCallback=d=>{this.wrapFailure(r,d).next(s,l)}})}toPromise(){return new Promise((n,r)=>{this.next(n,r)})}wrapUserFunction(n){try{const r=n();return r instanceof Se?r:Se.resolve(r)}catch(r){return Se.reject(r)}}wrapSuccess(n,r){return n?this.wrapUserFunction(()=>n(r)):Se.resolve(r)}wrapFailure(n,r){return n?this.wrapUserFunction(()=>n(r)):Se.reject(r)}static resolve(n){return new Se((r,s)=>{r(n)})}static reject(n){return new Se((r,s)=>{s(n)})}static waitFor(n){return new Se((r,s)=>{let l=0,d=0,g=!1;n.forEach(y=>{++l,y.next(()=>{++d,g&&d===l&&r()},E=>s(E))}),g=!0,d===l&&r()})}static or(n){let r=Se.resolve(!1);for(const s of n)r=r.next(l=>l?Se.resolve(l):s());return r}static forEach(n,r){const s=[];return n.forEach((l,d)=>{s.push(r.call(this,l,d))}),this.waitFor(s)}}class G_{constructor(n,r){this.action=n,this.transaction=r,this.aborted=!1,this.Tt=new Ir,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{r.error?this.Tt.reject(new Th(n,r.error)):this.Tt.resolve()},this.transaction.onerror=s=>{const l=Bb(s.target.error);this.Tt.reject(new Th(n,l))}}static open(n,r,s,l){try{return new G_(r,n.transaction(l,s))}catch(d){throw new Th(r,d)}}get It(){return this.Tt.promise}abort(n){n&&this.Tt.reject(n),this.aborted||(Re("SimpleDb","Aborting transaction:",n?n.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(n){const r=this.transaction.objectStore(n);return new gD(r)}}class ri{constructor(n,r,s){this.name=n,this.version=r,this.At=s,12.2===ri.Rt((0,At.z$)())&&fr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(n){return Re("SimpleDb","Removing database:",n),Nc(window.indexedDB.deleteDatabase(n)).toPromise()}static bt(){if(!(0,At.hl)())return!1;if(ri.Pt())return!0;const n=(0,At.z$)(),r=ri.Rt(n),s=0<r&&r<10,l=ri.vt(n),d=0<l&&l<4.5;return!(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0||n.indexOf("Edge/")>0||s||d)}static Pt(){var n;return"undefined"!=typeof process&&"YES"===(null===(n=process.env)||void 0===n?void 0:n.Vt)}static St(n,r){return n.store(r)}static Rt(n){const r=n.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static vt(n){const r=n.match(/Android ([\d.]+)/i),s=r?r[1].split(".").slice(0,2).join("."):"-1";return Number(s)}Dt(n){var r=this;return(0,ge.Z)(function*(){return r.db||(Re("SimpleDb","Opening database:",r.name),r.db=yield new Promise((s,l)=>{const d=indexedDB.open(r.name,r.version);d.onsuccess=g=>{s(g.target.result)},d.onblocked=()=>{l(new Th(n,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=g=>{const y=g.target.error;l("VersionError"===y.name?new Ne(ce.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===y.name?new Ne(ce.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+y):new Th(n,y))},d.onupgradeneeded=g=>{Re("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',g.oldVersion),r.At.Ct(g.target.result,d.transaction,g.oldVersion,r.version).next(()=>{Re("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.Nt&&(r.db.onversionchange=s=>r.Nt(s)),r.db})()}xt(n){this.Nt=n,this.db&&(this.db.onversionchange=r=>n(r))}runTransaction(n,r,s,l){var d=this;return(0,ge.Z)(function*(){const g="readonly"===r;let y=0;for(;;){++y;try{d.db=yield d.Dt(n);const E=G_.open(d.db,n,g?"readonly":"readwrite",s),I=l(E).catch(S=>(E.abort(S),Se.reject(S))).toPromise();return I.catch(()=>{}),yield E.It,I}catch(E){const I="FirebaseError"!==E.name&&y<3;if(Re("SimpleDb","Transaction failed with error:",E.message,"Retrying:",I),d.close(),!I)return Promise.reject(E)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class jS{constructor(n){this.kt=n,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(n){this.kt=n}done(){this.$t=!0}Mt(n){this.Ot=n}delete(){return Nc(this.kt.delete())}}class Th extends Ne{constructor(n,r){super(ce.UNAVAILABLE,`IndexedDB transaction '${n}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Sc(i){return"IndexedDbTransactionError"===i.name}class gD{constructor(n){this.store=n}put(n,r){let s;return void 0!==r?(Re("SimpleDb","PUT",this.store.name,n,r),s=this.store.put(r,n)):(Re("SimpleDb","PUT",this.store.name,"<auto-key>",n),s=this.store.put(n)),Nc(s)}add(n){return Re("SimpleDb","ADD",this.store.name,n,n),Nc(this.store.add(n))}get(n){return Nc(this.store.get(n)).next(r=>(void 0===r&&(r=null),Re("SimpleDb","GET",this.store.name,n,r),r))}delete(n){return Re("SimpleDb","DELETE",this.store.name,n),Nc(this.store.delete(n))}count(){return Re("SimpleDb","COUNT",this.store.name),Nc(this.store.count())}Lt(n,r){const s=this.cursor(this.options(n,r)),l=[];return this.Bt(s,(d,g)=>{l.push(g)}).next(()=>l)}Ut(n,r){Re("SimpleDb","DELETE ALL",this.store.name);const s=this.options(n,r);s.qt=!1;const l=this.cursor(s);return this.Bt(l,(d,g,y)=>y.delete())}Kt(n,r){let s;r?s=n:(s={},r=n);const l=this.cursor(s);return this.Bt(l,r)}jt(n){const r=this.cursor({});return new Se((s,l)=>{r.onerror=d=>{const g=Bb(d.target.error);l(g)},r.onsuccess=d=>{const g=d.target.result;g?n(g.primaryKey,g.value).next(y=>{y?g.continue():s()}):s()}})}Bt(n,r){const s=[];return new Se((l,d)=>{n.onerror=g=>{d(g.target.error)},n.onsuccess=g=>{const y=g.target.result;if(!y)return void l();const E=new jS(y),I=r(y.primaryKey,y.value,E);if(I instanceof Se){const S=I.catch(x=>(E.done(),Se.reject(x)));s.push(S)}E.isDone?l():null===E.Ft?y.continue():y.continue(E.Ft)}}).next(()=>Se.waitFor(s))}options(n,r){let s;return void 0!==n&&("string"==typeof n?s=n:r=n),{index:s,range:r}}cursor(n){let r="next";if(n.reverse&&(r="prev"),n.index){const s=this.store.index(n.index);return n.qt?s.openKeyCursor(n.range,r):s.openCursor(n.range,r)}return this.store.openCursor(n.range,r)}}function Nc(i){return new Se((n,r)=>{i.onsuccess=s=>{n(s.target.result)},i.onerror=s=>{const l=Bb(s.target.error);r(l)}})}let Ub=!1;function Bb(i){const n=ri.Rt((0,At.z$)());if(n>=12.2&&n<13){const r="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(r)>=0){const s=new Ne("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ub||(Ub=!0,setTimeout(()=>{throw s},0)),s}}return i}class q_ extends Vb{constructor(n,r){super(),this.Qt=n,this.currentSequenceNumber=r}}function zi(i,n){const r=Ue(i);return ri.St(r.Qt,n)}class Z_{constructor(n,r,s,l){this.batchId=n,this.localWriteTime=r,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(n,r){const s=r.mutationResults;for(let l=0;l<this.mutations.length;l++){const d=this.mutations[l];d.key.isEqual(n.key)&&UC(d,n,s[l])}}applyToLocalView(n){for(const r of this.baseMutations)r.key.isEqual(n.key)&&U_(r,n,this.localWriteTime);for(const r of this.mutations)r.key.isEqual(n.key)&&U_(r,n,this.localWriteTime)}applyToLocalDocumentSet(n){this.mutations.forEach(r=>{const s=n.get(r.key),l=s;this.applyToLocalView(l),s.isValidDocument()||l.convertToNoDocument(Tt.min())})}keys(){return this.mutations.reduce((n,r)=>n.add(r.key),Yt())}isEqual(n){return this.batchId===n.batchId&&wc(this.mutations,n.mutations,(r,s)=>Mb(r,s))&&wc(this.baseMutations,n.baseMutations,(r,s)=>Mb(r,s))}}class z_{constructor(n,r,s,l){this.batch=n,this.commitVersion=r,this.mutationResults=s,this.docVersions=l}static from(n,r,s){ht(n.mutations.length===s.length);let l=Ob();const d=n.mutations;for(let g=0;g<d.length;g++)l=l.insert(d[g].key,s[g].version);return new z_(n,r,s,l)}}class ru{constructor(n,r,s,l,d=Tt.min(),g=Tt.min(),y=Sr.EMPTY_BYTE_STRING){this.target=n,this.targetId=r,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=y}withSequenceNumber(n){return new ru(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(n,r){return new ru(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,n)}withLastLimboFreeSnapshotVersion(n){return new ru(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken)}}class mD{constructor(n){this.Wt=n}}function jb(i,n){if(n.document)return Pb(i.Wt,n.document,!!n.hasCommittedMutations);if(n.noDocument){const r=Qe.fromSegments(n.noDocument.path),s=Ah(n.noDocument.readTime),l=_n.newNoDocument(r,s);return n.hasCommittedMutations?l.setHasCommittedMutations():l}if(n.unknownDocument){const r=Qe.fromSegments(n.unknownDocument.path),s=Ah(n.unknownDocument.version);return _n.newUnknownDocument(r,s)}return Ye()}function W_(i,n,r){const s=$b(r),l=n.key.path.popLast().toArray();if(n.isFoundDocument()){const d={name:tu(y=i.Wt,(E=n).key),fields:E.data.value.mapValue.fields,updateTime:nt(y,E.version.toTimestamp())};return new Nn(null,null,d,n.hasCommittedMutations,s,l)}var y,E;if(n.isNoDocument()){const d=n.key.path.toArray(),g=Ih(n.version),y=n.hasCommittedMutations;return new Nn(null,new ek(d,g),null,y,s,l)}if(n.isUnknownDocument()){const d=n.key.path.toArray(),g=Ih(n.version);return new Nn(new tk(d,g),null,null,!0,s,l)}return Ye()}function $b(i){const n=i.toTimestamp();return[n.seconds,n.nanoseconds]}function Hb(i){const n=new Ar(i[0],i[1]);return Tt.fromTimestamp(n)}function Ih(i){const n=i.toTimestamp();return new fD(n.seconds,n.nanoseconds)}function Ah(i){const n=new Ar(i.seconds,i.nanoseconds);return Tt.fromTimestamp(n)}function Sh(i,n){const r=(n.baseMutations||[]).map(d=>sD(i.Wt,d));for(let d=0;d<n.mutations.length-1;++d){const g=n.mutations[d];d+1<n.mutations.length&&void 0!==n.mutations[d+1].transform&&(g.updateTransforms=n.mutations[d+1].transform.fieldTransforms,n.mutations.splice(d+1,1),++d)}const s=n.mutations.map(d=>sD(i.Wt,d)),l=Ar.fromMillis(n.localWriteTimeMs);return new Z_(n.batchId,l,r,s)}function dg(i){const n=Ah(i.readTime),r=void 0!==i.lastLimboFreeSnapshotVersion?Ah(i.lastLimboFreeSnapshotVersion):Tt.min();let s;var l;return void 0!==i.query.documents?(ht(1===(l=i.query).documents.length),s=Gi(ph(PS(l.documents[0])))):s=Gi(aD(i.query)),new ru(s,i.targetId,0,i.lastListenSequenceNumber,n,r,Sr.fromBase64String(i.resumeToken))}function _D(i,n){const r=Ih(n.snapshotVersion),s=Ih(n.lastLimboFreeSnapshotVersion);let l;l=eg(n.target)?oD(i.Wt,n.target):wh(i.Wt,n.target);const d=n.resumeToken.toBase64();return new qi(n.targetId,dh(n.target),r,d,n.sequenceNumber,s,l)}function Gb(i){const n=aD({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?io(n,n.limit,"L"):n}class $S{getBundleMetadata(n,r){return yD(n).get(r).next(s=>{if(s)return{id:(l=s).bundleId,createTime:Ah(l.createTime),version:l.version};var l})}saveBundleMetadata(n,r){return yD(n).put({bundleId:(s=r).id,createTime:Ih(Nr(s.createTime)),version:s.version});var s}getNamedQuery(n,r){return qb(n).get(r).next(s=>{if(s)return{name:(l=s).name,query:Gb(l.bundledQuery),readTime:Ah(l.readTime)};var l})}saveNamedQuery(n,r){return qb(n).put({name:(s=r).name,readTime:Ih(Nr(s.readTime)),bundledQuery:s.bundledQuery});var s}}function yD(i){return zi(i,Ch.store)}function qb(i){return zi(i,Dh.store)}class vD{constructor(){this.Gt=new Y_}addToCollectionParentIndex(n,r){return this.Gt.add(r),Se.resolve()}getCollectionParents(n,r){return Se.resolve(this.Gt.getEntries(r))}}class Y_{constructor(){this.index={}}add(n){const r=n.lastSegment(),s=n.popLast(),l=this.index[r]||new Vn(Gt.comparator),d=!l.has(s);return this.index[r]=l.add(s),d}has(n){const r=n.lastSegment(),s=n.popLast(),l=this.index[r];return l&&l.has(s)}getEntries(n){return(this.index[n]||new Vn(Gt.comparator)).toArray()}}class HS{constructor(){this.zt=new Y_}addToCollectionParentIndex(n,r){if(!this.zt.has(r)){const s=r.lastSegment(),l=r.popLast();n.addOnCommittedListener(()=>{this.zt.add(r)});const d={collectionId:s,parent:Ls(l)};return K_(n).put(d)}return Se.resolve()}getCollectionParents(n,r){const s=[],l=IDBKeyRange.bound([r,""],[wC(r),""],!1,!0);return K_(n).Lt(l).next(d=>{for(const g of d){if(g.collectionId!==r)break;s.push(Ba(g.parent))}return s})}}function K_(i){return zi(i,so.store)}const Zb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Wi{constructor(n,r,s){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}static withCacheSize(n){return new Wi(n,Wi.DEFAULT_COLLECTION_PERCENTILE,Wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function bD(i,n,r){const s=i.store(Dn.store),l=i.store(Di.store),d=[],g=IDBKeyRange.only(r.batchId);let y=0;const E=s.Kt({range:g},(S,x,O)=>(y++,O.delete()));d.push(E.next(()=>{ht(1===y)}));const I=[];for(const S of r.mutations){const x=Di.key(n,S.key.path,r.batchId);d.push(l.delete(x)),I.push(S.key)}return Se.waitFor(d).next(()=>I)}function Nh(i){if(!i)return 0;let n;if(i.document)n=i.document;else if(i.unknownDocument)n=i.unknownDocument;else{if(!i.noDocument)throw Ye();n=i.noDocument}return JSON.stringify(n).length}Wi.DEFAULT_COLLECTION_PERCENTILE=10,Wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wi.DEFAULT=new Wi(41943040,Wi.DEFAULT_COLLECTION_PERCENTILE,Wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wi.DISABLED=new Wi(-1,0,0);class hg{constructor(n,r,s,l){this.userId=n,this.N=r,this.Ht=s,this.referenceDelegate=l,this.Jt={}}static Yt(n,r,s,l){ht(""!==n.uid);const d=n.isAuthenticated()?n.uid:"";return new hg(d,r,s,l)}checkEmpty(n){let r=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Wo(n).Kt({index:Dn.userMutationsIndex,range:s},(l,d,g)=>{r=!1,g.done()}).next(()=>r)}addMutationBatch(n,r,s,l){const d=Mh(n),g=Wo(n);return g.add({}).next(y=>{ht("number"==typeof y);const E=new Z_(y,r,s,l),I=function(O,V,q){const te=q.baseMutations.map(Oe=>lg(O.Wt,Oe)),me=q.mutations.map(Oe=>lg(O.Wt,Oe));return new Dn(V,q.batchId,q.localWriteTime.toMillis(),te,me)}(this.N,this.userId,E),S=[];let x=new Vn((O,V)=>Bt(O.canonicalString(),V.canonicalString()));for(const O of l){const V=Di.key(this.userId,O.key.path,y);x=x.add(O.key.path.popLast()),S.push(g.put(I)),S.push(d.put(V,Di.PLACEHOLDER))}return x.forEach(O=>{S.push(this.Ht.addToCollectionParentIndex(n,O))}),n.addOnCommittedListener(()=>{this.Jt[y]=E.keys()}),Se.waitFor(S).next(()=>E)})}lookupMutationBatch(n,r){return Wo(n).get(r).next(s=>s?(ht(s.userId===this.userId),Sh(this.N,s)):null)}Xt(n,r){return this.Jt[r]?Se.resolve(this.Jt[r]):this.lookupMutationBatch(n,r).next(s=>{if(s){const l=s.keys();return this.Jt[r]=l,l}return null})}getNextMutationBatchAfterBatchId(n,r){const s=r+1,l=IDBKeyRange.lowerBound([this.userId,s]);let d=null;return Wo(n).Kt({index:Dn.userMutationsIndex,range:l},(g,y,E)=>{y.userId===this.userId&&(ht(y.batchId>=s),d=Sh(this.N,y)),E.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(n){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Wo(n).Kt({index:Dn.userMutationsIndex,range:r,reverse:!0},(l,d,g)=>{s=d.batchId,g.done()}).next(()=>s)}getAllMutationBatches(n){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Wo(n).Lt(Dn.userMutationsIndex,r).next(s=>s.map(l=>Sh(this.N,l)))}getAllMutationBatchesAffectingDocumentKey(n,r){const s=Di.prefixForPath(this.userId,r.path),l=IDBKeyRange.lowerBound(s),d=[];return Mh(n).Kt({range:l},(g,y,E)=>{const[I,S,x]=g,O=Ba(S);if(I===this.userId&&r.path.isEqual(O))return Wo(n).get(x).next(V=>{if(!V)throw Ye();ht(V.userId===this.userId),d.push(Sh(this.N,V))});E.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(n,r){let s=new Vn(Bt);const l=[];return r.forEach(d=>{const g=Di.prefixForPath(this.userId,d.path),y=IDBKeyRange.lowerBound(g),E=Mh(n).Kt({range:y},(I,S,x)=>{const[O,V,q]=I,te=Ba(V);O===this.userId&&d.path.isEqual(te)?s=s.add(q):x.done()});l.push(E)}),Se.waitFor(l).next(()=>this.Zt(n,s))}getAllMutationBatchesAffectingQuery(n,r){const s=r.path,l=s.length+1,d=Di.prefixForPath(this.userId,s),g=IDBKeyRange.lowerBound(d);let y=new Vn(Bt);return Mh(n).Kt({range:g},(E,I,S)=>{const[x,O,V]=E,q=Ba(O);x===this.userId&&s.isPrefixOf(q)?q.length===l&&(y=y.add(V)):S.done()}).next(()=>this.Zt(n,y))}Zt(n,r){const s=[],l=[];return r.forEach(d=>{l.push(Wo(n).get(d).next(g=>{if(null===g)throw Ye();ht(g.userId===this.userId),s.push(Sh(this.N,g))}))}),Se.waitFor(l).next(()=>s)}removeMutationBatch(n,r){return bD(n.Qt,this.userId,r).next(s=>(n.addOnCommittedListener(()=>{this.te(r.batchId)}),Se.forEach(s,l=>this.referenceDelegate.markPotentiallyOrphaned(n,l))))}te(n){delete this.Jt[n]}performConsistencyCheck(n){return this.checkEmpty(n).next(r=>{if(!r)return Se.resolve();const s=IDBKeyRange.lowerBound(Di.prefixForUser(this.userId)),l=[];return Mh(n).Kt({range:s},(d,g,y)=>{if(d[0]===this.userId){const E=Ba(d[1]);l.push(E)}else y.done()}).next(()=>{ht(0===l.length)})})}containsKey(n,r){return zb(n,this.userId,r)}ee(n){return wD(n).get(this.userId).next(r=>r||new nu(this.userId,-1,""))}}function zb(i,n,r){const s=Di.prefixForPath(n,r.path),l=s[1],d=IDBKeyRange.lowerBound(s);let g=!1;return Mh(i).Kt({range:d,qt:!0},(y,E,I)=>{const[S,x,O]=y;S===n&&x===l&&(g=!0),I.done()}).next(()=>g)}function Wo(i){return zi(i,Dn.store)}function Mh(i){return zi(i,Di.store)}function wD(i){return zi(i,nu.store)}class $a{constructor(n){this.ne=n}next(){return this.ne+=2,this.ne}static se(){return new $a(0)}static ie(){return new $a(-1)}}class GS{constructor(n,r){this.referenceDelegate=n,this.N=r}allocateTargetId(n){return this.re(n).next(r=>{const s=new $a(r.highestTargetId);return r.highestTargetId=s.next(),this.oe(n,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(n){return this.re(n).next(r=>Tt.fromTimestamp(new Ar(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(n){return this.re(n).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(n,r,s){return this.re(n).next(l=>(l.highestListenSequenceNumber=r,s&&(l.lastRemoteSnapshotVersion=s.toTimestamp()),r>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=r),this.oe(n,l)))}addTargetData(n,r){return this.ae(n,r).next(()=>this.re(n).next(s=>(s.targetCount+=1,this.ce(r,s),this.oe(n,s))))}updateTargetData(n,r){return this.ae(n,r)}removeTargetData(n,r){return this.removeMatchingKeysForTargetId(n,r.targetId).next(()=>Mc(n).delete(r.targetId)).next(()=>this.re(n)).next(s=>(ht(s.targetCount>0),s.targetCount-=1,this.oe(n,s)))}removeTargets(n,r,s){let l=0;const d=[];return Mc(n).Kt((g,y)=>{const E=dg(y);E.sequenceNumber<=r&&null===s.get(E.targetId)&&(l++,d.push(this.removeTargetData(n,E)))}).next(()=>Se.waitFor(d)).next(()=>l)}forEachTarget(n,r){return Mc(n).Kt((s,l)=>{const d=dg(l);r(d)})}re(n){return ED(n).get(Zi.key).next(r=>(ht(null!==r),r))}oe(n,r){return ED(n).put(Zi.key,r)}ae(n,r){return Mc(n).put(_D(this.N,r))}ce(n,r){let s=!1;return n.targetId>r.highestTargetId&&(r.highestTargetId=n.targetId,s=!0),n.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=n.sequenceNumber,s=!0),s}getTargetCount(n){return this.re(n).next(r=>r.targetCount)}getTargetData(n,r){const s=dh(r),l=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let d=null;return Mc(n).Kt({range:l,index:qi.queryTargetsIndexName},(g,y,E)=>{const I=dg(y);Xp(r,I.target)&&(d=I,E.done())}).next(()=>d)}addMatchingKeys(n,r,s){const l=[],d=Ha(n);return r.forEach(g=>{const y=Ls(g.path);l.push(d.put(new $r(s,y))),l.push(this.referenceDelegate.addReference(n,s,g))}),Se.waitFor(l)}removeMatchingKeys(n,r,s){const l=Ha(n);return Se.forEach(r,d=>{const g=Ls(d.path);return Se.waitFor([l.delete([s,g]),this.referenceDelegate.removeReference(n,s,d)])})}removeMatchingKeysForTargetId(n,r){const s=Ha(n),l=IDBKeyRange.bound([r],[r+1],!1,!0);return s.delete(l)}getMatchingKeysForTargetId(n,r){const s=IDBKeyRange.bound([r],[r+1],!1,!0),l=Ha(n);let d=Yt();return l.Kt({range:s,qt:!0},(g,y,E)=>{const I=Ba(g[1]),S=new Qe(I);d=d.add(S)}).next(()=>d)}containsKey(n,r){const s=Ls(r.path),l=IDBKeyRange.bound([s],[wC(s)],!1,!0);let d=0;return Ha(n).Kt({index:$r.documentTargetsIndex,qt:!0,range:l},([g,y],E,I)=>{0!==g&&(d++,I.done())}).next(()=>d>0)}Et(n,r){return Mc(n).get(r).next(s=>s?dg(s):null)}}function Mc(i){return zi(i,qi.store)}function ED(i){return zi(i,Zi.store)}function Ha(i){return zi(i,$r.store)}function iu(i){return Q_.apply(this,arguments)}function Q_(){return(Q_=(0,ge.Z)(function*(i){if(i.code!==ce.FAILED_PRECONDITION||i.message!==pD)throw i;Re("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function qS([i,n],[r,s]){const l=Bt(i,r);return 0===l?Bt(n,s):l}class ZS{constructor(n){this.ue=n,this.buffer=new Vn(qS),this.he=0}le(){return++this.he}fe(n){const r=[n,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();qS(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class xh{constructor(n,r){this.garbageCollector=n,this.asyncQueue=r,this.de=!1,this.we=null}start(n){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(n)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(n){var r=this;const s=this.de?3e5:6e4;Re("LruGarbageCollector",`Garbage collection scheduled in ${s}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",s,(0,ge.Z)(function*(){r.we=null,r.de=!0;try{yield n.collectGarbage(r.garbageCollector)}catch(l){Sc(l)?Re("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",l):yield iu(l)}yield r._e(n)}))}}class nk{constructor(n,r){this.me=n,this.params=r}calculateTargetCount(n,r){return this.me.ge(n).next(s=>Math.floor(r/100*s))}nthSequenceNumber(n,r){if(0===r)return Se.resolve(us.T);const s=new ZS(r);return this.me.forEachTarget(n,l=>s.fe(l.sequenceNumber)).next(()=>this.me.ye(n,l=>s.fe(l))).next(()=>s.maxValue)}removeTargets(n,r,s){return this.me.removeTargets(n,r,s)}removeOrphanedDocuments(n,r){return this.me.removeOrphanedDocuments(n,r)}collect(n,r){return-1===this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector","Garbage collection skipped; disabled"),Se.resolve(Zb)):this.getCacheSize(n).next(s=>s<this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Zb):this.pe(n,r))}getCacheSize(n){return this.me.getCacheSize(n)}pe(n,r){let s,l,d,g,y,E,I;const S=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(Re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),l=this.params.maximumSequenceNumbersToCollect):l=x,g=Date.now(),this.nthSequenceNumber(n,l))).next(x=>(s=x,y=Date.now(),this.removeTargets(n,s,r))).next(x=>(d=x,E=Date.now(),this.removeOrphanedDocuments(n,s))).next(x=>(I=Date.now(),yC()<=Ll.in.DEBUG&&Re("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${g-S}ms\n\tDetermined least recently used ${l} in `+(y-g)+`ms\n\tRemoved ${d} targets in `+(E-y)+`ms\n\tRemoved ${x} documents in `+(I-E)+`ms\nTotal Duration: ${I-S}ms`),Se.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:d,documentsRemoved:x})))}}class Wb{constructor(n,r){this.db=n,this.garbageCollector=new nk(this,r)}ge(n){const r=this.Ee(n);return this.db.getTargetCache().getTargetCount(n).next(s=>r.next(l=>s+l))}Ee(n){let r=0;return this.ye(n,s=>{r++}).next(()=>r)}forEachTarget(n,r){return this.db.getTargetCache().forEachTarget(n,r)}ye(n,r){return this.Te(n,(s,l)=>r(l))}addReference(n,r,s){return xc(n,s)}removeReference(n,r,s){return xc(n,s)}removeTargets(n,r,s){return this.db.getTargetCache().removeTargets(n,r,s)}markPotentiallyOrphaned(n,r){return xc(n,r)}Ie(n,r){return function(s,l){let d=!1;return wD(s).jt(g=>zb(s,g,l).next(y=>(y&&(d=!0),Se.resolve(!y)))).next(()=>d)}(n,r)}removeOrphanedDocuments(n,r){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let d=0;return this.Te(n,(g,y)=>{if(y<=r){const E=this.Ie(n,g).next(I=>{if(!I)return d++,s.getEntry(n,g).next(()=>(s.removeEntry(g),Ha(n).delete([0,Ls(g.path)])))});l.push(E)}}).next(()=>Se.waitFor(l)).next(()=>s.apply(n)).next(()=>d)}removeTarget(n,r){const s=r.withSequenceNumber(n.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(n,s)}updateLimboDocument(n,r){return xc(n,r)}Te(n,r){const s=Ha(n);let l,d=us.T;return s.Kt({index:$r.documentTargetsIndex},([g,y],{path:E,sequenceNumber:I})=>{0===g?(d!==us.T&&r(new Qe(Ba(l)),d),d=I,l=E):d=us.T}).next(()=>{d!==us.T&&r(new Qe(Ba(l)),d)})}getCacheSize(n){return this.db.getRemoteDocumentCache().getSize(n)}}function xc(i,n){return Ha(i).put((s=i.currentSequenceNumber,new $r(0,Ls(n.path),s)));var s}class Rh{constructor(n,r){this.mapKeyFn=n,this.equalsFn=r,this.inner={}}get(n){const r=this.mapKeyFn(n),s=this.inner[r];if(void 0!==s)for(const[l,d]of s)if(this.equalsFn(l,n))return d}has(n){return void 0!==this.get(n)}set(n,r){const s=this.mapKeyFn(n),l=this.inner[s];if(void 0!==l){for(let d=0;d<l.length;d++)if(this.equalsFn(l[d][0],n))return void(l[d]=[n,r]);l.push([n,r])}else this.inner[s]=[[n,r]]}delete(n){const r=this.mapKeyFn(n),s=this.inner[r];if(void 0===s)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],n))return 1===s.length?delete this.inner[r]:s.splice(l,1),!0;return!1}forEach(n){Ec(this.inner,(r,s)=>{for(const[l,d]of s)n(l,d)})}isEmpty(){return gb(this.inner)}}class Rc{constructor(){this.changes=new Rh(n=>n.toString(),(n,r)=>n.isEqual(r)),this.changesApplied=!1}getReadTime(n){const r=this.changes.get(n);return r?r.readTime:Tt.min()}addEntry(n,r){this.assertNotApplied(),this.changes.set(n.key,{document:n,readTime:r})}removeEntry(n,r=null){this.assertNotApplied(),this.changes.set(n,{document:_n.newInvalidDocument(n),readTime:r})}getEntry(n,r){this.assertNotApplied();const s=this.changes.get(r);return void 0!==s?Se.resolve(s.document):this.getFromCache(n,r)}getEntries(n,r){return this.getAllFromCache(n,r)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}class zS{constructor(n,r){this.N=n,this.Ht=r}addEntry(n,r,s){return Hr(n).put(fg(r),s)}removeEntry(n,r){const s=Hr(n),l=fg(r);return s.delete(l)}updateMetadata(n,r){return this.getMetadata(n).next(s=>(s.byteSize+=r,this.Ae(n,s)))}getEntry(n,r){return Hr(n).get(fg(r)).next(s=>this.Re(r,s))}be(n,r){return Hr(n).get(fg(r)).next(s=>({document:this.Re(r,s),size:Nh(s)}))}getEntries(n,r){let s=cs();return this.Pe(n,r,(l,d)=>{const g=this.Re(l,d);s=s.insert(l,g)}).next(()=>s)}ve(n,r){let s=cs(),l=new mr(Qe.comparator);return this.Pe(n,r,(d,g)=>{const y=this.Re(d,g);s=s.insert(d,y),l=l.insert(d,Nh(g))}).next(()=>({documents:s,Ve:l}))}Pe(n,r,s){if(r.isEmpty())return Se.resolve();const l=IDBKeyRange.bound(r.first().path.toArray(),r.last().path.toArray()),d=r.getIterator();let g=d.getNext();return Hr(n).Kt({range:l},(y,E,I)=>{const S=Qe.fromSegments(y);for(;g&&Qe.comparator(g,S)<0;)s(g,null),g=d.getNext();g&&g.isEqual(S)&&(s(g,E),g=d.hasNext()?d.getNext():null),g?I.Mt(g.path.toArray()):I.done()}).next(()=>{for(;g;)s(g,null),g=d.hasNext()?d.getNext():null})}getDocumentsMatchingQuery(n,r,s){let l=cs();const d=r.path.length+1,g={};if(s.isEqual(Tt.min())){const y=r.path.toArray();g.range=IDBKeyRange.lowerBound(y)}else{const y=r.path.toArray(),E=$b(s);g.range=IDBKeyRange.lowerBound([y,E],!0),g.index=Nn.collectionReadTimeIndex}return Hr(n).Kt(g,(y,E,I)=>{if(y.length!==d)return;const S=jb(this.N,E);r.path.isPrefixOf(S.key.path)?Ci(r,S)&&(l=l.insert(S.key,S)):I.done()}).next(()=>l)}newChangeBuffer(n){return new rk(this,!!n&&n.trackRemovals)}getSize(n){return this.getMetadata(n).next(r=>r.byteSize)}getMetadata(n){return CD(n).get(fs.key).next(r=>(ht(!!r),r))}Ae(n,r){return CD(n).put(fs.key,r)}Re(n,r){if(r){const s=jb(this.N,r);if(!s.isNoDocument()||!s.version.isEqual(Tt.min()))return s}return _n.newInvalidDocument(n)}}class rk extends Rc{constructor(n,r){super(),this.Se=n,this.trackRemovals=r,this.De=new Rh(s=>s.toString(),(s,l)=>s.isEqual(l))}applyChanges(n){const r=[];let s=0,l=new Vn((d,g)=>Bt(d.canonicalString(),g.canonicalString()));return this.changes.forEach((d,g)=>{const y=this.De.get(d);if(g.document.isValidDocument()){const E=W_(this.Se.N,g.document,this.getReadTime(d));l=l.add(d.path.popLast()),s+=Nh(E)-y,r.push(this.Se.addEntry(n,d,E))}else if(s-=y,this.trackRemovals){const E=W_(this.Se.N,_n.newNoDocument(d,Tt.min()),this.getReadTime(d));r.push(this.Se.addEntry(n,d,E))}else r.push(this.Se.removeEntry(n,d))}),l.forEach(d=>{r.push(this.Se.Ht.addToCollectionParentIndex(n,d))}),r.push(this.Se.updateMetadata(n,s)),Se.waitFor(r)}getFromCache(n,r){return this.Se.be(n,r).next(s=>(this.De.set(r,s.size),s.document))}getAllFromCache(n,r){return this.Se.ve(n,r).next(({documents:s,Ve:l})=>(l.forEach((d,g)=>{this.De.set(d,g)}),s))}}function CD(i){return zi(i,fs.store)}function Hr(i){return zi(i,Nn.store)}function fg(i){return i.path.toArray()}class ik{constructor(n){this.N=n}Ct(n,r,s,l){ht(s<l&&s>=0&&l<=11);const d=new G_("createOrUpgrade",r);var y;s<1&&l>=1&&(n.createObjectStore(hs.store),(y=n).createObjectStore(nu.store,{keyPath:nu.keyPath}),y.createObjectStore(Dn.store,{keyPath:Dn.keyPath,autoIncrement:!0}).createIndex(Dn.userMutationsIndex,Dn.userMutationsKeyPath,{unique:!0}),y.createObjectStore(Di.store),pg(n),function(y){y.createObjectStore(Nn.store)}(n));let g=Se.resolve();return s<3&&l>=3&&(0!==s&&(function(y){y.deleteObjectStore($r.store),y.deleteObjectStore(qi.store),y.deleteObjectStore(Zi.store)}(n),pg(n)),g=g.next(()=>function(y){const E=y.store(Zi.store),I=new Zi(0,0,Tt.min().toTimestamp(),0);return E.put(Zi.key,I)}(d))),s<4&&l>=4&&(0!==s&&(g=g.next(()=>function(y,E){return E.store(Dn.store).Lt().next(I=>{y.deleteObjectStore(Dn.store),y.createObjectStore(Dn.store,{keyPath:Dn.keyPath,autoIncrement:!0}).createIndex(Dn.userMutationsIndex,Dn.userMutationsKeyPath,{unique:!0});const S=E.store(Dn.store),x=I.map(O=>S.put(O));return Se.waitFor(x)})}(n,d))),g=g.next(()=>{!function(y){y.createObjectStore(ja.store,{keyPath:ja.keyPath})}(n)})),s<5&&l>=5&&(g=g.next(()=>this.Ce(d))),s<6&&l>=6&&(g=g.next(()=>(function(y){y.createObjectStore(fs.store)}(n),this.Ne(d)))),s<7&&l>=7&&(g=g.next(()=>this.xe(d))),s<8&&l>=8&&(g=g.next(()=>this.ke(n,d))),s<9&&l>=9&&(g=g.next(()=>{(function(y){y.objectStoreNames.contains("remoteDocumentChanges")&&y.deleteObjectStore("remoteDocumentChanges")})(n),function(y){const E=y.objectStore(Nn.store);E.createIndex(Nn.readTimeIndex,Nn.readTimeIndexPath,{unique:!1}),E.createIndex(Nn.collectionReadTimeIndex,Nn.collectionReadTimeIndexPath,{unique:!1})}(r)})),s<10&&l>=10&&(g=g.next(()=>this.$e(d))),s<11&&l>=11&&(g=g.next(()=>{(function(y){y.createObjectStore(Ch.store,{keyPath:Ch.keyPath})})(n),function(y){y.createObjectStore(Dh.store,{keyPath:Dh.keyPath})}(n)})),g}Ne(n){let r=0;return n.store(Nn.store).Kt((s,l)=>{r+=Nh(l)}).next(()=>{const s=new fs(r);return n.store(fs.store).put(fs.key,s)})}Ce(n){const r=n.store(nu.store),s=n.store(Dn.store);return r.Lt().next(l=>Se.forEach(l,d=>{const g=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return s.Lt(Dn.userMutationsIndex,g).next(y=>Se.forEach(y,E=>{ht(E.userId===d.userId);const I=Sh(this.N,E);return bD(n,d.userId,I).next(()=>{})}))}))}xe(n){const r=n.store($r.store),s=n.store(Nn.store);return n.store(Zi.store).get(Zi.key).next(l=>{const d=[];return s.Kt((g,y)=>{const E=new Gt(g),I=[0,Ls(E)];d.push(r.get(I).next(S=>S?Se.resolve():r.put(new $r(0,Ls(E),l.highestListenSequenceNumber))))}).next(()=>Se.waitFor(d))})}ke(n,r){n.createObjectStore(so.store,{keyPath:so.keyPath});const s=r.store(so.store),l=new Y_,d=g=>{if(l.add(g)){const y=g.lastSegment(),E=g.popLast();return s.put({collectionId:y,parent:Ls(E)})}};return r.store(Nn.store).Kt({qt:!0},(g,y)=>{const E=new Gt(g);return d(E.popLast())}).next(()=>r.store(Di.store).Kt({qt:!0},([g,y,E],I)=>{const S=Ba(y);return d(S.popLast())}))}$e(n){const r=n.store(qi.store);return r.Kt((s,l)=>{const d=dg(l),g=_D(this.N,d);return r.put(g)})}}function pg(i){i.createObjectStore($r.store,{keyPath:$r.keyPath}).createIndex($r.documentTargetsIndex,$r.documentTargetsKeyPath,{unique:!0}),i.createObjectStore(qi.store,{keyPath:qi.keyPath}).createIndex(qi.queryTargetsIndexName,qi.queryTargetsKeyPath,{unique:!0}),i.createObjectStore(Zi.store)}const Yb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Kb{constructor(n,r,s,l,d,g,y,E,I,S){if(this.allowTabSynchronization=n,this.persistenceKey=r,this.clientId=s,this.Oe=d,this.window=g,this.document=y,this.Fe=I,this.Me=S,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=x=>Promise.resolve(),!Kb.bt())throw new Ne(ce.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Wb(this,l),this.We=r+"main",this.N=new mD(E),this.Ge=new ri(this.We,11,new ik(this.N)),this.ze=new GS(this.referenceDelegate,this.N),this.Ht=new HS,this.He=new zS(this.N,this.Ht),this.Je=new $S,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===S&&fr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ne(ce.FAILED_PRECONDITION,Yb);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",n=>this.ze.getHighestSequenceNumber(n))}).then(n=>{this.Le=new us(n,this.Fe)}).then(()=>{this.Be=!0}).catch(n=>(this.Ge&&this.Ge.close(),Promise.reject(n)))}nn(n){var r=this;return this.Qe=function(){var s=(0,ge.Z)(function*(l){if(r.started)return n(l)});return function(l){return s.apply(this,arguments)}}(),n(this.isPrimary)}setDatabaseDeletedListener(n){this.Ge.xt(function(){var r=(0,ge.Z)(function*(s){null===s.newVersion&&(yield n())});return function(s){return r.apply(this,arguments)}}())}setNetworkEnabled(n){var r=this;this.networkEnabled!==n&&(this.networkEnabled=n,this.Oe.enqueueAndForget((0,ge.Z)(function*(){r.started&&(yield r.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",n=>X_(n).put(new ja(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(n).next(r=>{r||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(n)).next(r=>this.isPrimary&&!r?this.on(n).next(()=>!1):!!r&&this.an(n).next(()=>!0))).catch(n=>{if(Sc(n))return Re("IndexedDbPersistence","Failed to extend owner lease: ",n),this.isPrimary;if(!this.allowTabSynchronization)throw n;return Re("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(n=>{this.isPrimary!==n&&this.Oe.enqueueRetryable(()=>this.Qe(n)),this.isPrimary=n})}sn(n){return J_(n).get(hs.key).next(r=>Se.resolve(this.cn(r)))}un(n){return X_(n).delete(this.clientId)}hn(){var n=this;return(0,ge.Z)(function*(){if(n.isPrimary&&!n.ln(n.je,18e5)){n.je=Date.now();const r=yield n.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const l=zi(s,ja.store);return l.Lt().next(d=>{const g=n.fn(d,18e5),y=d.filter(E=>-1===g.indexOf(E));return Se.forEach(y,E=>l.delete(E.clientId)).next(()=>y)})}).catch(()=>[]);if(n.Ye)for(const s of r)n.Ye.removeItem(n.dn(s.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(n){return!!n&&n.ownerId===this.clientId}rn(n){return this.Me?Se.resolve(!0):J_(n).get(hs.key).next(r=>{if(null!==r&&this.ln(r.leaseTimestampMs,5e3)&&!this.wn(r.ownerId)){if(this.cn(r)&&this.networkEnabled)return!0;if(!this.cn(r)){if(!r.allowTabSynchronization)throw new Ne(ce.FAILED_PRECONDITION,Yb);return!1}}return!(!this.networkEnabled||!this.inForeground)||X_(n).Lt().next(s=>void 0===this.fn(s,5e3).find(l=>{if(this.clientId!==l.clientId){const g=!this.inForeground&&l.inForeground,y=this.networkEnabled===l.networkEnabled;if(!this.networkEnabled&&l.networkEnabled||g&&y)return!0}return!1}))}).next(r=>(this.isPrimary!==r&&Re("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var n=this;return(0,ge.Z)(function*(){n.Be=!1,n._n(),n.Ke&&(n.Ke.cancel(),n.Ke=null),n.mn(),n.gn(),yield n.Ge.runTransaction("shutdown","readwrite",[hs.store,ja.store],r=>{const s=new q_(r,us.T);return n.on(s).next(()=>n.un(s))}),n.Ge.close(),n.yn()})()}fn(n,r){return n.filter(s=>this.ln(s.updateTimeMs,r)&&!this.wn(s.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",n=>X_(n).Lt().next(r=>this.fn(r,18e5).map(s=>s.clientId)))}get started(){return this.Be}getMutationQueue(n){return hg.Yt(n,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(n,r,s){let d;return Re("IndexedDbPersistence","Starting transaction:",n),this.Ge.runTransaction(n,"readonly"===r?"readonly":"readwrite",BS,g=>(d=new q_(g,this.Le?this.Le.next():us.T),"readwrite-primary"===r?this.sn(d).next(y=>!!y||this.rn(d)).next(y=>{if(!y)throw fr(`Failed to obtain primary lease for action '${n}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new Ne(ce.FAILED_PRECONDITION,pD);return s(d)}).next(y=>this.an(d).next(()=>y)):this.En(d).next(()=>s(d)))).then(g=>(d.raiseOnCommittedEvent(),g))}En(n){return J_(n).get(hs.key).next(r=>{if(null!==r&&this.ln(r.leaseTimestampMs,5e3)&&!this.wn(r.ownerId)&&!this.cn(r)&&!(this.Me||this.allowTabSynchronization&&r.allowTabSynchronization))throw new Ne(ce.FAILED_PRECONDITION,Yb)})}an(n){const r=new hs(this.clientId,this.allowTabSynchronization,Date.now());return J_(n).put(hs.key,r)}static bt(){return ri.bt()}on(n){const r=J_(n);return r.get(hs.key).next(s=>this.cn(s)?(Re("IndexedDbPersistence","Releasing primary lease."),r.delete(hs.key)):Se.resolve())}ln(n,r){const s=Date.now();return!(n<s-r||n>s&&(fr(`Detected an update time that is in the future: ${n} > ${s}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var n;"function"==typeof(null===(n=this.window)||void 0===n?void 0:n.addEventListener)&&(this.Ue=()=>{this._n(),(0,At.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(n){var r;try{const s=null!==(null===(r=this.Ye)||void 0===r?void 0:r.getItem(this.dn(n)));return Re("IndexedDbPersistence",`Client '${n}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return fr("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(n){fr("Failed to set zombie client id.",n)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(n){}}dn(n){return`firestore_zombie_${this.persistenceKey}_${n}`}}function J_(i){return zi(i,hs.store)}function X_(i){return zi(i,ja.store)}function Qb(i,n){let r=i.projectId;return i.isDefaultDatabase||(r+="."+i.database),"firestore/"+n+"/"+r+"/"}class WS{constructor(n,r){this.progress=n,this.Tn=r}}class ey{constructor(n,r,s){this.He=n,this.In=r,this.Ht=s}An(n,r){return this.In.getAllMutationBatchesAffectingDocumentKey(n,r).next(s=>this.Rn(n,r,s))}Rn(n,r,s){return this.He.getEntry(n,r).next(l=>{for(const d of s)d.applyToLocalView(l);return l})}bn(n,r){n.forEach((s,l)=>{for(const d of r)d.applyToLocalView(l)})}Pn(n,r){return this.He.getEntries(n,r).next(s=>this.vn(n,s).next(()=>s))}vn(n,r){return this.In.getAllMutationBatchesAffectingDocumentKeys(n,r).next(s=>this.bn(r,s))}getDocumentsMatchingQuery(n,r,s){return Qe.isDocumentKey((l=r).path)&&null===l.collectionGroup&&0===l.filters.length?this.Vn(n,r.path):kC(r)?this.Sn(n,r,s):this.Dn(n,r,s);var l}Vn(n,r){return this.An(n,new Qe(r)).next(s=>{let l=j_();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}Sn(n,r,s){const l=r.collectionGroup;let d=j_();return this.Ht.getCollectionParents(n,l).next(g=>Se.forEach(g,y=>{const E=(I=r,S=y.child(l),new qo(S,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt));var I,S;return this.Dn(n,E,s).next(I=>{I.forEach((S,x)=>{d=d.insert(S,x)})})}).next(()=>d))}Dn(n,r,s){let l,d;return this.He.getDocumentsMatchingQuery(n,r,s).next(g=>(l=g,this.In.getAllMutationBatchesAffectingQuery(n,r))).next(g=>(d=g,this.Cn(n,d,l).next(y=>{l=y;for(const E of d)for(const I of E.mutations){const S=I.key;let x=l.get(S);null==x&&(x=_n.newInvalidDocument(S),l=l.insert(S,x)),U_(I,x,E.localWriteTime),x.isFoundDocument()||(l=l.remove(S))}}))).next(()=>(l.forEach((g,y)=>{Ci(r,y)||(l=l.remove(g))}),l))}Cn(n,r,s){let l=Yt();for(const g of r)for(const y of g.mutations)y instanceof eu&&null===s.get(y.key)&&(l=l.add(y.key));let d=s;return this.He.getEntries(n,l).next(g=>(g.forEach((y,E)=>{E.isFoundDocument()&&(d=d.insert(y,E))}),d))}}class ty{constructor(n,r,s,l){this.targetId=n,this.fromCache=r,this.Nn=s,this.xn=l}static kn(n,r){let s=Yt(),l=Yt();for(const d of r.docChanges)switch(d.type){case 0:s=s.add(d.doc.key);break;case 1:l=l.add(d.doc.key)}return new ty(n,r.fromCache,s,l)}}class ny{$n(n){this.On=n}getDocumentsMatchingQuery(n,r,s,l){return 0===(d=r).filters.length&&null===d.limit&&null==d.startAt&&null==d.endAt&&(0===d.explicitOrderBy.length||1===d.explicitOrderBy.length&&d.explicitOrderBy[0].field.isKeyField())||s.isEqual(Tt.min())?this.Fn(n,r):this.On.Pn(n,l).next(d=>{const g=this.Mn(r,d);return(P_(r)||tg(r))&&this.Ln(r.limitType,g,l,s)?this.Fn(n,r):(yC()<=Ll.in.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ps(r)),this.On.getDocumentsMatchingQuery(n,r,s).next(y=>(g.forEach(E=>{y=y.insert(E.key,E)}),y)))});var d}Mn(n,r){let s=new Vn(Fs(n));return r.forEach((l,d)=>{Ci(n,d)&&(s=s.add(d))}),s}Ln(n,r,s,l){if(s.size!==r.size)return!0;const d="F"===n?r.last():r.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(l)>0)}Fn(n,r){return yC()<=Ll.in.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",Ps(r)),this.On.getDocumentsMatchingQuery(n,r,Tt.min())}}class DD{constructor(n,r,s,l){this.persistence=n,this.Bn=r,this.N=l,this.Un=new mr(Bt),this.qn=new Rh(d=>dh(d),Xp),this.Kn=Tt.min(),this.In=n.getMutationQueue(s),this.jn=n.getRemoteDocumentCache(),this.ze=n.getTargetCache(),this.Qn=new ey(this.jn,this.In,this.persistence.getIndexManager()),this.Je=n.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>n.collect(r,this.Un))}}function TD(i,n,r,s){return new DD(i,n,r,s)}function YS(i,n){return Jb.apply(this,arguments)}function Jb(){return(Jb=(0,ge.Z)(function*(i,n){const r=Ue(i);let s=r.In,l=r.Qn;const d=yield r.persistence.runTransaction("Handle user change","readonly",g=>{let y;return r.In.getAllMutationBatches(g).next(E=>(y=E,s=r.persistence.getMutationQueue(n),l=new ey(r.jn,s,r.persistence.getIndexManager()),s.getAllMutationBatches(g))).next(E=>{const I=[],S=[];let x=Yt();for(const O of y){I.push(O.batchId);for(const V of O.mutations)x=x.add(V.key)}for(const O of E){S.push(O.batchId);for(const V of O.mutations)x=x.add(V.key)}return l.Pn(g,x).next(O=>({Wn:O,removedBatchIds:I,addedBatchIds:S}))})});return r.In=s,r.Qn=l,r.Bn.$n(r.Qn),d})).apply(this,arguments)}function KS(i,n){const r=Ue(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=n.batch.keys(),d=r.jn.newChangeBuffer({trackRemovals:!0});return function(g,y,E,I){const S=E.batch,x=S.keys();let O=Se.resolve();return x.forEach(V=>{O=O.next(()=>I.getEntry(y,V)).next(q=>{const te=E.docVersions.get(V);ht(null!==te),q.version.compareTo(te)<0&&(S.applyToRemoteDocument(q,E),q.isValidDocument()&&I.addEntry(q,E.commitVersion))})}),O.next(()=>g.In.removeMutationBatch(y,S))}(r,s,n,d).next(()=>d.apply(s)).next(()=>r.In.performConsistencyCheck(s)).next(()=>r.Qn.Pn(s,l))})}function ID(i){const n=Ue(i);return n.persistence.runTransaction("Get last remote snapshot version","readonly",r=>n.ze.getLastRemoteSnapshotVersion(r))}function AD(i,n){const r=Ue(i),s=n.snapshotVersion;let l=r.Un;return r.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const g=r.jn.newChangeBuffer({trackRemovals:!0});l=r.Un;const y=[];n.targetChanges.forEach((I,S)=>{const x=l.get(S);if(!x)return;y.push(r.ze.removeMatchingKeys(d,I.removedDocuments,S).next(()=>r.ze.addMatchingKeys(d,I.addedDocuments,S)));const O=I.resumeToken;if(O.approximateByteSize()>0){const V=x.withResumeToken(O,s).withSequenceNumber(d.currentSequenceNumber);l=l.insert(S,V),q=x,me=I,ht((te=V).resumeToken.approximateByteSize()>0),(0===q.resumeToken.approximateByteSize()||te.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=3e8||me.addedDocuments.size+me.modifiedDocuments.size+me.removedDocuments.size>0)&&y.push(r.ze.updateTargetData(d,V))}var q,te,me});let E=cs();if(n.documentUpdates.forEach((I,S)=>{n.resolvedLimboDocuments.has(I)&&y.push(r.persistence.referenceDelegate.updateLimboDocument(d,I))}),y.push(Xb(d,g,n.documentUpdates,s,void 0).next(I=>{E=I})),!s.isEqual(Tt.min())){const I=r.ze.getLastRemoteSnapshotVersion(d).next(S=>r.ze.setTargetsMetadata(d,d.currentSequenceNumber,s));y.push(I)}return Se.waitFor(y).next(()=>g.apply(d)).next(()=>r.Qn.vn(d,E)).next(()=>E)}).then(d=>(r.Un=l,d))}function Xb(i,n,r,s,l){let d=Yt();return r.forEach(g=>d=d.add(g)),n.getEntries(i,d).next(g=>{let y=cs();return r.forEach((E,I)=>{const S=g.get(E),x=(null==l?void 0:l.get(E))||s;I.isNoDocument()&&I.version.isEqual(Tt.min())?(n.removeEntry(E,x),y=y.insert(E,I)):!S.isValidDocument()||I.version.compareTo(S.version)>0||0===I.version.compareTo(S.version)&&S.hasPendingWrites?(n.addEntry(I,x),y=y.insert(E,I)):Re("LocalStore","Ignoring outdated watch update for ",E,". Current version:",S.version," Watch version:",I.version)}),y})}function SD(i,n){const r=Ue(i);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===n&&(n=-1),r.In.getNextMutationBatchAfterBatchId(s,n)))}function kh(i,n){const r=Ue(i);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return r.ze.getTargetData(s,n).next(d=>d?(l=d,Se.resolve(l)):r.ze.allocateTargetId(s).next(g=>(l=new ru(n,g,0,s.currentSequenceNumber),r.ze.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=r.Un.get(s.targetId);return(null===l||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(r.Un=r.Un.insert(s.targetId,s),r.qn.set(n,s.targetId)),s})}function Oh(i,n,r){return ry.apply(this,arguments)}function ry(){return(ry=(0,ge.Z)(function*(i,n,r){const s=Ue(i),l=s.Un.get(n),d=r?"readwrite":"readwrite-primary";try{r||(yield s.persistence.runTransaction("Release target",d,g=>s.persistence.referenceDelegate.removeTarget(g,l)))}catch(g){if(!Sc(g))throw g;Re("LocalStore",`Failed to update sequence numbers for target ${n}: ${g}`)}s.Un=s.Un.remove(n),s.qn.delete(l.target)})).apply(this,arguments)}function kc(i,n,r){const s=Ue(i);let l=Tt.min(),d=Yt();return s.persistence.runTransaction("Execute query","readonly",g=>function(y,E,I){const S=Ue(y),x=S.qn.get(I);return void 0!==x?Se.resolve(S.Un.get(x)):S.ze.getTargetData(E,I)}(s,g,Gi(n)).next(y=>{if(y)return l=y.lastLimboFreeSnapshotVersion,s.ze.getMatchingKeysForTargetId(g,y.targetId).next(E=>{d=E})}).next(()=>s.Bn.getDocumentsMatchingQuery(g,n,r?l:Tt.min(),r?d:Yt())).next(y=>({documents:y,Gn:d})))}function ND(i,n){const r=Ue(i),s=Ue(r.ze),l=r.Un.get(n);return l?Promise.resolve(l.target):r.persistence.runTransaction("Get target data","readonly",d=>s.Et(d,n).next(g=>g?g.target:null))}function e1(i){const n=Ue(i);return n.persistence.runTransaction("Get new document changes","readonly",r=>function(s,l,d){const g=Ue(s);let y=cs(),E=$b(d);const I=Hr(l),S=IDBKeyRange.lowerBound(E,!0);return I.Kt({index:Nn.readTimeIndex,range:S},(x,O)=>{const V=jb(g.N,O);y=y.insert(V.key,V),E=O.readTime}).next(()=>({Tn:y,readTime:Hb(E)}))}(n.jn,r,n.Kn)).then(({Tn:r,readTime:s})=>(n.Kn=s,r))}function Ph(){return(Ph=(0,ge.Z)(function*(i){const n=Ue(i);return n.persistence.runTransaction("Synchronize last document change read time","readonly",r=>function(s){const l=Hr(s);let d=Tt.min();return l.Kt({index:Nn.readTimeIndex,reverse:!0},(g,y,E)=>{y.readTime&&(d=Hb(y.readTime)),E.done()}).next(()=>d)}(r)).then(r=>{n.Kn=r})})).apply(this,arguments)}function t1(){return(t1=(0,ge.Z)(function*(i,n,r,s){const l=Ue(i);let d=Yt(),g=cs(),y=Ob();for(const S of r){const x=n.zn(S.metadata.name);S.document&&(d=d.add(x)),g=g.insert(x,n.Hn(S)),y=y.insert(x,n.Jn(S.metadata.readTime))}const E=l.jn.newChangeBuffer({trackRemovals:!0}),I=yield kh(l,(S=s,Gi(ph(Gt.fromString(`__bundle__/docs/${S}`)))));var S;return l.persistence.runTransaction("Apply bundle documents","readwrite",S=>Xb(S,E,g,Tt.min(),y).next(x=>(E.apply(S),x)).next(x=>l.ze.removeMatchingKeysForTargetId(S,I.targetId).next(()=>l.ze.addMatchingKeys(S,d,I.targetId)).next(()=>l.Qn.vn(S,x)).next(()=>x)))})).apply(this,arguments)}function QS(i,n){return MD.apply(this,arguments)}function MD(){return(MD=(0,ge.Z)(function*(i,n,r=Yt()){const s=yield kh(i,Gi(Gb(n.bundledQuery))),l=Ue(i);return l.persistence.runTransaction("Save named query","readwrite",d=>{const g=Nr(n.readTime);if(s.snapshotVersion.compareTo(g)>=0)return l.Je.saveNamedQuery(d,n);const y=s.withResumeToken(Sr.EMPTY_BYTE_STRING,g);return l.Un=l.Un.insert(y.targetId,y),l.ze.updateTargetData(d,y).next(()=>l.ze.removeMatchingKeysForTargetId(d,s.targetId)).next(()=>l.ze.addMatchingKeys(d,r,s.targetId)).next(()=>l.Je.saveNamedQuery(d,n))})})).apply(this,arguments)}class JS{constructor(n){this.N=n,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(n,r){return Se.resolve(this.Yn.get(r))}saveBundleMetadata(n,r){var s;return this.Yn.set(r.id,{id:(s=r).id,version:s.version,createTime:Nr(s.createTime)}),Se.resolve()}getNamedQuery(n,r){return Se.resolve(this.Xn.get(r))}saveNamedQuery(n,r){return this.Xn.set(r.name,{name:(s=r).name,query:Gb(s.bundledQuery),readTime:Nr(s.readTime)}),Se.resolve();var s}}class n1{constructor(){this.Zn=new Vn(Mr.ts),this.es=new Vn(Mr.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(n,r){const s=new Mr(n,r);this.Zn=this.Zn.add(s),this.es=this.es.add(s)}ss(n,r){n.forEach(s=>this.addReference(s,r))}removeReference(n,r){this.rs(new Mr(n,r))}os(n,r){n.forEach(s=>this.removeReference(s,r))}cs(n){const r=new Qe(new Gt([])),s=new Mr(r,n),l=new Mr(r,n+1),d=[];return this.es.forEachInRange([s,l],g=>{this.rs(g),d.push(g.key)}),d}us(){this.Zn.forEach(n=>this.rs(n))}rs(n){this.Zn=this.Zn.delete(n),this.es=this.es.delete(n)}hs(n){const r=new Qe(new Gt([])),s=new Mr(r,n),l=new Mr(r,n+1);let d=Yt();return this.es.forEachInRange([s,l],g=>{d=d.add(g.key)}),d}containsKey(n){const r=new Mr(n,0),s=this.Zn.firstAfterOrEqual(r);return null!==s&&n.isEqual(s.key)}}class Mr{constructor(n,r){this.key=n,this.ls=r}static ts(n,r){return Qe.comparator(n.key,r.key)||Bt(n.ls,r.ls)}static ns(n,r){return Bt(n.ls,r.ls)||Qe.comparator(n.key,r.key)}}class XS{constructor(n,r){this.Ht=n,this.referenceDelegate=r,this.In=[],this.fs=1,this.ds=new Vn(Mr.ts)}checkEmpty(n){return Se.resolve(0===this.In.length)}addMutationBatch(n,r,s,l){const d=this.fs;this.fs++;const g=new Z_(d,r,s,l);this.In.push(g);for(const y of l)this.ds=this.ds.add(new Mr(y.key,d)),this.Ht.addToCollectionParentIndex(n,y.key.path.popLast());return Se.resolve(g)}lookupMutationBatch(n,r){return Se.resolve(this.ws(r))}getNextMutationBatchAfterBatchId(n,r){const l=this._s(r+1),d=l<0?0:l;return Se.resolve(this.In.length>d?this.In[d]:null)}getHighestUnacknowledgedBatchId(){return Se.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(n){return Se.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(n,r){const s=new Mr(r,0),l=new Mr(r,Number.POSITIVE_INFINITY),d=[];return this.ds.forEachInRange([s,l],g=>{const y=this.ws(g.ls);d.push(y)}),Se.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(n,r){let s=new Vn(Bt);return r.forEach(l=>{const d=new Mr(l,0),g=new Mr(l,Number.POSITIVE_INFINITY);this.ds.forEachInRange([d,g],y=>{s=s.add(y.ls)})}),Se.resolve(this.gs(s))}getAllMutationBatchesAffectingQuery(n,r){const s=r.path,l=s.length+1;let d=s;Qe.isDocumentKey(d)||(d=d.child(""));const g=new Mr(new Qe(d),0);let y=new Vn(Bt);return this.ds.forEachWhile(E=>{const I=E.key.path;return!!s.isPrefixOf(I)&&(I.length===l&&(y=y.add(E.ls)),!0)},g),Se.resolve(this.gs(y))}gs(n){const r=[];return n.forEach(s=>{const l=this.ws(s);null!==l&&r.push(l)}),r}removeMutationBatch(n,r){ht(0===this.ys(r.batchId,"removed")),this.In.shift();let s=this.ds;return Se.forEach(r.mutations,l=>{const d=new Mr(l.key,r.batchId);return s=s.delete(d),this.referenceDelegate.markPotentiallyOrphaned(n,l.key)}).next(()=>{this.ds=s})}te(n){}containsKey(n,r){const s=new Mr(r,0),l=this.ds.firstAfterOrEqual(s);return Se.resolve(r.isEqual(l&&l.key))}performConsistencyCheck(n){return Se.resolve()}ys(n,r){return this._s(n)}_s(n){return 0===this.In.length?0:n-this.In[0].batchId}ws(n){const r=this._s(n);return r<0||r>=this.In.length?null:this.In[r]}}class eN{constructor(n,r){this.Ht=n,this.ps=r,this.docs=new mr(Qe.comparator),this.size=0}addEntry(n,r,s){const l=r.key,d=this.docs.get(l),g=d?d.size:0,y=this.ps(r);return this.docs=this.docs.insert(l,{document:r.clone(),size:y,readTime:s}),this.size+=y-g,this.Ht.addToCollectionParentIndex(n,l.path.popLast())}removeEntry(n){const r=this.docs.get(n);r&&(this.docs=this.docs.remove(n),this.size-=r.size)}getEntry(n,r){const s=this.docs.get(r);return Se.resolve(s?s.document.clone():_n.newInvalidDocument(r))}getEntries(n,r){let s=cs();return r.forEach(l=>{const d=this.docs.get(l);s=s.insert(l,d?d.document.clone():_n.newInvalidDocument(l))}),Se.resolve(s)}getDocumentsMatchingQuery(n,r,s){let l=cs();const d=new Qe(r.path.child("")),g=this.docs.getIteratorFrom(d);for(;g.hasNext();){const{key:y,value:{document:E,readTime:I}}=g.getNext();if(!r.path.isPrefixOf(y.path))break;I.compareTo(s)<=0||Ci(r,E)&&(l=l.insert(E.key,E.clone()))}return Se.resolve(l)}Es(n,r){return Se.forEach(this.docs,s=>r(s))}newChangeBuffer(n){return new tN(this)}getSize(n){return Se.resolve(this.size)}}class tN extends Rc{constructor(n){super(),this.Se=n}applyChanges(n){const r=[];return this.changes.forEach((s,l)=>{l.document.isValidDocument()?r.push(this.Se.addEntry(n,l.document,this.getReadTime(s))):this.Se.removeEntry(s)}),Se.waitFor(r)}getFromCache(n,r){return this.Se.getEntry(n,r)}getAllFromCache(n,r){return this.Se.getEntries(n,r)}}class nN{constructor(n){this.persistence=n,this.Ts=new Rh(r=>dh(r),Xp),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.Is=0,this.As=new n1,this.targetCount=0,this.Rs=$a.se()}forEachTarget(n,r){return this.Ts.forEach((s,l)=>r(l)),Se.resolve()}getLastRemoteSnapshotVersion(n){return Se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return Se.resolve(this.Is)}allocateTargetId(n){return this.highestTargetId=this.Rs.next(),Se.resolve(this.highestTargetId)}setTargetsMetadata(n,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.Is&&(this.Is=r),Se.resolve()}ae(n){this.Ts.set(n.target,n);const r=n.targetId;r>this.highestTargetId&&(this.Rs=new $a(r),this.highestTargetId=r),n.sequenceNumber>this.Is&&(this.Is=n.sequenceNumber)}addTargetData(n,r){return this.ae(r),this.targetCount+=1,Se.resolve()}updateTargetData(n,r){return this.ae(r),Se.resolve()}removeTargetData(n,r){return this.Ts.delete(r.target),this.As.cs(r.targetId),this.targetCount-=1,Se.resolve()}removeTargets(n,r,s){let l=0;const d=[];return this.Ts.forEach((g,y)=>{y.sequenceNumber<=r&&null===s.get(y.targetId)&&(this.Ts.delete(g),d.push(this.removeMatchingKeysForTargetId(n,y.targetId)),l++)}),Se.waitFor(d).next(()=>l)}getTargetCount(n){return Se.resolve(this.targetCount)}getTargetData(n,r){const s=this.Ts.get(r)||null;return Se.resolve(s)}addMatchingKeys(n,r,s){return this.As.ss(r,s),Se.resolve()}removeMatchingKeys(n,r,s){this.As.os(r,s);const l=this.persistence.referenceDelegate,d=[];return l&&r.forEach(g=>{d.push(l.markPotentiallyOrphaned(n,g))}),Se.waitFor(d)}removeMatchingKeysForTargetId(n,r){return this.As.cs(r),Se.resolve()}getMatchingKeysForTargetId(n,r){const s=this.As.hs(r);return Se.resolve(s)}containsKey(n,r){return Se.resolve(this.As.containsKey(r))}}class rN{constructor(n,r){this.bs={},this.Le=new us(0),this.Be=!1,this.Be=!0,this.referenceDelegate=n(this),this.ze=new nN(this),this.Ht=new vD,this.He=new eN(this.Ht,s=>this.referenceDelegate.Ps(s)),this.N=new mD(r),this.Je=new JS(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(n){let r=this.bs[n.toKey()];return r||(r=new XS(this.Ht,this.referenceDelegate),this.bs[n.toKey()]=r),r}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(n,r,s){Re("MemoryPersistence","Starting transaction:",n);const l=new iN(this.Le.next());return this.referenceDelegate.vs(),s(l).next(d=>this.referenceDelegate.Vs(l).next(()=>d)).toPromise().then(d=>(l.raiseOnCommittedEvent(),d))}Ss(n,r){return Se.or(Object.values(this.bs).map(s=>()=>s.containsKey(n,r)))}}class iN extends Vb{constructor(n){super(),this.currentSequenceNumber=n}}class xD{constructor(n){this.persistence=n,this.Ds=new n1,this.Cs=null}static Ns(n){return new xD(n)}get xs(){if(this.Cs)return this.Cs;throw Ye()}addReference(n,r,s){return this.Ds.addReference(s,r),this.xs.delete(s.toString()),Se.resolve()}removeReference(n,r,s){return this.Ds.removeReference(s,r),this.xs.add(s.toString()),Se.resolve()}markPotentiallyOrphaned(n,r){return this.xs.add(r.toString()),Se.resolve()}removeTarget(n,r){this.Ds.cs(r.targetId).forEach(l=>this.xs.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(n,r.targetId).next(l=>{l.forEach(d=>this.xs.add(d.toString()))}).next(()=>s.removeTargetData(n,r))}vs(){this.Cs=new Set}Vs(n){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Se.forEach(this.xs,s=>{const l=Qe.fromPath(s);return this.ks(n,l).next(d=>{d||r.removeEntry(l)})}).next(()=>(this.Cs=null,r.apply(n)))}updateLimboDocument(n,r){return this.ks(n,r).next(s=>{s?this.xs.delete(r.toString()):this.xs.add(r.toString())})}Ps(n){return 0}ks(n,r){return Se.or([()=>Se.resolve(this.Ds.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(n,r),()=>this.persistence.Ss(n,r)])}}function RD(i,n){return`firestore_clients_${i}_${n}`}function Fh(i,n,r){let s=`firestore_mutations_${i}_${r}`;return n.isAuthenticated()&&(s+=`_${n.uid}`),s}function r1(i,n){return`firestore_targets_${i}_${n}`}class sy{constructor(n,r,s,l){this.user=n,this.batchId=r,this.state=s,this.error=l}static $s(n,r,s){const l=JSON.parse(s);let d,g="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return g&&l.error&&(g="string"==typeof l.error.message&&"string"==typeof l.error.code,g&&(d=new Ne(l.error.code,l.error.message))),g?new sy(n,r,l.state,d):(fr("SharedClientState",`Failed to parse mutation state for ID '${r}': ${s}`),null)}Os(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class mg{constructor(n,r,s){this.targetId=n,this.state=r,this.error=s}static $s(n,r){const s=JSON.parse(r);let l,d="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return d&&s.error&&(d="string"==typeof s.error.message&&"string"==typeof s.error.code,d&&(l=new Ne(s.error.code,s.error.message))),d?new mg(n,s.state,l):(fr("SharedClientState",`Failed to parse target state for ID '${n}': ${r}`),null)}Os(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class Oc{constructor(n,r){this.clientId=n,this.activeTargetIds=r}static $s(n,r){const s=JSON.parse(r);let l="object"==typeof s&&s.activeTargetIds instanceof Array,d=ag();for(let g=0;l&&g<s.activeTargetIds.length;++g)l=AS(s.activeTargetIds[g]),d=d.add(s.activeTargetIds[g]);return l?new Oc(n,d):(fr("SharedClientState",`Failed to parse client data for instance '${n}': ${r}`),null)}}class Ga{constructor(n,r){this.clientId=n,this.onlineState=r}static $s(n){const r=JSON.parse(n);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new Ga(r.clientId,r.onlineState):(fr("SharedClientState",`Failed to parse online state: ${n}`),null)}}class oy{constructor(){this.activeTargetIds=ag()}Fs(n){this.activeTargetIds=this.activeTargetIds.add(n)}Ms(n){this.activeTargetIds=this.activeTargetIds.delete(n)}Os(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class i1{constructor(n,r,s,l,d){this.window=n,this.Oe=r,this.persistenceKey=s,this.Ls=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new mr(Bt),this.started=!1,this.Ks=[];const g=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.js=RD(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new oy),this.Ws=new RegExp(`^firestore_clients_${g}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${g}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${g}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(y){return`firestore_bundle_loaded_${y}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(n){return!(!n||!n.localStorage)}start(){var n=this;return(0,ge.Z)(function*(){const r=yield n.syncEngine.pn();for(const l of r){if(l===n.Ls)continue;const d=n.getItem(RD(n.persistenceKey,l));if(d){const g=Oc.$s(l,d);g&&(n.qs=n.qs.insert(g.clientId,g))}}n.Ys();const s=n.storage.getItem(n.Hs);if(s){const l=n.Xs(s);l&&n.Zs(l)}for(const l of n.Ks)n.Us(l);n.Ks=[],n.window.addEventListener("pagehide",()=>n.shutdown()),n.started=!0})()}writeSequenceNumber(n){this.setItem(this.Qs,JSON.stringify(n))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(n){let r=!1;return this.qs.forEach((s,l)=>{l.activeTargetIds.has(n)&&(r=!0)}),r}addPendingMutation(n){this.ei(n,"pending")}updateMutationState(n,r,s){this.ei(n,r,s),this.ni(n)}addLocalQueryTarget(n){let r="not-current";if(this.isActiveQueryTarget(n)){const s=this.storage.getItem(r1(this.persistenceKey,n));if(s){const l=mg.$s(n,s);l&&(r=l.state)}}return this.si.Fs(n),this.Ys(),r}removeLocalQueryTarget(n){this.si.Ms(n),this.Ys()}isLocalQueryTarget(n){return this.si.activeTargetIds.has(n)}clearQueryState(n){this.removeItem(r1(this.persistenceKey,n))}updateQueryState(n,r,s){this.ii(n,r,s)}handleUserChange(n,r,s){r.forEach(l=>{this.ni(l)}),this.currentUser=n,s.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(n){this.ri(n)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(n){const r=this.storage.getItem(n);return Re("SharedClientState","READ",n,r),r}setItem(n,r){Re("SharedClientState","SET",n,r),this.storage.setItem(n,r)}removeItem(n){Re("SharedClientState","REMOVE",n),this.storage.removeItem(n)}Us(n){var r=this;const s=n;if(s.storageArea===this.storage){if(Re("SharedClientState","EVENT",s.key,s.newValue),s.key===this.js)return void fr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,ge.Z)(function*(){if(r.started){if(null!==s.key)if(r.Ws.test(s.key)){if(null==s.newValue){const l=r.ai(s.key);return r.ci(l,null)}{const l=r.ui(s.key,s.newValue);if(l)return r.ci(l.clientId,l)}}else if(r.Gs.test(s.key)){if(null!==s.newValue){const l=r.hi(s.key,s.newValue);if(l)return r.li(l)}}else if(r.zs.test(s.key)){if(null!==s.newValue){const l=r.fi(s.key,s.newValue);if(l)return r.di(l)}}else if(s.key===r.Hs){if(null!==s.newValue){const l=r.Xs(s.newValue);if(l)return r.Zs(l)}}else if(s.key===r.Qs){const l=function(d){let g=us.T;if(null!=d)try{const y=JSON.parse(d);ht("number"==typeof y),g=y}catch(y){fr("SharedClientState","Failed to read sequence number from WebStorage",y)}return g}(s.newValue);l!==us.T&&r.sequenceNumberHandler(l)}else if(s.key===r.Js)return r.syncEngine.wi()}else r.Ks.push(s)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(n,r,s){const l=new sy(this.currentUser,n,r,s),d=Fh(this.persistenceKey,this.currentUser,n);this.setItem(d,l.Os())}ni(n){const r=Fh(this.persistenceKey,this.currentUser,n);this.removeItem(r)}ri(n){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:n}))}ii(n,r,s){const l=r1(this.persistenceKey,n),d=new mg(n,r,s);this.setItem(l,d.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(n){const r=this.Ws.exec(n);return r?r[1]:null}ui(n,r){const s=this.ai(n);return Oc.$s(s,r)}hi(n,r){const s=this.Gs.exec(n),l=Number(s[1]);return sy.$s(new Br(void 0!==s[2]?s[2]:null),l,r)}fi(n,r){const s=this.zs.exec(n),l=Number(s[1]);return mg.$s(l,r)}Xs(n){return Ga.$s(n)}li(n){var r=this;return(0,ge.Z)(function*(){if(n.user.uid===r.currentUser.uid)return r.syncEngine._i(n.batchId,n.state,n.error);Re("SharedClientState",`Ignoring mutation for non-active user ${n.user.uid}`)})()}di(n){return this.syncEngine.mi(n.targetId,n.state,n.error)}ci(n,r){const s=r?this.qs.insert(n,r):this.qs.remove(n),l=this.ti(this.qs),d=this.ti(s),g=[],y=[];return d.forEach(E=>{l.has(E)||g.push(E)}),l.forEach(E=>{d.has(E)||y.push(E)}),this.syncEngine.gi(g,y).then(()=>{this.qs=s})}Zs(n){this.qs.get(n.clientId)&&this.onlineStateHandler(n.onlineState)}ti(n){let r=ag();return n.forEach((s,l)=>{r=r.unionWith(l.activeTargetIds)}),r}}class sN{constructor(){this.yi=new oy,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,r,s){}addLocalQueryTarget(n){return this.yi.Fs(n),this.pi[n]||"not-current"}updateQueryState(n,r,s){this.pi[n]=r}removeLocalQueryTarget(n){this.yi.Ms(n)}isLocalQueryTarget(n){return this.yi.activeTargetIds.has(n)}clearQueryState(n){delete this.pi[n]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(n){return this.yi.activeTargetIds.has(n)}start(){return this.yi=new oy,Promise.resolve()}handleUserChange(n,r,s){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(){}}class oN{Ei(n){}shutdown(){}}class _g{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ei(n){this.bi.push(n)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){Re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const n of this.bi)n(0)}Ri(){Re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const n of this.bi)n(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const aN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class lN{constructor(n){this.vi=n.vi,this.Vi=n.Vi}Si(n){this.Di=n}Ci(n){this.Ni=n}onMessage(n){this.xi=n}close(){this.Vi()}send(n){this.vi(n)}ki(){this.Di()}$i(n){this.Ni(n)}Oi(n){this.xi(n)}}class kD extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId,this.Fi=(n.ssl?"https":"http")+"://"+n.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(n,r,s,l){const d=this.Bi(n,r);Re("RestConnection","Sending: ",d,s);const g={};return this.Ui(g,l),this.qi(n,d,g,s).then(y=>(Re("RestConnection","Received: ",y),y),y=>{throw Gp("RestConnection",`${n} failed with error: `,y,"url: ",d,"request:",s),y})}Ki(n,r,s,l){return this.Li(n,r,s,l)}Ui(n,r){if(n["X-Goog-Api-Client"]="gl-js/ fire/"+vc,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r)for(const s in r.authHeaders)r.authHeaders.hasOwnProperty(s)&&(n[s]=r.authHeaders[s])}Bi(n,r){return`${this.Fi}/v1/${r}:${aN[n]}`}}{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams}qi(n,r,s,l){return new Promise((d,g)=>{const y=new zR;y.listenOnce(_C.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case db.NO_ERROR:const I=y.getResponseJson();Re("Connection","XHR received:",JSON.stringify(I)),d(I);break;case db.TIMEOUT:Re("Connection",'RPC "'+n+'" timed out'),g(new Ne(ce.DEADLINE_EXCEEDED,"Request time out"));break;case db.HTTP_ERROR:const S=y.getStatus();if(Re("Connection",'RPC "'+n+'" failed with status:',S,"response text:",y.getResponseText()),S>0){const x=y.getResponseJson().error;if(x&&x.status&&x.message){const O=function(V){const q=V.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(q)>=0?q:ce.UNKNOWN}(x.status);g(new Ne(O,x.message))}else g(new Ne(ce.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new Ne(ce.UNAVAILABLE,"Connection failed."));break;default:Ye()}}finally{Re("Connection",'RPC "'+n+'" completed.')}});const E=JSON.stringify(l);y.send(r,"POST",E,s,15)})}ji(n,r){const s=[this.Fi,"/","google.firestore.v1.Firestore","/",n,"/channel"],l=wS(),d=ZR(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(g.xmlHttpFactory=new CS({})),this.Ui(g.initMessageHeaders,r),(0,At.uI)()||(0,At.b$)()||(0,At.d)()||(0,At.w1)()||(0,At.Mn)()||(0,At.ru)()||(g.httpHeadersOverwriteParam="$httpHeaders");const y=s.join("");Re("Connection","Creating WebChannel: "+y,g);const E=l.createWebChannel(y,g);let I=!1,S=!1;const x=new lN({vi:V=>{S?Re("Connection","Not sending because WebChannel is closed:",V):(I||(Re("Connection","Opening WebChannel transport."),E.open(),I=!0),Re("Connection","WebChannel sending:",V),E.send(V))},Vi:()=>E.close()}),O=(V,q,te)=>{V.listen(q,me=>{try{te(me)}catch(Oe){setTimeout(()=>{throw Oe},0)}})};return O(E,M_.EventType.OPEN,()=>{S||Re("Connection","WebChannel transport opened.")}),O(E,M_.EventType.CLOSE,()=>{S||(S=!0,Re("Connection","WebChannel transport closed"),x.$i())}),O(E,M_.EventType.ERROR,V=>{S||(S=!0,Gp("Connection","WebChannel transport errored:",V),x.$i(new Ne(ce.UNAVAILABLE,"The operation could not be completed")))}),O(E,M_.EventType.MESSAGE,V=>{var q;if(!S){const te=V.data[0];ht(!!te);const me=te,Oe=me.error||(null===(q=me[0])||void 0===q?void 0:q.error);if(Oe){Re("Connection","WebChannel received error:",Oe);const Pe=Oe.status;let je=function(Ht){const Mn=er[Ht];if(void 0!==Mn)return GC(Mn)}(Pe),He=Oe.message;void 0===je&&(je=ce.INTERNAL,He="Unknown error status: "+Pe+" with message "+Oe.message),S=!0,x.$i(new Ne(je,He)),E.close()}else Re("Connection","WebChannel received:",te),x.Oi(te)}}),O(d,ES.STAT_EVENT,V=>{V.stat===hb.PROXY?Re("Connection","Detected buffering proxy"):V.stat===hb.NOPROXY&&Re("Connection","Detected no buffering proxy")}),setTimeout(()=>{x.ki()},0),x}}function s1(){return"undefined"!=typeof window?window:null}function Lh(){return"undefined"!=typeof document?document:null}function Vh(i){return new XR(i,!0)}class ay{constructor(n,r,s=1e3,l=1.5,d=6e4){this.Oe=n,this.timerId=r,this.Qi=s,this.Wi=l,this.Gi=d,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(n){this.cancel();const r=Math.floor(this.zi+this.Zi()),s=Math.max(0,Date.now()-this.Ji),l=Math.max(0,r-s);l>0&&Re("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.zi} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,l,()=>(this.Ji=Date.now(),n())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class OD{constructor(n,r,s,l,d,g){this.Oe=n,this.er=s,this.nr=l,this.credentialsProvider=d,this.listener=g,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new ay(n,r)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var n=this;return(0,ge.Z)(function*(){n.ar()&&(yield n.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(n){this._r(),this.stream.send(n)}dr(){var n=this;return(0,ge.Z)(function*(){if(n.cr())return n.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(n,r){var s=this;return(0,ge.Z)(function*(){s._r(),s.rr.cancel(),s.sr++,3!==n?s.rr.reset():r&&r.code===ce.RESOURCE_EXHAUSTED?(fr(r.toString()),fr("Using maximum backoff delay to prevent overloading the backend."),s.rr.Yi()):r&&r.code===ce.UNAUTHENTICATED&&s.credentialsProvider.invalidateToken(),null!==s.stream&&(s.mr(),s.stream.close(),s.stream=null),s.state=n,yield s.listener.Ci(r)})()}mr(){}auth(){this.state=1;const n=this.gr(this.sr),r=this.sr;this.credentialsProvider.getToken().then(s=>{this.sr===r&&this.yr(s)},s=>{n(()=>{const l=new Ne(ce.UNKNOWN,"Fetching auth token failed: "+s.message);return this.pr(l)})})}yr(n){const r=this.gr(this.sr);this.stream=this.Er(n),this.stream.Si(()=>{r(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(s=>{r(()=>this.pr(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}ur(){var n=this;this.state=4,this.rr.Xi((0,ge.Z)(function*(){n.state=0,n.start()}))}pr(n){return Re("PersistentStream",`close with error: ${n}`),this.stream=null,this.close(3,n)}gr(n){return r=>{this.Oe.enqueueAndForget(()=>this.sr===n?r():(Re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class uN extends OD{constructor(n,r,s,l,d){super(n,"listen_stream_connection_backoff","listen_stream_idle",r,s,d),this.N=l}Er(n){return this.nr.ji("Listen",n)}onMessage(n){this.rr.reset();const r=function(i,n){let r;if("targetChange"in n){const s="NO_CHANGE"===(E=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===E?1:"REMOVE"===E?2:"CURRENT"===E?3:"RESET"===E?4:Ye(),l=n.targetChange.targetIds||[],d=function(E,I){return E.D?(ht(void 0===I||"string"==typeof I),Sr.fromBase64String(I||"")):(ht(void 0===I||I instanceof Uint8Array),Sr.fromUint8Array(I||new Uint8Array))}(i,n.targetChange.resumeToken),g=n.targetChange.cause,y=g&&function(E){const I=void 0===E.code?ce.UNKNOWN:GC(E.code);return new Ne(I,E.message||"")}(g);r=new QC(s,l,d,y||null)}else if("documentChange"in n){const s=n.documentChange,l=ds(i,s.document.name),d=Nr(s.document.updateTime),g=new ti({mapValue:{fields:s.document.fields}}),y=_n.newFoundDocument(l,d,g);r=new Zo(s.targetIds||[],s.removedTargetIds||[],y.key,y)}else if("documentDelete"in n){const s=n.documentDelete,l=ds(i,s.document),d=s.readTime?Nr(s.readTime):Tt.min(),g=_n.newNoDocument(l,d);r=new Zo([],s.removedTargetIds||[],g.key,g)}else if("documentRemove"in n){const s=n.documentRemove,l=ds(i,s.document);r=new Zo([],s.removedTargetIds||[],l,null)}else{if(!("filter"in n))return Ye();{const s=n.filter,d=new xS(s.count||0);r=new KC(s.targetId,d)}}var E;return r}(this.N,n),s=function(l){if(!("targetChange"in l))return Tt.min();const d=l.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?Nr(d.readTime):Tt.min()}(n);return this.listener.Tr(r,s)}Ir(n){const r={};r.database=bh(this.N),r.addTarget=function(l,d){let g;const y=d.target;return g=eg(y)?{documents:oD(l,y)}:{query:wh(l,y)},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0?g.resumeToken=eD(l,d.resumeToken):d.snapshotVersion.compareTo(Tt.min())>0&&(g.readTime=nt(l,d.snapshotVersion.toTimestamp())),g}(this.N,n);const s=function(i,n){const r=function(s,l){switch(l){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ye()}}(0,n.purpose);return null==r?null:{"goog-listen-tags":r}}(0,n);s&&(r.labels=s),this.wr(r)}Ar(n){const r={};r.database=bh(this.N),r.removeTarget=n,this.wr(r)}}class PD extends OD{constructor(n,r,s,l,d){super(n,"write_stream_connection_backoff","write_stream_idle",r,s,d),this.N=l,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Er(n){return this.nr.ji("Write",n)}onMessage(n){if(ht(!!n.streamToken),this.lastStreamToken=n.streamToken,this.Rr){this.rr.reset();const r=function(i,n){return i&&i.length>0?(ht(void 0!==n),i.map(r=>function(s,l){let d=Nr(s.updateTime?s.updateTime:l);return d.isEqual(Tt.min())&&(d=Nr(l)),new V_(d,s.transformResults||[])}(r,n))):[]}(n.writeResults,n.commitTime),s=Nr(n.commitTime);return this.listener.vr(s,r)}return ht(!n.writeResults||0===n.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const n={};n.database=bh(this.N),this.wr(n)}Pr(n){const r={streamToken:this.lastStreamToken,writes:n.map(s=>lg(this.N,s))};this.wr(r)}}class cN extends class{}{constructor(n,r,s){super(),this.credentials=n,this.nr=r,this.N=s,this.Dr=!1}Cr(){if(this.Dr)throw new Ne(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Li(n,r,s){return this.Cr(),this.credentials.getToken().then(l=>this.nr.Li(n,r,s,l)).catch(l=>{throw"FirebaseError"===l.name?(l.code===ce.UNAUTHENTICATED&&this.credentials.invalidateToken(),l):new Ne(ce.UNKNOWN,l.toString())})}Ki(n,r,s){return this.Cr(),this.credentials.getToken().then(l=>this.nr.Ki(n,r,s,l)).catch(l=>{throw"FirebaseError"===l.name?(l.code===ce.UNAUTHENTICATED&&this.credentials.invalidateToken(),l):new Ne(ce.UNKNOWN,l.toString())})}terminate(){this.Dr=!0}}class FD{constructor(n,r){this.asyncQueue=n,this.onlineStateHandler=r,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(n){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.Fr("Offline")))}set(n){this.Br(),this.Nr=0,"Online"===n&&(this.$r=!1),this.Fr(n)}Fr(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}Mr(n){const r=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(fr(r),this.$r=!1):Re("OnlineStateTracker",r)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class ly{constructor(n,r,s,l,d){var g=this;this.localStore=n,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=d,this.Qr.Ei(y=>{s.enqueueAndForget((0,ge.Z)(function*(){var E;Qo(g)&&(Re("RemoteStore","Restarting streams for network reachability change."),yield(E=(0,ge.Z)(function*(I){const S=Ue(I);S.Kr.add(4),yield Yo(S),S.Wr.set("Unknown"),S.Kr.delete(4),yield su(S)}),function(I){return E.apply(this,arguments)})(g))}))}),this.Wr=new FD(s,l)}}function su(i){return LD.apply(this,arguments)}function LD(){return(LD=(0,ge.Z)(function*(i){if(Qo(i))for(const n of i.jr)yield n(!0)})).apply(this,arguments)}function Yo(i){return qt.apply(this,arguments)}function qt(){return(qt=(0,ge.Z)(function*(i){for(const n of i.jr)yield n(!1)})).apply(this,arguments)}function oo(i,n){const r=Ue(i);r.qr.has(n.targetId)||(r.qr.set(n.targetId,n),Yi(r)?yt(r):Za(r).cr()&&Pc(r,n))}function Ko(i,n){const r=Ue(i),s=Za(r);r.qr.delete(n),s.cr()&&dN(r,n),0===r.qr.size&&(s.cr()?s.lr():Qo(r)&&r.Wr.set("Unknown"))}function Pc(i,n){i.Gr.Y(n.targetId),Za(i).Ir(n)}function dN(i,n){i.Gr.Y(n),Za(i).Ar(n)}function yt(i){i.Gr=new JR({getRemoteKeysForTarget:n=>i.remoteSyncer.getRemoteKeysForTarget(n),Et:n=>i.qr.get(n)||null}),Za(i).start(),i.Wr.Or()}function Yi(i){return Qo(i)&&!Za(i).ar()&&i.qr.size>0}function Qo(i){return 0===Ue(i).Kr.size}function ou(i){i.Gr=void 0}function sk(i){return uy.apply(this,arguments)}function uy(){return(uy=(0,ge.Z)(function*(i){i.qr.forEach((n,r)=>{Pc(i,n)})})).apply(this,arguments)}function VD(i,n){return UD.apply(this,arguments)}function UD(){return(UD=(0,ge.Z)(function*(i,n){ou(i),Yi(i)?(i.Wr.Lr(n),yt(i)):i.Wr.set("Unknown")})).apply(this,arguments)}function hN(i,n,r){return o1.apply(this,arguments)}function o1(){return(o1=(0,ge.Z)(function*(i,n,r){if(i.Wr.set("Online"),n instanceof QC&&2===n.state&&n.cause)try{yield(s=(0,ge.Z)(function*(l,d){const g=d.cause;for(const y of d.targetIds)l.qr.has(y)&&(yield l.remoteSyncer.rejectListen(y,g),l.qr.delete(y),l.Gr.removeTarget(y))}),function(l,d){return s.apply(this,arguments)})(i,n)}catch(s){Re("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),s),yield Ti(i,s)}else if(n instanceof Zo?i.Gr.rt(n):n instanceof KC?i.Gr.ft(n):i.Gr.ct(n),!r.isEqual(Tt.min()))try{const s=yield ID(i.localStore);r.compareTo(s)>=0&&(yield function(l,d){const g=l.Gr._t(d);return g.targetChanges.forEach((y,E)=>{if(y.resumeToken.approximateByteSize()>0){const I=l.qr.get(E);I&&l.qr.set(E,I.withResumeToken(y.resumeToken,d))}}),g.targetMismatches.forEach(y=>{const E=l.qr.get(y);if(!E)return;l.qr.set(y,E.withResumeToken(Sr.EMPTY_BYTE_STRING,E.snapshotVersion)),dN(l,y);const I=new ru(E.target,y,1,E.sequenceNumber);Pc(l,I)}),l.remoteSyncer.applyRemoteEvent(g)}(i,r))}catch(s){Re("RemoteStore","Failed to raise snapshot:",s),yield Ti(i,s)}var s})).apply(this,arguments)}function Ti(i,n,r){return yn.apply(this,arguments)}function yn(){return(yn=(0,ge.Z)(function*(i,n,r){if(!Sc(n))throw n;i.Kr.add(1),yield Yo(i),i.Wr.set("Offline"),r||(r=()=>ID(i.localStore)),i.asyncQueue.enqueueRetryable((0,ge.Z)(function*(){Re("RemoteStore","Retrying IndexedDB access"),yield r(),i.Kr.delete(1),yield su(i)}))})).apply(this,arguments)}function Vs(i,n){return n().catch(r=>Ti(i,r,n))}function Fc(i){return a1.apply(this,arguments)}function a1(){return(a1=(0,ge.Z)(function*(i){const n=Ue(i),r=za(n);let s=n.Ur.length>0?n.Ur[n.Ur.length-1].batchId:-1;for(;BD(n);)try{const l=yield SD(n.localStore,s);if(null===l){0===n.Ur.length&&r.lr();break}s=l.batchId,l1(n,l)}catch(l){yield Ti(n,l)}Lc(n)&&Uh(n)})).apply(this,arguments)}function BD(i){return Qo(i)&&i.Ur.length<10}function l1(i,n){i.Ur.push(n);const r=za(i);r.cr()&&r.br&&r.Pr(n.mutations)}function Lc(i){return Qo(i)&&!za(i).ar()&&i.Ur.length>0}function Uh(i){za(i).start()}function fN(i){return qa.apply(this,arguments)}function qa(){return(qa=(0,ge.Z)(function*(i){za(i).Sr()})).apply(this,arguments)}function pN(i){return cy.apply(this,arguments)}function cy(){return(cy=(0,ge.Z)(function*(i){const n=za(i);for(const r of i.Ur)n.Pr(r.mutations)})).apply(this,arguments)}function u1(i,n,r){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,ge.Z)(function*(i,n,r){const s=i.Ur.shift(),l=z_.from(s,n,r);yield Vs(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),yield Fc(i)})).apply(this,arguments)}function c1(i,n){return dy.apply(this,arguments)}function dy(){return(dy=(0,ge.Z)(function*(i,n){var r;n&&za(i).br&&(yield(r=(0,ge.Z)(function*(s,l){if(HC(d=l.code)&&d!==ce.ABORTED){const g=s.Ur.shift();za(s).hr(),yield Vs(s,()=>s.remoteSyncer.rejectFailedWrite(g.batchId,l)),yield Fc(s)}var d}),function(s,l){return r.apply(this,arguments)})(i,n)),Lc(i)&&Uh(i)})).apply(this,arguments)}function au(i,n){return d1.apply(this,arguments)}function d1(){return(d1=(0,ge.Z)(function*(i,n){const r=Ue(i);n?(r.Kr.delete(2),yield su(r)):n||(r.Kr.add(2),yield Yo(r),r.Wr.set("Unknown"))})).apply(this,arguments)}function Za(i){return i.zr||(i.zr=function(n,r,s){const l=Ue(n);return l.Cr(),new uN(r,l.nr,l.credentials,l.N,s)}(i.datastore,i.asyncQueue,{Si:sk.bind(null,i),Ci:VD.bind(null,i),Tr:hN.bind(null,i)}),i.jr.push(function(){var n=(0,ge.Z)(function*(r){r?(i.zr.hr(),Yi(i)?yt(i):i.Wr.set("Unknown")):(yield i.zr.stop(),ou(i))});return function(r){return n.apply(this,arguments)}}())),i.zr}function za(i){return i.Hr||(i.Hr=function(n,r,s){const l=Ue(n);return l.Cr(),new PD(r,l.nr,l.credentials,l.N,s)}(i.datastore,i.asyncQueue,{Si:fN.bind(null,i),Ci:c1.bind(null,i),Vr:pN.bind(null,i),vr:u1.bind(null,i)}),i.jr.push(function(){var n=(0,ge.Z)(function*(r){r?(i.Hr.hr(),yield Fc(i)):(yield i.Hr.stop(),i.Ur.length>0&&(Re("RemoteStore",`Stopping write stream with ${i.Ur.length} pending writes`),i.Ur=[]))});return function(r){return n.apply(this,arguments)}}())),i.Hr}class hy{constructor(n,r,s,l,d){this.asyncQueue=n,this.timerId=r,this.targetTimeMs=s,this.op=l,this.removalCallback=d,this.deferred=new Ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(g=>{})}static createAndSchedule(n,r,s,l,d){const g=Date.now()+s,y=new hy(n,r,g,l,d);return y.start(s),y}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ne(ce.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Uc(i,n){if(fr("AsyncQueue",`${n}: ${i}`),Sc(i))return new Ne(ce.UNAVAILABLE,`${n}: ${i}`);throw i}class Wa{constructor(n){this.comparator=n?(r,s)=>n(r,s)||Qe.comparator(r.key,s.key):(r,s)=>Qe.comparator(r.key,s.key),this.keyedMap=j_(),this.sortedSet=new mr(this.comparator)}static emptySet(n){return new Wa(n.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const r=this.keyedMap.get(n);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((r,s)=>(n(r),!1))}add(n){const r=this.delete(n.key);return r.copy(r.keyedMap.insert(n.key,n),r.sortedSet.insert(n,null))}delete(n){const r=this.get(n);return r?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(r)):this}isEqual(n){if(!(n instanceof Wa)||this.size!==n.size)return!1;const r=this.sortedSet.getIterator(),s=n.sortedSet.getIterator();for(;r.hasNext();){const l=r.getNext().key,d=s.getNext().key;if(!l.isEqual(d))return!1}return!0}toString(){const n=[];return this.forEach(r=>{n.push(r.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,r){const s=new Wa;return s.comparator=this.comparator,s.keyedMap=n,s.sortedSet=r,s}}class jD{constructor(){this.Jr=new mr(Qe.comparator)}track(n){const r=n.doc.key,s=this.Jr.get(r);s?0!==n.type&&3===s.type?this.Jr=this.Jr.insert(r,n):3===n.type&&1!==s.type?this.Jr=this.Jr.insert(r,{type:s.type,doc:n.doc}):2===n.type&&2===s.type?this.Jr=this.Jr.insert(r,{type:2,doc:n.doc}):2===n.type&&0===s.type?this.Jr=this.Jr.insert(r,{type:0,doc:n.doc}):1===n.type&&0===s.type?this.Jr=this.Jr.remove(r):1===n.type&&2===s.type?this.Jr=this.Jr.insert(r,{type:1,doc:s.doc}):0===n.type&&1===s.type?this.Jr=this.Jr.insert(r,{type:2,doc:n.doc}):Ye():this.Jr=this.Jr.insert(r,n)}Yr(){const n=[];return this.Jr.inorderTraversal((r,s)=>{n.push(s)}),n}}class lu{constructor(n,r,s,l,d,g,y,E){this.query=n,this.docs=r,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=d,this.fromCache=g,this.syncStateChanged=y,this.excludesMetadataChanges=E}static fromInitialDocuments(n,r,s,l){const d=[];return r.forEach(g=>{d.push({type:0,doc:g})}),new lu(n,r,Wa.emptySet(r),d,s,l,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&ng(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const r=this.docChanges,s=n.docChanges;if(r.length!==s.length)return!1;for(let l=0;l<r.length;l++)if(r[l].type!==s[l].type||!r[l].doc.isEqual(s[l].doc))return!1;return!0}}class h1{constructor(){this.Xr=void 0,this.listeners=[]}}class ok{constructor(){this.queries=new Rh(n=>Db(n),ng),this.onlineState="Unknown",this.Zr=new Set}}function $D(i,n){return mt.apply(this,arguments)}function mt(){return(mt=(0,ge.Z)(function*(i,n){const r=Ue(i),s=n.query;let l=!1,d=r.queries.get(s);if(d||(l=!0,d=new h1),l)try{d.Xr=yield r.onListen(s)}catch(g){const y=Uc(g,`Initialization of query '${Ps(n.query)}' failed`);return void n.onError(y)}r.queries.set(s,d),d.listeners.push(n),n.eo(r.onlineState),d.Xr&&n.no(d.Xr)&&f1(r)})).apply(this,arguments)}function HD(i,n){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,ge.Z)(function*(i,n){const r=Ue(i),s=n.query;let l=!1;const d=r.queries.get(s);if(d){const g=d.listeners.indexOf(n);g>=0&&(d.listeners.splice(g,1),l=0===d.listeners.length)}if(l)return r.queries.delete(s),r.onUnlisten(s)})).apply(this,arguments)}function gN(i,n){const r=Ue(i);let s=!1;for(const l of n){const g=r.queries.get(l.query);if(g){for(const y of g.listeners)y.no(l)&&(s=!0);g.Xr=l}}s&&f1(r)}function mN(i,n,r){const s=Ue(i),l=s.queries.get(n);if(l)for(const d of l.listeners)d.onError(r);s.queries.delete(n)}function f1(i){i.Zr.forEach(n=>{n.next()})}class GD{constructor(n,r,s){this.query=n,this.so=r,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=s||{}}no(n){if(!this.options.includeMetadataChanges){const s=[];for(const l of n.docChanges)3!==l.type&&s.push(l);n=new lu(n.query,n.docs,n.oldDocs,s,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0)}let r=!1;return this.io?this.oo(n)&&(this.so.next(n),r=!0):this.ao(n,this.onlineState)&&(this.co(n),r=!0),this.ro=n,r}onError(n){this.so.error(n)}eo(n){this.onlineState=n;let r=!1;return this.ro&&!this.io&&this.ao(this.ro,n)&&(this.co(this.ro),r=!0),r}ao(n,r){return!n.fromCache||!(this.options.uo&&"Offline"!==r||n.docs.isEmpty()&&"Offline"!==r)}oo(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(n){n=lu.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache),this.io=!0,this.so.next(n)}}class ak{constructor(n,r){this.payload=n,this.byteLength=r}ho(){return"metadata"in this.payload}}class qD{constructor(n){this.N=n}zn(n){return ds(this.N,n)}Hn(n){return n.metadata.exists?Pb(this.N,n.document,!1):_n.newNoDocument(this.zn(n.metadata.name),this.Jn(n.metadata.readTime))}Jn(n){return Nr(n)}}class ii{constructor(n,r,s){this.lo=n,this.localStore=r,this.N=s,this.queries=[],this.documents=[],this.progress=ZD(n)}fo(n){this.progress.bytesLoaded+=n.byteLength;let r=this.progress.documentsLoaded;return n.payload.namedQuery?this.queries.push(n.payload.namedQuery):n.payload.documentMetadata?(this.documents.push({metadata:n.payload.documentMetadata}),n.payload.documentMetadata.exists||++r):n.payload.document&&(this.documents[this.documents.length-1].document=n.payload.document,++r),r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}wo(n){const r=new Map,s=new qD(this.N);for(const l of n)if(l.metadata.queries){const d=s.zn(l.metadata.name);for(const g of l.metadata.queries){const y=(r.get(g)||Yt()).add(d);r.set(g,y)}}return r}complete(){var n=this;return(0,ge.Z)(function*(){const r=yield function(i,n,r,s){return t1.apply(this,arguments)}(n.localStore,new qD(n.N),n.documents,n.lo.id),s=n.wo(n.documents);for(const l of n.queries)yield QS(n.localStore,l,s.get(l.name));return n.progress.taskState="Success",new WS(Object.assign({},n.progress),r)})()}}function ZD(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class zD{constructor(n){this.key=n}}class fy{constructor(n){this.key=n}}class WD{constructor(n,r){this.query=n,this._o=r,this.mo=null,this.current=!1,this.yo=Yt(),this.mutatedKeys=Yt(),this.po=Fs(n),this.Eo=new Wa(this.po)}get To(){return this._o}Io(n,r){const s=r?r.Ao:new jD,l=r?r.Eo:this.Eo;let d=r?r.mutatedKeys:this.mutatedKeys,g=l,y=!1;const E=P_(this.query)&&l.size===this.query.limit?l.last():null,I=tg(this.query)&&l.size===this.query.limit?l.first():null;if(n.inorderTraversal((S,x)=>{const O=l.get(S),V=Ci(this.query,x)?x:null,q=!!O&&this.mutatedKeys.has(O.key),te=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let me=!1;O&&V?O.data.isEqual(V.data)?q!==te&&(s.track({type:3,doc:V}),me=!0):this.Ro(O,V)||(s.track({type:2,doc:V}),me=!0,(E&&this.po(V,E)>0||I&&this.po(V,I)<0)&&(y=!0)):!O&&V?(s.track({type:0,doc:V}),me=!0):O&&!V&&(s.track({type:1,doc:O}),me=!0,(E||I)&&(y=!0)),me&&(V?(g=g.add(V),d=te?d.add(S):d.delete(S)):(g=g.delete(S),d=d.delete(S)))}),P_(this.query)||tg(this.query))for(;g.size>this.query.limit;){const S=P_(this.query)?g.last():g.first();g=g.delete(S.key),d=d.delete(S.key),s.track({type:1,doc:S})}return{Eo:g,Ao:s,Ln:y,mutatedKeys:d}}Ro(n,r){return n.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(n,r,s){const l=this.Eo;this.Eo=n.Eo,this.mutatedKeys=n.mutatedKeys;const d=n.Ao.Yr();d.sort((I,S)=>function(x,O){const V=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ye()}};return V(x)-V(O)}(I.type,S.type)||this.po(I.doc,S.doc)),this.bo(s);const g=r?this.Po():[],y=0===this.yo.size&&this.current?1:0,E=y!==this.mo;return this.mo=y,0!==d.length||E?{snapshot:new lu(this.query,n.Eo,l,d,n.mutatedKeys,0===y,E,!1),vo:g}:{vo:g}}eo(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new jD,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(n){return!this._o.has(n)&&!!this.Eo.has(n)&&!this.Eo.get(n).hasLocalMutations}bo(n){n&&(n.addedDocuments.forEach(r=>this._o=this._o.add(r)),n.modifiedDocuments.forEach(r=>{}),n.removedDocuments.forEach(r=>this._o=this._o.delete(r)),this.current=n.current)}Po(){if(!this.current)return[];const n=this.yo;this.yo=Yt(),this.Eo.forEach(s=>{this.Vo(s.key)&&(this.yo=this.yo.add(s.key))});const r=[];return n.forEach(s=>{this.yo.has(s)||r.push(new fy(s))}),this.yo.forEach(s=>{n.has(s)||r.push(new zD(s))}),r}So(n){this._o=n.Gn,this.yo=Yt();const r=this.Io(n.documents);return this.applyChanges(r,!0)}Do(){return lu.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class _N{constructor(n,r,s){this.query=n,this.targetId=r,this.view=s}}class yN{constructor(n){this.key=n,this.Co=!1}}class vN{constructor(n,r,s,l,d,g){this.localStore=n,this.remoteStore=r,this.eventManager=s,this.sharedClientState=l,this.currentUser=d,this.maxConcurrentLimboResolutions=g,this.No={},this.xo=new Rh(y=>Db(y),ng),this.ko=new Map,this.$o=new Set,this.Oo=new mr(Qe.comparator),this.Fo=new Map,this.Mo=new n1,this.Lo={},this.Bo=new Map,this.Uo=$a.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function bN(i,n){return p1.apply(this,arguments)}function p1(){return(p1=(0,ge.Z)(function*(i,n){const r=bg(i);let s,l;const d=r.xo.get(n);if(d)s=d.targetId,r.sharedClientState.addLocalQueryTarget(s),l=d.view.Do();else{const g=yield kh(r.localStore,Gi(n)),y=r.sharedClientState.addLocalQueryTarget(g.targetId);s=g.targetId,l=yield yg(r,n,s,"current"===y),r.isPrimaryClient&&oo(r.remoteStore,g)}return l})).apply(this,arguments)}function yg(i,n,r,s){return g1.apply(this,arguments)}function g1(){return(g1=(0,ge.Z)(function*(i,n,r,s){i.Ko=(S,x,O)=>{return(V=(0,ge.Z)(function*(q,te,me,Oe){let Pe=te.view.Io(me);Pe.Ln&&(Pe=yield kc(q.localStore,te.query,!1).then(({documents:Ht})=>te.view.Io(Ht,Pe)));const je=Oe&&Oe.targetChanges.get(te.targetId),He=te.view.applyChanges(Pe,q.isPrimaryClient,je);return E1(q,te.targetId,He.vo),He.snapshot}),function(q,te,me,Oe){return V.apply(this,arguments)})(i,S,x,O);var V};const l=yield kc(i.localStore,n,!0),d=new WD(n,l.Gn),g=d.Io(l.documents),y=yh.createSynthesizedTargetChangeForCurrentChange(r,s&&"Offline"!==i.onlineState),E=d.applyChanges(g,i.isPrimaryClient,y);E1(i,r,E.vo);const I=new _N(n,r,d);return i.xo.set(n,I),i.ko.has(r)?i.ko.get(r).push(n):i.ko.set(r,[n]),E.snapshot})).apply(this,arguments)}function wN(i,n){return py.apply(this,arguments)}function py(){return(py=(0,ge.Z)(function*(i,n){const r=Ue(i),s=r.xo.get(n),l=r.ko.get(s.targetId);if(l.length>1)return r.ko.set(s.targetId,l.filter(d=>!ng(d,n))),void r.xo.delete(n);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Oh(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),Ko(r.remoteStore,s.targetId),$c(r,s.targetId)}).catch(iu))):($c(r,s.targetId),yield Oh(r.localStore,s.targetId,!0))})).apply(this,arguments)}function _1(){return(_1=(0,ge.Z)(function*(i,n,r){const s=N1(i);try{const l=yield function(d,g){const y=Ue(d),E=Ar.now(),I=g.reduce((x,O)=>x.add(O.key),Yt());let S;return y.persistence.runTransaction("Locally write mutations","readwrite",x=>y.Qn.Pn(x,I).next(O=>{S=O;const V=[];for(const q of g){const te=BC(q,S.get(q.key));null!=te&&V.push(new eu(q.key,te,bb(te.value.mapValue),Ln.exists(!0)))}return y.In.addMutationBatch(x,E,V,g)})).then(x=>(x.applyToLocalDocumentSet(S),{batchId:x.batchId,changes:S}))}(s.localStore,n);s.sharedClientState.addPendingMutation(l.batchId),function(d,g,y){let E=d.Lo[d.currentUser.toKey()];E||(E=new mr(Bt)),E=E.insert(g,y),d.Lo[d.currentUser.toKey()]=E}(s,l.batchId,r),yield Ya(s,l.changes),yield Fc(s.remoteStore)}catch(l){const d=Uc(l,"Failed to persist write");r.reject(d)}})).apply(this,arguments)}function EN(i,n){return y1.apply(this,arguments)}function y1(){return(y1=(0,ge.Z)(function*(i,n){const r=Ue(i);try{const s=yield AD(r.localStore,n);n.targetChanges.forEach((l,d)=>{const g=r.Fo.get(d);g&&(ht(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?g.Co=!0:l.modifiedDocuments.size>0?ht(g.Co):l.removedDocuments.size>0&&(ht(g.Co),g.Co=!1))}),yield Ya(r,s,n)}catch(s){yield iu(s)}})).apply(this,arguments)}function YD(i,n,r){const s=Ue(i);if(s.isPrimaryClient&&0===r||!s.isPrimaryClient&&1===r){const l=[];s.xo.forEach((d,g)=>{const y=g.view.eo(n);y.snapshot&&l.push(y.snapshot)}),function(d,g){const y=Ue(d);y.onlineState=g;let E=!1;y.queries.forEach((I,S)=>{for(const x of S.listeners)x.eo(g)&&(E=!0)}),E&&f1(y)}(s.eventManager,n),l.length&&s.No.Tr(l),s.onlineState=n,s.isPrimaryClient&&s.sharedClientState.setOnlineState(n)}}function CN(i,n,r){return v1.apply(this,arguments)}function v1(){return(v1=(0,ge.Z)(function*(i,n,r){const s=Ue(i);s.sharedClientState.updateQueryState(n,"rejected",r);const l=s.Fo.get(n),d=l&&l.key;if(d){let g=new mr(Qe.comparator);g=g.insert(d,_n.newNoDocument(d,Tt.min()));const y=Yt().add(d),E=new Ic(Tt.min(),new Map,new Vn(Bt),g,y);yield EN(s,E),s.Oo=s.Oo.remove(d),s.Fo.delete(n),C1(s)}else yield Oh(s.localStore,n,!1).then(()=>$c(s,n,r)).catch(iu)})).apply(this,arguments)}function DN(i,n){return b1.apply(this,arguments)}function b1(){return(b1=(0,ge.Z)(function*(i,n){const r=Ue(i),s=n.batch.batchId;try{const l=yield KS(r.localStore,n);KD(r,s,null),jc(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),yield Ya(r,l)}catch(l){yield iu(l)}})).apply(this,arguments)}function vg(i,n,r){return w1.apply(this,arguments)}function w1(){return(w1=(0,ge.Z)(function*(i,n,r){const s=Ue(i);try{const l=yield function(d,g){const y=Ue(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",E=>{let I;return y.In.lookupMutationBatch(E,g).next(S=>(ht(null!==S),I=S.keys(),y.In.removeMutationBatch(E,S))).next(()=>y.In.performConsistencyCheck(E)).next(()=>y.Qn.Pn(E,I))})}(s.localStore,n);KD(s,n,r),jc(s,n),s.sharedClientState.updateMutationState(n,"rejected",r),yield Ya(s,l)}catch(l){yield iu(l)}})).apply(this,arguments)}function gy(){return(gy=(0,ge.Z)(function*(i,n){const r=Ue(i);Qo(r.remoteStore)||Re("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(d){const g=Ue(d);return g.persistence.runTransaction("Get highest unacknowledged batch id","readonly",y=>g.In.getHighestUnacknowledgedBatchId(y))}(r.localStore);if(-1===s)return void n.resolve();const l=r.Bo.get(s)||[];l.push(n),r.Bo.set(s,l)}catch(s){const l=Uc(s,"Initialization of waitForPendingWrites() operation failed");n.reject(l)}})).apply(this,arguments)}function jc(i,n){(i.Bo.get(n)||[]).forEach(r=>{r.resolve()}),i.Bo.delete(n)}function KD(i,n,r){const s=Ue(i);let l=s.Lo[s.currentUser.toKey()];if(l){const d=l.get(n);d&&(r?d.reject(r):d.resolve(),l=l.remove(n)),s.Lo[s.currentUser.toKey()]=l}}function $c(i,n,r=null){i.sharedClientState.removeLocalQueryTarget(n);for(const s of i.ko.get(n))i.xo.delete(s),r&&i.No.jo(s,r);i.ko.delete(n),i.isPrimaryClient&&i.Mo.cs(n).forEach(s=>{i.Mo.containsKey(s)||QD(i,s)})}function QD(i,n){i.$o.delete(n.path.canonicalString());const r=i.Oo.get(n);null!==r&&(Ko(i.remoteStore,r),i.Oo=i.Oo.remove(n),i.Fo.delete(r),C1(i))}function E1(i,n,r){for(const s of r)s instanceof zD?(i.Mo.addReference(s.key,n),IN(i,s)):s instanceof fy?(Re("SyncEngine","Document no longer in limbo: "+s.key),i.Mo.removeReference(s.key,n),i.Mo.containsKey(s.key)||QD(i,s.key)):Ye()}function IN(i,n){const r=n.key,s=r.path.canonicalString();i.Oo.get(r)||i.$o.has(s)||(Re("SyncEngine","New document in limbo: "+r),i.$o.add(s),C1(i))}function C1(i){for(;i.$o.size>0&&i.Oo.size<i.maxConcurrentLimboResolutions;){const n=i.$o.values().next().value;i.$o.delete(n);const r=new Qe(Gt.fromString(n)),s=i.Uo.next();i.Fo.set(s,new yN(r)),i.Oo=i.Oo.insert(r,s),oo(i.remoteStore,new ru(Gi(ph(r.path)),s,2,us.T))}}function Ya(i,n,r){return my.apply(this,arguments)}function my(){return(my=(0,ge.Z)(function*(i,n,r){const s=Ue(i),l=[],d=[],g=[];var y;s.xo.isEmpty()||(s.xo.forEach((y,E)=>{g.push(s.Ko(E,n,r).then(I=>{if(I){s.isPrimaryClient&&s.sharedClientState.updateQueryState(E.targetId,I.fromCache?"not-current":"current"),l.push(I);const S=ty.kn(E.targetId,I);d.push(S)}}))}),yield Promise.all(g),s.No.Tr(l),yield(y=(0,ge.Z)(function*(E,I){const S=Ue(E);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>Se.forEach(I,O=>Se.forEach(O.Nn,V=>S.persistence.referenceDelegate.addReference(x,O.targetId,V)).next(()=>Se.forEach(O.xn,V=>S.persistence.referenceDelegate.removeReference(x,O.targetId,V)))))}catch(x){if(!Sc(x))throw x;Re("LocalStore","Failed to update sequence numbers: "+x)}for(const x of I){const O=x.targetId;if(!x.fromCache){const V=S.Un.get(O),te=V.withLastLimboFreeSnapshotVersion(V.snapshotVersion);S.Un=S.Un.insert(O,te)}}}),function(E,I){return y.apply(this,arguments)})(s.localStore,d))})).apply(this,arguments)}function AN(i,n){return D1.apply(this,arguments)}function D1(){return(D1=(0,ge.Z)(function*(i,n){const r=Ue(i);if(!r.currentUser.isEqual(n)){Re("SyncEngine","User change. New user:",n.toKey());const s=yield YS(r.localStore,n);r.currentUser=n,(l=r).Bo.forEach(g=>{g.forEach(y=>{y.reject(new Ne(ce.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.Bo.clear(),r.sharedClientState.handleUserChange(n,s.removedBatchIds,s.addedBatchIds),yield Ya(r,s.Wn)}var l})).apply(this,arguments)}function lk(i,n){const r=Ue(i),s=r.Fo.get(n);if(s&&s.Co)return Yt().add(s.key);{let l=Yt();const d=r.ko.get(n);if(!d)return l;for(const g of d){const y=r.xo.get(g);l=l.unionWith(y.view.To)}return l}}function uk(i,n){return JD.apply(this,arguments)}function JD(){return(JD=(0,ge.Z)(function*(i,n){const r=Ue(i),s=yield kc(r.localStore,n.query,!0),l=n.view.So(s);return r.isPrimaryClient&&E1(r,n.targetId,l.vo),l})).apply(this,arguments)}function T1(i){return I1.apply(this,arguments)}function I1(){return(I1=(0,ge.Z)(function*(i){const n=Ue(i);return e1(n.localStore).then(r=>Ya(n,r))})).apply(this,arguments)}function SN(i,n,r,s){return A1.apply(this,arguments)}function A1(){return(A1=(0,ge.Z)(function*(i,n,r,s){const l=Ue(i),d=yield function(g,y){const E=Ue(g),I=Ue(E.In);return E.persistence.runTransaction("Lookup mutation documents","readonly",S=>I.Xt(S,y).next(x=>x?E.Qn.Pn(S,x):Se.resolve(null)))}(l.localStore,n);var y;null!==d?("pending"===r?yield Fc(l.remoteStore):"acknowledged"===r||"rejected"===r?(KD(l,n,s||null),jc(l,n),y=n,Ue(Ue(l.localStore).In).te(y)):Ye(),yield Ya(l,d)):Re("SyncEngine","Cannot apply mutation batch with id: "+n)})).apply(this,arguments)}function S1(){return(S1=(0,ge.Z)(function*(i,n){const r=Ue(i);if(bg(r),N1(r),!0===n&&!0!==r.qo){const s=r.sharedClientState.getAllActiveQueryTargets(),l=yield XD(r,s.toArray());r.qo=!0,yield au(r.remoteStore,!0);for(const d of l)oo(r.remoteStore,d)}else if(!1===n&&!1!==r.qo){const s=[];let l=Promise.resolve();r.ko.forEach((d,g)=>{r.sharedClientState.isLocalQueryTarget(g)?s.push(g):l=l.then(()=>($c(r,g),Oh(r.localStore,g,!0))),Ko(r.remoteStore,g)}),yield l,yield XD(r,s),function(d){const g=Ue(d);g.Fo.forEach((y,E)=>{Ko(g.remoteStore,E)}),g.Mo.us(),g.Fo=new Map,g.Oo=new mr(Qe.comparator)}(r),r.qo=!1,yield au(r.remoteStore,!1)}})).apply(this,arguments)}function XD(i,n,r){return _y.apply(this,arguments)}function _y(){return(_y=(0,ge.Z)(function*(i,n,r){const s=Ue(i),l=[],d=[];for(const g of n){let y;const E=s.ko.get(g);if(E&&0!==E.length){y=yield kh(s.localStore,Gi(E[0]));for(const I of E){const S=s.xo.get(I),x=yield uk(s,S);x.snapshot&&d.push(x.snapshot)}}else{const I=yield ND(s.localStore,g);y=yield kh(s.localStore,I),yield yg(s,yy(I),g,!1)}l.push(y)}return s.No.Tr(d),l})).apply(this,arguments)}function yy(i){return Tc(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function MN(i){const n=Ue(i);return Ue(Ue(n.localStore).persistence).pn()}function Bh(i,n,r,s){return xr.apply(this,arguments)}function xr(){return(xr=(0,ge.Z)(function*(i,n,r,s){const l=Ue(i);if(l.qo)Re("SyncEngine","Ignoring unexpected query state notification.");else if(l.ko.has(n))switch(r){case"current":case"not-current":{const d=yield e1(l.localStore),g=Ic.createSynthesizedRemoteEventForCurrentChange(n,"current"===r);yield Ya(l,d,g);break}case"rejected":yield Oh(l.localStore,n,!0),$c(l,n,s);break;default:Ye()}})).apply(this,arguments)}function eT(i,n,r){return ps.apply(this,arguments)}function ps(){return(ps=(0,ge.Z)(function*(i,n,r){const s=bg(i);if(s.qo){for(const l of n){if(s.ko.has(l)){Re("SyncEngine","Adding an already active target "+l);continue}const d=yield ND(s.localStore,l),g=yield kh(s.localStore,d);yield yg(s,yy(d),g.targetId,!1),oo(s.remoteStore,g)}for(const l of r)s.ko.has(l)&&(yield Oh(s.localStore,l,!1).then(()=>{Ko(s.remoteStore,l),$c(s,l)}).catch(iu))}})).apply(this,arguments)}function bg(i){const n=Ue(i);return n.remoteStore.remoteSyncer.applyRemoteEvent=EN.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=lk.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=CN.bind(null,n),n.No.Tr=gN.bind(null,n.eventManager),n.No.jo=mN.bind(null,n.eventManager),n}function N1(i){const n=Ue(i);return n.remoteStore.remoteSyncer.applySuccessfulWrite=DN.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=vg.bind(null,n),n}class M1{constructor(){this.synchronizeTabs=!1}initialize(n){var r=this;return(0,ge.Z)(function*(){r.N=Vh(n.databaseInfo.databaseId),r.sharedClientState=r.Wo(n),r.persistence=r.Go(n),yield r.persistence.start(),r.gcScheduler=r.zo(n),r.localStore=r.Ho(n)})()}zo(n){return null}Ho(n){return TD(this.persistence,new ny,n.initialUser,this.N)}Go(n){return new rN(xD.Ns,this.N)}Wo(n){return new sN}terminate(){var n=this;return(0,ge.Z)(function*(){n.gcScheduler&&n.gcScheduler.stop(),yield n.sharedClientState.shutdown(),yield n.persistence.shutdown()})()}}class x1 extends M1{constructor(n,r,s){super(),this.Jo=n,this.cacheSizeBytes=r,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(n){var r=()=>super.initialize,s=this;return(0,ge.Z)(function*(){yield r().call(s,n),yield function(i){return Ph.apply(this,arguments)}(s.localStore),yield s.Jo.initialize(s,n),yield N1(s.Jo.syncEngine),yield Fc(s.Jo.remoteStore),yield s.persistence.nn(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(s.localStore),Promise.resolve()))})()}Ho(n){return TD(this.persistence,new ny,n.initialUser,this.N)}zo(n){return new xh(this.persistence.referenceDelegate.garbageCollector,n.asyncQueue)}Go(n){const r=Qb(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Wi.withCacheSize(this.cacheSizeBytes):Wi.DEFAULT;return new Kb(this.synchronizeTabs,r,n.clientId,s,n.asyncQueue,s1(),Lh(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(n){return new sN}}class xN extends x1{constructor(n,r){super(n,r,!1),this.Jo=n,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(n){var r=()=>super.initialize,s=this;return(0,ge.Z)(function*(){yield r().call(s,n);const l=s.Jo.syncEngine;s.sharedClientState instanceof i1&&(s.sharedClientState.syncEngine={_i:SN.bind(null,l),mi:Bh.bind(null,l),gi:eT.bind(null,l),pn:MN.bind(null,l),wi:T1.bind(null,l)},yield s.sharedClientState.start()),yield s.persistence.nn(function(){var d=(0,ge.Z)(function*(g){yield function(i,n){return S1.apply(this,arguments)}(s.Jo.syncEngine,g),s.gcScheduler&&(g&&!s.gcScheduler.started?s.gcScheduler.start(s.localStore):g||s.gcScheduler.stop())});return function(g){return d.apply(this,arguments)}}())})()}Wo(n){const r=s1();if(!i1.bt(r))throw new Ne(ce.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=Qb(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new i1(r,n.asyncQueue,s,n.clientId,n.initialUser)}}class R1{initialize(n,r){var s=this;return(0,ge.Z)(function*(){s.localStore||(s.localStore=n.localStore,s.sharedClientState=n.sharedClientState,s.datastore=s.createDatastore(r),s.remoteStore=s.createRemoteStore(r),s.eventManager=s.createEventManager(r),s.syncEngine=s.createSyncEngine(r,!n.synchronizeTabs),s.sharedClientState.onlineStateHandler=l=>YD(s.syncEngine,l,1),s.remoteStore.remoteSyncer.handleCredentialChange=AN.bind(null,s.syncEngine),yield au(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(n){return new ok}createDatastore(n){const r=Vh(n.databaseInfo.databaseId),s=new kD(n.databaseInfo);return new cN(n.credentials,s,r)}createRemoteStore(n){return r=this.localStore,s=this.datastore,l=n.asyncQueue,d=y=>YD(this.syncEngine,y,0),g=_g.bt()?new _g:new oN,new ly(r,s,l,d,g);var r,s,l,d,g}createSyncEngine(n,r){return function(s,l,d,g,y,E,I){const S=new vN(s,l,d,g,y,E);return I&&(S.qo=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return(n=(0,ge.Z)(function*(r){const s=Ue(r);Re("RemoteStore","RemoteStore shutting down."),s.Kr.add(5),yield Yo(s),s.Qr.shutdown(),s.Wr.set("Unknown")}),function(r){return n.apply(this,arguments)})(this.remoteStore);var n}}function nT(i,n=10240){let r=0;return{read:()=>(0,ge.Z)(function*(){if(r<i.byteLength){const s={value:i.slice(r,r+n),done:!1};return r+=n,s}return{done:!0}})(),cancel:()=>(0,ge.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class wg{constructor(n){this.observer=n,this.muted=!1}next(n){this.observer.next&&this.Yo(this.observer.next,n)}error(n){this.observer.error?this.Yo(this.observer.error,n):console.error("Uncaught Error in snapshot listener:",n)}Xo(){this.muted=!0}Yo(n,r){this.muted||setTimeout(()=>{this.muted||n(r)},0)}}class RN{constructor(n,r){this.Zo=n,this.N=r,this.metadata=new Ir,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(s=>{s&&s.ho()?this.metadata.resolve(s.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.payload)}`))},s=>this.metadata.reject(s))}close(){return this.Zo.cancel()}getMetadata(){var n=this;return(0,ge.Z)(function*(){return n.metadata.promise})()}Qo(){var n=this;return(0,ge.Z)(function*(){return yield n.getMetadata(),n.ea()})()}ea(){var n=this;return(0,ge.Z)(function*(){const r=yield n.na();if(null===r)return null;const s=n.ta.decode(r),l=Number(s);isNaN(l)&&n.sa(`length string (${s}) is not valid number`);const d=yield n.ia(l);return new ak(JSON.parse(d),r.length+l)})()}ra(){return this.buffer.findIndex(n=>n==="{".charCodeAt(0))}na(){var n=this;return(0,ge.Z)(function*(){for(;n.ra()<0&&!(yield n.oa()););if(0===n.buffer.length)return null;const r=n.ra();r<0&&n.sa("Reached the end of bundle when a length string is expected.");const s=n.buffer.slice(0,r);return n.buffer=n.buffer.slice(r),s})()}ia(n){var r=this;return(0,ge.Z)(function*(){for(;r.buffer.length<n;)(yield r.oa())&&r.sa("Reached the end of bundle when more is expected.");const s=r.ta.decode(r.buffer.slice(0,n));return r.buffer=r.buffer.slice(n),s})()}sa(n){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${n}`)}oa(){var n=this;return(0,ge.Z)(function*(){const r=yield n.Zo.read();if(!r.done){const s=new Uint8Array(n.buffer.length+r.value.length);s.set(n.buffer),s.set(r.value,n.buffer.length),n.buffer=s}return r.done})()}}class ck{constructor(n){this.datastore=n,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(n){var r=this;return(0,ge.Z)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw new Ne(ce.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(l=(0,ge.Z)(function*(d,g){const y=Ue(d),E=bh(y.N)+"/documents",I={documents:g.map(V=>tu(y.N,V))},S=yield y.Ki("BatchGetDocuments",E,I),x=new Map;S.forEach(V=>{const q=function(i,n){return"found"in n?function(r,s){ht(!!s.found);const l=ds(r,s.found.name),d=Nr(s.found.updateTime),g=new ti({mapValue:{fields:s.found.fields}});return _n.newFoundDocument(l,d,g)}(i,n):"missing"in n?function(r,s){ht(!!s.missing),ht(!!s.readTime);const l=ds(r,s.missing),d=Nr(s.readTime);return _n.newNoDocument(l,d)}(i,n):Ye()}(y.N,V);x.set(q.key.toString(),q)});const O=[];return g.forEach(V=>{const q=x.get(V.toString());ht(!!q),O.push(q)}),O}),function(d,g){return l.apply(this,arguments)})(r.datastore,n);var l;return s.forEach(l=>r.recordVersion(l)),s})()}set(n,r){this.write(r.toMutation(n,this.precondition(n))),this.writtenDocs.add(n.toString())}update(n,r){try{this.write(r.toMutation(n,this.preconditionForUpdate(n)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(n.toString())}delete(n){this.write(new og(n,this.precondition(n))),this.writtenDocs.add(n.toString())}commit(){var n=this;return(0,ge.Z)(function*(){if(n.ensureCommitNotCalled(),n.lastWriteError)throw n.lastWriteError;const r=n.readVersions;var s;n.mutations.forEach(s=>{r.delete(s.key.toString())}),r.forEach((s,l)=>{const d=Qe.fromPath(l);n.mutations.push(new kb(d,n.precondition(d)))}),yield(s=(0,ge.Z)(function*(l,d){const g=Ue(l),y=bh(g.N)+"/documents",E={writes:d.map(I=>lg(g.N,I))};yield g.Li("Commit",y,E)}),function(l,d){return s.apply(this,arguments)})(n.datastore,n.mutations),n.committed=!0})()}recordVersion(n){let r;if(n.isFoundDocument())r=n.version;else{if(!n.isNoDocument())throw Ye();r=Tt.min()}const s=this.readVersions.get(n.key.toString());if(s){if(!r.isEqual(s))throw new Ne(ce.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(n.key.toString(),r)}precondition(n){const r=this.readVersions.get(n.toString());return!this.writtenDocs.has(n.toString())&&r?Ln.updateTime(r):Ln.none()}preconditionForUpdate(n){const r=this.readVersions.get(n.toString());if(!this.writtenDocs.has(n.toString())&&r){if(r.isEqual(Tt.min()))throw new Ne(ce.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ln.updateTime(r)}return Ln.exists(!0)}write(n){this.ensureCommitNotCalled(),this.mutations.push(n)}ensureCommitNotCalled(){}}class kN{constructor(n,r,s,l){this.asyncQueue=n,this.datastore=r,this.updateFunction=s,this.deferred=l,this.aa=5,this.rr=new ay(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var n=this;this.rr.Xi((0,ge.Z)(function*(){const r=new ck(n.datastore),s=n.ua(r);s&&s.then(l=>{n.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{n.deferred.resolve(l)}).catch(d=>{n.ha(d)}))}).catch(l=>{n.ha(l)})}))}ua(n){try{const r=this.updateFunction(n);return!La(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}ha(n){this.aa>0&&this.la(n)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(n)}la(n){if("FirebaseError"===n.name){const r=n.code;return"aborted"===r||"failed-precondition"===r||!HC(r)}return!1}}class ON{constructor(n,r,s){var l=this;this.credentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Br.UNAUTHENTICATED,this.clientId=qp.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(r,function(){var d=(0,ge.Z)(function*(g){Re("FirestoreClient","Received user=",g.uid),yield l.credentialListener(g),l.user=g});return function(g){return d.apply(this,arguments)}}())}getConfiguration(){var n=this;return(0,ge.Z)(function*(){return{asyncQueue:n.asyncQueue,databaseInfo:n.databaseInfo,clientId:n.clientId,credentials:n.credentials,initialUser:n.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(n){this.credentialListener=n}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ne(ce.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const r=new Ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ge.Z)(function*(){try{n.onlineComponents&&(yield n.onlineComponents.terminate()),n.offlineComponents&&(yield n.offlineComponents.terminate()),n.credentials.shutdown(),r.resolve()}catch(s){const l=Uc(s,"Failed to shutdown persistence");r.reject(l)}})),r.promise}}function Hc(i,n){return rT.apply(this,arguments)}function rT(){return(rT=(0,ge.Z)(function*(i,n){i.asyncQueue.verifyOperationInProgress(),Re("FirestoreClient","Initializing OfflineComponentProvider");const r=yield i.getConfiguration();yield n.initialize(r);let s=r.initialUser;i.setCredentialChangeListener(function(){var l=(0,ge.Z)(function*(d){s.isEqual(d)||(yield YS(n.localStore,d),s=d)});return function(d){return l.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=n})).apply(this,arguments)}function k1(i,n){return O1.apply(this,arguments)}function O1(){return(O1=(0,ge.Z)(function*(i,n){i.asyncQueue.verifyOperationInProgress();const r=yield iT(i);Re("FirestoreClient","Initializing OnlineComponentProvider");const s=yield i.getConfiguration();yield n.initialize(r,s),i.setCredentialChangeListener(l=>{return(d=(0,ge.Z)(function*(g,y){const E=Ue(g);E.asyncQueue.verifyOperationInProgress(),Re("RemoteStore","RemoteStore received new credentials");const I=Qo(E);E.Kr.add(3),yield Yo(E),I&&E.Wr.set("Unknown"),yield E.remoteSyncer.handleCredentialChange(y),E.Kr.delete(3),yield su(E)}),function(g,y){return d.apply(this,arguments)})(n.remoteStore,l);var d}),i.onlineComponents=n})).apply(this,arguments)}function iT(i){return vy.apply(this,arguments)}function vy(){return(vy=(0,ge.Z)(function*(i){return i.offlineComponents||(Re("FirestoreClient","Using default OfflineComponentProvider"),yield Hc(i,new M1)),i.offlineComponents})).apply(this,arguments)}function by(i){return Eg.apply(this,arguments)}function Eg(){return(Eg=(0,ge.Z)(function*(i){return i.onlineComponents||(Re("FirestoreClient","Using default OnlineComponentProvider"),yield k1(i,new R1)),i.onlineComponents})).apply(this,arguments)}function sT(i){return iT(i).then(n=>n.persistence)}function wy(i){return iT(i).then(n=>n.localStore)}function P1(i){return by(i).then(n=>n.remoteStore)}function Ey(i){return by(i).then(n=>n.syncEngine)}function jh(i){return F1.apply(this,arguments)}function F1(){return(F1=(0,ge.Z)(function*(i){const n=yield by(i),r=n.eventManager;return r.onListen=bN.bind(null,n.syncEngine),r.onUnlisten=wN.bind(null,n.syncEngine),r})).apply(this,arguments)}function oT(i,n,r={}){const s=new Ir;return i.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function(l,d,g,y,E){const I=new wg({next:x=>{d.enqueueAndForget(()=>HD(l,S));const O=x.docs.has(g);!O&&x.fromCache?E.reject(new Ne(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&x.fromCache&&y&&"server"===y.source?E.reject(new Ne(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):E.resolve(x)},error:x=>E.reject(x)}),S=new GD(ph(g.path),I,{includeMetadataChanges:!0,uo:!0});return $D(l,S)}(yield jh(i),i.asyncQueue,n,r,s)})),s.promise}function L1(i,n,r={}){const s=new Ir;return i.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function(l,d,g,y,E){const I=new wg({next:x=>{d.enqueueAndForget(()=>HD(l,S)),x.fromCache&&"server"===y.source?E.reject(new Ne(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(x)},error:x=>E.reject(x)}),S=new GD(g,I,{includeMetadataChanges:!0,uo:!0});return $D(l,S)}(yield jh(i),i.asyncQueue,n,r,s)})),s.promise}class dT{constructor(n,r,s,l,d,g,y,E){this.databaseId=n,this.appId=r,this.persistenceKey=s,this.host=l,this.ssl=d,this.forceLongPolling=g,this.autoDetectLongPolling=y,this.useFetchStreams=E}}class $h{constructor(n,r){this.projectId=n,this.database=r||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(n){return n instanceof $h&&n.projectId===this.projectId&&n.database===this.database}}const V1=new Map;function U1(i,n,r){if(!r)throw new Ne(ce.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${n}.`)}function hT(i,n,r,s){if(!0===n&&!0===s)throw new Ne(ce.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function fT(i){if(!Qe.isDocumentKey(i))throw new Ne(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function pT(i){if(Qe.isDocumentKey(i))throw new Ne(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function uu(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const n=(r=i).constructor?r.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var r;return"function"==typeof i?"a function":Ye()}function Pt(i,n){if("_delegate"in i&&(i=i._delegate),!(i instanceof n)){if(n.name===i.constructor.name)throw new Ne(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=uu(i);throw new Ne(ce.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${r}`)}}return i}function gT(i,n){if(n<=0)throw new Ne(ce.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${n}.`)}class Cy{constructor(n){var r;if(void 0===n.host){if(void 0!==n.ssl)throw new Ne(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=n.host,this.ssl=null===(r=n.ssl)||void 0===r||r;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new Ne(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!n.experimentalAutoDetectLongPolling,this.useFetchStreams=!!n.useFetchStreams,hT("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling)}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class Ki{constructor(n,r){this._credentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cy({}),this._settingsFrozen=!1,n instanceof $h?this._databaseId=n:(this._app=n,this._databaseId=function(s){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new Ne(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $h(s.options.projectId)}(n))}get app(){if(!this._app)throw new Ne(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new Ne(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cy(n),void 0!==n.credentials&&(this._credentials=function(r){if(!r)return new YR;switch(r.type){case"gapi":const s=r.client;return ht(!("object"!=typeof s||null===s||!s.auth||!s.auth.getAuthHeaderValueForFirstParty)),new vC(s,r.sessionIndex||"0",r.iamToken||null);case"provider":return r.client;default:throw new Ne(ce.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=V1.get(n);r&&(Re("ComponentProvider","Removing Datastore"),V1.delete(n),r.terminate())}(this),Promise.resolve()}}class tn{constructor(n,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jo(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new tn(this.firestore,n,this._key)}}class si{constructor(n,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=n}withConverter(n){return new si(this.firestore,n,this._query)}}class Jo extends si{constructor(n,r,s){super(n,r,ph(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new tn(this.firestore,null,new Qe(n))}withConverter(n){return new Jo(this.firestore,n,this._path)}}function UN(i,n,...r){if(i=(0,At.m9)(i),U1("collection","path",n),i instanceof Ki){const s=Gt.fromString(n,...r);return pT(s),new Jo(i,null,s)}{if(!(i instanceof tn||i instanceof Jo))throw new Ne(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Gt.fromString(n,...r));return pT(s),new Jo(i.firestore,null,s)}}function Hh(i,n,...r){if(i=(0,At.m9)(i),1===arguments.length&&(n=qp.I()),U1("doc","path",n),i instanceof Ki){const s=Gt.fromString(n,...r);return fT(s),new tn(i,null,new Qe(s))}{if(!(i instanceof tn||i instanceof Jo))throw new Ne(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Gt.fromString(n,...r));return fT(s),new tn(i.firestore,i instanceof Jo?i.converter:null,new Qe(s))}}function j1(i,n){return i=(0,At.m9)(i),n=(0,At.m9)(n),(i instanceof tn||i instanceof Jo)&&(n instanceof tn||n instanceof Jo)&&i.firestore===n.firestore&&i.path===n.path&&i.converter===n.converter}function Dy(i,n){return i=(0,At.m9)(i),n=(0,At.m9)(n),i instanceof si&&n instanceof si&&i.firestore===n.firestore&&ng(i._query,n._query)&&i.converter===n.converter}class $1{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new ay(this,"async_queue_retry"),this.Ea=()=>{const r=Lh();r&&Re("AsyncQueue","Visibility state changed to "+r.visibilityState),this.rr.tr()};const n=Lh();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.Ta(),this.Ia(n)}enterRestrictedMode(n){if(!this.wa){this.wa=!0,this.ya=n||!1;const r=Lh();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.Ea)}}enqueue(n){if(this.Ta(),this.wa)return new Promise(()=>{});const r=new Ir;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(n().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.da.push(n),this.Aa()))}Aa(){var n=this;return(0,ge.Z)(function*(){if(0!==n.da.length){try{yield n.da[0](),n.da.shift(),n.rr.reset()}catch(r){if(!Sc(r))throw r;Re("AsyncQueue","Operation failed with retryable error: "+r)}n.da.length>0&&n.rr.Xi(()=>n.Aa())}})()}Ia(n){const r=this.fa.then(()=>(this.ga=!0,n().catch(s=>{throw this.ma=s,this.ga=!1,fr("INTERNAL UNHANDLED ERROR: ",function(l){let d=l.message||"";return l.stack&&(d=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),d}(s)),s}).then(s=>(this.ga=!1,s))));return this.fa=r,r}enqueueAfterDelay(n,r,s){this.Ta(),this.pa.indexOf(n)>-1&&(r=0);const l=hy.createAndSchedule(this,n,r,s,d=>this.Ra(d));return this._a.push(l),l}Ta(){this.ma&&Ye()}verifyOperationInProgress(){}ba(){var n=this;return(0,ge.Z)(function*(){let r;do{r=n.fa,yield r}while(r!==n.fa)})()}Pa(n){for(const r of this._a)if(r.timerId===n)return!0;return!1}va(n){return this.ba().then(()=>{this._a.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this._a)if(r.skipDelay(),"all"!==n&&r.timerId===n)break;return this.ba()})}Va(n){this.pa.push(n)}Ra(n){const r=this._a.indexOf(n);this._a.splice(r,1)}}function H1(i){return function(n,r){if("object"!=typeof n||null===n)return!1;const s=n;for(const l of["next","error","complete"])if(l in s&&"function"==typeof s[l])return!0;return!1}(i)}class BN{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ir,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(n,r,s){this._progressObserver={next:n,error:r,complete:s}}catch(n){return this._taskCompletionResolver.promise.catch(n)}then(n,r){return this._taskCompletionResolver.promise.then(n,r)}_completeWith(n){this._updateProgress(n),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(n)}_failWith(n){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(n),this._taskCompletionResolver.reject(n)}_updateProgress(n){this._lastProgress=n,this._progressObserver.next&&this._progressObserver.next(n)}}class Un extends Ki{constructor(n,r){super(n,r),this.type="firestore",this._queue=new $1,this._persistenceKey="name"in n?n.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||G1(this),this._firestoreClient.terminate()}}function tr(i){return i._firestoreClient||G1(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function G1(i){var n;const r=i._freezeSettings(),s=(d=(null===(n=i._app)||void 0===n?void 0:n.options.appId)||"",new dT(i._databaseId,d,i._persistenceKey,(y=r).host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,y.useFetchStreams));var d,y;i._firestoreClient=new ON(i._credentials,i._queue,s)}function vT(i,n,r){const s=new Ir;return i.asyncQueue.enqueue((0,ge.Z)(function*(){try{yield Hc(i,r),yield k1(i,n),s.resolve()}catch(l){if(!("FirebaseError"===(d=l).name?d.code===ce.FAILED_PRECONDITION||d.code===ce.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw l;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+l),s.reject(l)}var d})).then(()=>s.promise)}function Gc(i){if(i._initialized||i._terminated)throw new Ne(ce.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ka{constructor(...n){for(let r=0;r<n.length;++r)if(0===n[r].length)throw new Ne(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pr(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class Qa{constructor(n){this._byteString=n}static fromBase64String(n){try{return new Qa(Sr.fromBase64String(n))}catch(r){throw new Ne(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(n){return new Qa(Sr.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}class ao{constructor(n){this._methodName=n}}class Ty{constructor(n,r){if(!isFinite(n)||n<-90||n>90)throw new Ne(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(r)||r<-180||r>180)throw new Ne(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=n,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return Bt(this._lat,n._lat)||Bt(this._long,n._long)}}const q1=/^__.*__$/;class qN{constructor(n,r,s){this.data=n,this.fieldMask=r,this.fieldTransforms=s}toMutation(n,r){return null!==this.fieldMask?new eu(n,this.data,this.fieldMask,r,this.fieldTransforms):new sg(n,this.data,r,this.fieldTransforms)}}class Z1{constructor(n,r,s){this.data=n,this.fieldMask=r,this.fieldTransforms=s}toMutation(n,r){return new eu(n,this.data,this.fieldMask,r,this.fieldTransforms)}}function CT(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ye()}}class Iy{constructor(n,r,s,l,d,g){this.settings=n,this.databaseId=r,this.N=s,this.ignoreUndefinedProperties=l,void 0===d&&this.Sa(),this.fieldTransforms=d||[],this.fieldMask=g||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(n){return new Iy(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(n){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(n),l=this.Ca({path:s,xa:!1});return l.ka(n),l}$a(n){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(n),l=this.Ca({path:s,xa:!1});return l.Sa(),l}Oa(n){return this.Ca({path:void 0,xa:!0})}Fa(n){return Ry(n,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(n){return void 0!==this.fieldMask.find(r=>n.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>n.isPrefixOf(r.field))}Sa(){if(this.path)for(let n=0;n<this.path.length;n++)this.ka(this.path.get(n))}ka(n){if(0===n.length)throw this.Fa("Document fields must not be empty");if(CT(this.Da)&&q1.test(n))throw this.Fa('Document fields cannot begin and end with "__"')}}class z1{constructor(n,r,s){this.databaseId=n,this.ignoreUndefinedProperties=r,this.N=s||Vh(n)}Ba(n,r,s,l=!1){return new Iy({Da:n,methodName:r,La:s,path:pr.emptyPath(),xa:!1,Ma:l},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function cu(i){const n=i._freezeSettings(),r=Vh(i._databaseId);return new z1(i._databaseId,!!n.ignoreUndefinedProperties,r)}function Dg(i,n,r,s,l,d={}){const g=i.Ba(d.merge||d.mergeFields?2:0,n,r,l);W1("Data must be an object, but it was:",g,s);const y=Ny(s,g);let E,I;if(d.merge)E=new zp(g.fieldMask),I=g.fieldTransforms;else if(d.mergeFields){const S=[];for(const x of d.mergeFields){const O=My(n,x,r);if(!g.contains(O))throw new Ne(ce.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);Y1(S,O)||S.push(O)}E=new zp(S),I=g.fieldTransforms.filter(x=>E.covers(x.field))}else E=null,I=g.fieldTransforms;return new qN(new ti(y),E,I)}class du extends ao{_toFieldTransform(n){if(2!==n.Da)throw n.Fa(1===n.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof du}}function Ay(i,n,r){return new Iy({Da:3,La:n.settings.La,methodName:i._methodName,xa:r},n.databaseId,n.N,n.ignoreUndefinedProperties)}class DT extends ao{_toFieldTransform(n){return new _h(n.path,new mh)}isEqual(n){return n instanceof DT}}class TT extends ao{constructor(n,r){super(n),this.Ua=r}_toFieldTransform(n){const r=Ay(this,n,!0),s=this.Ua.map(d=>Ja(d,r)),l=new Jl(s);return new _h(n.path,l)}isEqual(n){return this===n}}class ZN extends ao{constructor(n,r){super(n),this.Ua=r}_toFieldTransform(n){const r=Ay(this,n,!0),s=this.Ua.map(d=>Ja(d,r)),l=new Xl(s);return new _h(n.path,l)}isEqual(n){return this===n}}class IT extends ao{constructor(n,r){super(n),this.qa=r}_toFieldTransform(n){const r=new Ua(n.N,FC(n.N,this.qa));return new _h(n.path,r)}isEqual(n){return this===n}}function Gh(i,n,r,s){const l=i.Ba(1,n,r);W1("Data must be an object, but it was:",l,s);const d=[],g=ti.empty();Ec(s,(E,I)=>{const S=xy(n,E,r);I=(0,At.m9)(I);const x=l.$a(S);if(I instanceof du)d.push(S);else{const O=Ja(I,x);null!=O&&(d.push(S),g.set(S,O))}});const y=new zp(d);return new Z1(g,y,l.fieldTransforms)}function Sy(i,n,r,s,l,d){const g=i.Ba(1,n,r),y=[My(n,s,r)],E=[l];if(d.length%2!=0)throw new Ne(ce.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<d.length;O+=2)y.push(My(n,d[O])),E.push(d[O+1]);const I=[],S=ti.empty();for(let O=y.length-1;O>=0;--O)if(!Y1(I,y[O])){const V=y[O];let q=E[O];q=(0,At.m9)(q);const te=g.$a(V);if(q instanceof du)I.push(V);else{const me=Ja(q,te);null!=me&&(I.push(V),S.set(V,me))}}const x=new zp(I);return new Z1(S,x,g.fieldTransforms)}function AT(i,n,r,s=!1){return Ja(r,i.Ba(s?4:3,n))}function Ja(i,n){if(ST(i=(0,At.m9)(i)))return W1("Unsupported field value:",n,i),Ny(i,n);if(i instanceof ao)return function(r,s){if(!CT(s.Da))throw s.Fa(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Fa(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(s);l&&s.fieldTransforms.push(l)}(i,n),null;if(void 0===i&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),i instanceof Array){if(n.settings.xa&&4!==n.Da)throw n.Fa("Nested arrays are not supported");return function(r,s){const l=[];let d=0;for(const g of r){let y=Ja(g,s.Oa(d));null==y&&(y={nullValue:"NULL_VALUE"}),l.push(y),d++}return{arrayValue:{values:l}}}(i,n)}return function(r,s){if(null===(r=(0,At.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return FC(s.N,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const l=Ar.fromDate(r);return{timestampValue:nt(s.N,l)}}if(r instanceof Ar){const l=new Ar(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:nt(s.N,l)}}if(r instanceof Ty)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qa)return{bytesValue:eD(s.N,r._byteString)};if(r instanceof tn){const l=s.databaseId,d=r.firestore._databaseId;if(!d.isEqual(l))throw s.Fa(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:vh(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.Fa(`Unsupported field value: ${uu(r)}`)}(i,n)}function Ny(i,n){const r={};return gb(i)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):Ec(i,(s,l)=>{const d=Ja(l,n.Na(s));null!=d&&(r[s]=d)}),{mapValue:{fields:r}}}function ST(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Ar||i instanceof Ty||i instanceof Qa||i instanceof tn||i instanceof ao)}function W1(i,n,r){if(!ST(r)||"object"!=typeof(s=r)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=uu(r);throw n.Fa("an object"===s?i+" a custom object":i+" "+s)}var s}function My(i,n,r){if((n=(0,At.m9)(n))instanceof Ka)return n._internalPath;if("string"==typeof n)return xy(i,n);throw Ry("Field path arguments must be of type string or FieldPath.",i,!1,void 0,r)}const NT=new RegExp("[~\\*/\\[\\]]");function xy(i,n,r){if(n.search(NT)>=0)throw Ry(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new Ka(...n.split("."))._internalPath}catch(s){throw Ry(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function Ry(i,n,r,s,l){const d=s&&!s.isEmpty(),g=void 0!==l;let y=`Function ${n}() called with invalid data`;r&&(y+=" (via `toFirestore()`)"),y+=". ";let E="";return(d||g)&&(E+=" (found",d&&(E+=` in field ${s}`),g&&(E+=` in document ${l}`),E+=")"),new Ne(ce.INVALID_ARGUMENT,y+i+E)}function Y1(i,n){return i.some(r=>r.isEqual(n))}class qh{constructor(n,r,s,l,d){this._firestore=n,this._userDataWriter=r,this._key=s,this._document=l,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new zN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const r=this._document.data.field(ky("DocumentSnapshot.get",n));if(null!==r)return this._userDataWriter.convertValue(r)}}}class zN extends qh{data(){return super.data()}}function ky(i,n){return"string"==typeof n?xy(i,n):n instanceof Ka?n._internalPath:n._delegate._internalPath}class hu{constructor(n,r){this.hasPendingWrites=n,this.fromCache=r}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class Xa extends qh{constructor(n,r,s,l,d,g){super(n,r,s,l,g),this._firestore=n,this._firestoreImpl=n,this.metadata=d}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const r=new Zh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,r={}){if(this._document){const s=this._document.data.field(ky("DocumentSnapshot.get",n));if(null!==s)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class Zh extends Xa{data(n={}){return super.data(n)}}class el{constructor(n,r,s,l){this._firestore=n,this._userDataWriter=r,this._snapshot=l,this.metadata=new hu(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const n=[];return this.forEach(r=>n.push(r)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,r){this._snapshot.docs.forEach(s=>{n.call(r,new Zh(this._firestore,this._userDataWriter,s.key,s,new hu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const r=!!n.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Ne(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(s,l){if(s._snapshot.oldDocs.isEmpty()){let d=0;return s._snapshot.docChanges.map(g=>({type:"added",doc:new Zh(s._firestore,s._userDataWriter,g.doc.key,g.doc,new hu(s._snapshot.mutatedKeys.has(g.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:d++}))}{let d=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(g=>l||3!==g.type).map(g=>{const y=new Zh(s._firestore,s._userDataWriter,g.doc.key,g.doc,new hu(s._snapshot.mutatedKeys.has(g.doc.key),s._snapshot.fromCache),s.query.converter);let E=-1,I=-1;return 0!==g.type&&(E=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),1!==g.type&&(d=d.add(g.doc),I=d.indexOf(g.doc.key)),{type:MT(g.type),doc:y,oldIndex:E,newIndex:I}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function MT(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ye()}}function K1(i,n){return i instanceof Xa&&n instanceof Xa?i._firestore===n._firestore&&i._key.isEqual(n._key)&&(null===i._document?null===n._document:i._document.isEqual(n._document))&&i._converter===n._converter:i instanceof el&&n instanceof el&&i._firestore===n._firestore&&Dy(i.query,n.query)&&i.metadata.isEqual(n.metadata)&&i._snapshot.isEqual(n._snapshot)}function xT(i){if(tg(i)&&0===i.explicitOrderBy.length)throw new Ne(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tg{}function fu(i,...n){for(const r of n)i=r._apply(i);return i}class RT extends Tg{constructor(n,r,s){super(),this.Ka=n,this.ja=r,this.Qa=s,this.type="where"}_apply(n){const r=cu(n.firestore),s=function(l,d,g,y,E,I,S){let x;if(E.isKeyField()){if("array-contains"===I||"array-contains-any"===I)throw new Ne(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${I}' queries on FieldPath.documentId().`);if("in"===I||"not-in"===I){XN(S,I);const V=[];for(const q of S)V.push(JN(y,l,q));x={arrayValue:{values:V}}}else x=JN(y,l,S)}else"in"!==I&&"not-in"!==I&&"array-contains-any"!==I||XN(S,I),x=AT(g,"where",S,"in"===I||"not-in"===I);const O=ni.create(E,I,x);return function(V,q){if(q.v()){const me=F_(V);if(null!==me&&!me.isEqual(q.field))throw new Ne(ce.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${me.toString()}' and '${q.field.toString()}'`);const Oe=Cb(V);null!==Oe&&eM(0,q.field,Oe)}const te=function(me,Oe){for(const Pe of me.filters)if(Oe.indexOf(Pe.op)>=0)return Pe.op;return null}(V,function(me){switch(me){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(q.op));if(null!==te)throw new Ne(ce.INVALID_ARGUMENT,te===q.op?`Invalid query. You cannot use more than one '${q.op.toString()}' filter.`:`Invalid query. You cannot use '${q.op.toString()}' filters with '${te.toString()}' filters.`)}(l,O),O}(n._query,0,r,n.firestore._databaseId,this.Ka,this.ja,this.Qa);return new si(n.firestore,n.converter,function(l,d){const g=l.filters.concat([d]);return new qo(l.path,l.collectionGroup,l.explicitOrderBy.slice(),g,l.limit,l.limitType,l.startAt,l.endAt)}(n._query,s))}}class pk extends Tg{constructor(n,r){super(),this.Ka=n,this.Wa=r,this.type="orderBy"}_apply(n){const r=function(s,l,d){if(null!==s.startAt)throw new Ne(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new Ne(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const g=new fh(l,d);return function(y,E){if(null===Cb(y)){const I=F_(y);null!==I&&eM(0,I,E.field)}}(s,g),g}(n._query,this.Ka,this.Wa);return new si(n.firestore,n.converter,function(s,l){const d=s.explicitOrderBy.concat([l]);return new qo(s.path,s.collectionGroup,d,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(n._query,r))}}class WN extends Tg{constructor(n,r,s){super(),this.type=n,this.Ga=r,this.za=s}_apply(n){return new si(n.firestore,n.converter,io(n._query,this.Ga,this.za))}}class YN extends Tg{constructor(n,r,s){super(),this.type=n,this.Ha=r,this.Ja=s}_apply(n){const r=QN(n,this.type,this.Ha,this.Ja);return new si(n.firestore,n.converter,(l=r,new qo((s=n._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,l,s.endAt)));var s,l}}class KN extends Tg{constructor(n,r,s){super(),this.type=n,this.Ha=r,this.Ja=s}_apply(n){const r=QN(n,this.type,this.Ha,this.Ja);return new si(n.firestore,n.converter,(l=r,new qo((s=n._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,l)));var s,l}}function QN(i,n,r,s){if(r[0]=(0,At.m9)(r[0]),r[0]instanceof qh)return function(l,d,g,y,E){if(!y)throw new Ne(ce.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${g}().`);const I=[];for(const S of Ql(l))if(S.field.isKeyField())I.push(lh(d,y.key));else{const x=y.data.field(S.field);if(Wp(x))throw new Ne(ce.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const O=S.field.canonicalString();throw new Ne(ce.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${O}' (used as the orderBy) does not exist.`)}I.push(x)}return new hh(I,E)}(i._query,i.firestore._databaseId,n,r[0]._document,s);{const l=cu(i.firestore);return function(d,g,y,E,I,S){const x=d.explicitOrderBy;if(I.length>x.length)throw new Ne(ce.INVALID_ARGUMENT,`Too many arguments provided to ${E}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const O=[];for(let V=0;V<I.length;V++){const q=I[V];if(x[V].field.isKeyField()){if("string"!=typeof q)throw new Ne(ce.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${E}(), but got a ${typeof q}`);if(!kC(d)&&-1!==q.indexOf("/"))throw new Ne(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${E}() must be a plain document ID, but '${q}' contains a slash.`);const te=d.path.child(Gt.fromString(q));if(!Qe.isDocumentKey(te))throw new Ne(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${E}() must result in a valid document path, but '${te}' is not because it contains an odd number of segments.`);const me=new Qe(te);O.push(lh(g,me))}else{const te=AT(y,E,q);O.push(te)}}return new hh(O,S)}(i._query,i.firestore._databaseId,l,n,r,s)}}function JN(i,n,r){if("string"==typeof(r=(0,At.m9)(r))){if(""===r)throw new Ne(ce.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!kC(n)&&-1!==r.indexOf("/"))throw new Ne(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const s=n.path.child(Gt.fromString(r));if(!Qe.isDocumentKey(s))throw new Ne(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return lh(i,new Qe(s))}if(r instanceof tn)return lh(i,r._key);throw new Ne(ce.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${uu(r)}.`)}function XN(i,n){if(!Array.isArray(i)||0===i.length)throw new Ne(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${n.toString()}' filters.`);if(i.length>10)throw new Ne(ce.INVALID_ARGUMENT,`Invalid Query. '${n.toString()}' filters support a maximum of 10 elements in the value array.`)}function eM(i,n,r){if(!r.isEqual(n))throw new Ne(ce.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${n.toString()}' and so you must also use '${n.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${r.toString()}' instead.`)}class kT{convertValue(n,r="none"){switch(Va(n)){case 0:return null;case 1:return n.booleanValue;case 2:return Xn(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,r);case 5:return n.stringValue;case 6:return this.convertBytes(Kl(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,r);case 10:return this.convertObject(n.mapValue,r);default:throw Ye()}}convertObject(n,r){const s={};return Ec(n.fields,(l,d)=>{s[l]=this.convertValue(d,r)}),s}convertGeoPoint(n){return new Ty(Xn(n.latitude),Xn(n.longitude))}convertArray(n,r){return(n.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(n,r){switch(r){case"previous":const s=DC(n);return null==s?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(Cc(n));default:return null}}convertTimestamp(n){const r=ks(n);return new Ar(r.seconds,r.nanos)}convertDocumentKey(n,r){const s=Gt.fromString(n);ht(dD(s));const l=new $h(s.get(1),s.get(3)),d=new Qe(s.popFirst(5));return l.isEqual(r)||fr(`Document ${d} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),d}}function Oy(i,n,r){let s;return s=i?r&&(r.merge||r.mergeFields)?i.toFirestore(n,r):i.toFirestore(n):n,s}class tM extends kT{constructor(n){super(),this.firestore=n}convertBytes(n){return new Qa(n)}convertReference(n){const r=this.convertDocumentKey(n,this.firestore._databaseId);return new tn(this.firestore,null,r)}}class OT{constructor(n,r){this._firestore=n,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=cu(n)}set(n,r,s){this._verifyNotCommitted();const l=qc(n,this._firestore),d=Oy(l.converter,r,s),g=Dg(this._dataReader,"WriteBatch.set",l._key,d,null!==l.converter,s);return this._mutations.push(g.toMutation(l._key,Ln.none())),this}update(n,r,s,...l){this._verifyNotCommitted();const d=qc(n,this._firestore);let g;return g="string"==typeof(r=(0,At.m9)(r))||r instanceof Ka?Sy(this._dataReader,"WriteBatch.update",d._key,r,s,l):Gh(this._dataReader,"WriteBatch.update",d._key,r),this._mutations.push(g.toMutation(d._key,Ln.exists(!0))),this}delete(n){this._verifyNotCommitted();const r=qc(n,this._firestore);return this._mutations=this._mutations.concat(new og(r._key,Ln.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ne(ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function qc(i,n){if((i=(0,At.m9)(i)).firestore!==n)throw new Ne(ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class zh extends kT{constructor(n){super(),this.firestore=n}convertBytes(n){return new Qa(n)}convertReference(n){const r=this.convertDocumentKey(n,this.firestore._databaseId);return new tn(this.firestore,null,r)}}function sM(i,n,r){i=Pt(i,tn);const s=Pt(i.firestore,Un),l=Oy(i.converter,n,r);return lo(s,[Dg(cu(s),"setDoc",i._key,l,null!==i.converter,r).toMutation(i._key,Ln.none())])}function oM(i,n,r,...s){i=Pt(i,tn);const l=Pt(i.firestore,Un),d=cu(l);let g;return g="string"==typeof(n=(0,At.m9)(n))||n instanceof Ka?Sy(d,"updateDoc",i._key,n,r,s):Gh(d,"updateDoc",i._key,n),lo(l,[g.toMutation(i._key,Ln.exists(!0))])}function PT(i,...n){var r,s,l;i=(0,At.m9)(i);let d={includeMetadataChanges:!1},g=0;"object"!=typeof n[g]||H1(n[g])||(d=n[g],g++);const y={includeMetadataChanges:d.includeMetadataChanges};if(H1(n[g])){const x=n[g];n[g]=null===(r=x.next)||void 0===r?void 0:r.bind(x),n[g+1]=null===(s=x.error)||void 0===s?void 0:s.bind(x),n[g+2]=null===(l=x.complete)||void 0===l?void 0:l.bind(x)}let E,I,S;if(i instanceof tn)I=Pt(i.firestore,Un),S=ph(i._key.path),E={next:x=>{n[g]&&n[g](Py(I,i,x))},error:n[g+1],complete:n[g+2]};else{const x=Pt(i,si);I=Pt(x.firestore,Un),S=x._query;const O=new zh(I);E={next:V=>{n[g]&&n[g](new el(I,O,x,V))},error:n[g+1],complete:n[g+2]},xT(i._query)}return function(x,O,V,q){const te=new wg(q),me=new GD(O,te,V);return x.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return $D(yield jh(x),me)})),()=>{te.Xo(),x.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return HD(yield jh(x),me)}))}}(tr(I),S,y,E)}function lo(i,n){return function(r,s){const l=new Ir;return r.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function(i,n,r){return _1.apply(this,arguments)}(yield Ey(r),s,l)})),l.promise}(tr(i),n)}function Py(i,n,r){const s=r.docs.get(n._key),l=new zh(i);return new Xa(i,l,n._key,s,new hu(r.hasPendingWrites,r.fromCache),n.converter)}class lM extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=cu(n)}get(n){const r=qc(n,this._firestore),s=new tM(this._firestore);return this._transaction.lookup([r._key]).then(l=>{if(!l||1!==l.length)return Ye();const d=l[0];if(d.isFoundDocument())return new qh(this._firestore,s,d.key,d,r.converter);if(d.isNoDocument())return new qh(this._firestore,s,r._key,null,r.converter);throw Ye()})}set(n,r,s){const l=qc(n,this._firestore),d=Oy(l.converter,r,s),g=Dg(this._dataReader,"Transaction.set",l._key,d,null!==l.converter,s);return this._transaction.set(l._key,g),this}update(n,r,s,...l){const d=qc(n,this._firestore);let g;return g="string"==typeof(r=(0,At.m9)(r))||r instanceof Ka?Sy(this._dataReader,"Transaction.update",d._key,r,s,l):Gh(this._dataReader,"Transaction.update",d._key,r),this._transaction.update(d._key,g),this}delete(n){const r=qc(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(n,r){super(n,r),this._firestore=n}get(n){const r=qc(n,this._firestore),s=new zh(this._firestore);return super.get(n).then(l=>new Xa(this._firestore,s,r._key,l._document,new hu(!1,!1),r.converter))}}function BT(i,n){if(void 0===n)return{merge:!1};if(void 0!==n.mergeFields&&void 0!==n.merge)throw new Ne("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return n}function dM(){if("undefined"==typeof Uint8Array)throw new Ne("unimplemented","Uint8Arrays are not available in this environment.")}function jT(){if("undefined"==typeof atob)throw new Ne("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(i){vc=i})(Fl.SDK_VERSION),(0,Fl._registerComponent)(new g0.wA("firestore",(i,{options:n})=>{const r=i.getProvider("app").getImmediate(),s=new Un(r,new ah(i.getProvider("auth-internal")));return n=Object.assign({useFetchStreams:!0},n),s._setSettings(n),s},"PUBLIC")),(0,Fl.registerVersion)("@firebase/firestore","3.1.0",void 0);class Ly{constructor(n){this._delegate=n}static fromBase64String(n){return jT(),new Ly(Qa.fromBase64String(n))}static fromUint8Array(n){return dM(),new Ly(Qa.fromUint8Array(n))}toBase64(){return jT(),this._delegate.toBase64()}toUint8Array(){return dM(),this._delegate.toUint8Array()}isEqual(n){return this._delegate.isEqual(n._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Wh(i){return function(i,n){if("object"!=typeof i||null===i)return!1;const r=i;for(const s of["next","error","complete"])if(s in r&&"function"==typeof r[s])return!0;return!1}(i)}class Sk{enableIndexedDbPersistence(n,r){return function(i,n){Gc(i=Pt(i,Un));const r=tr(i),s=i._freezeSettings(),l=new R1;return vT(r,l,new x1(l,s.cacheSizeBytes,null==n?void 0:n.forceOwnership))}(n._delegate,{forceOwnership:r})}enableMultiTabIndexedDbPersistence(n){return function(i){Gc(i=Pt(i,Un));const n=tr(i),r=i._freezeSettings(),s=new R1;return vT(n,s,new xN(s,r.cacheSizeBytes))}(n._delegate)}clearIndexedDbPersistence(n){return function(i){if(i._initialized&&!i._terminated)throw new Ne(ce.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const n=new Ir;return i._queue.enqueueAndForgetEvenWhileRestricted((0,ge.Z)(function*(){try{yield(r=(0,ge.Z)(function*(s){if(!ri.bt())return Promise.resolve();const l=s+"main";yield ri.delete(l)}),function(s){return r.apply(this,arguments)})(Qb(i._databaseId,i._persistenceKey)),n.resolve()}catch(r){n.reject(r)}var r})),n.promise}(n._delegate)}}class fM{constructor(n,r,s){this._delegate=r,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},n instanceof $h||(this._appCompat=n)}get _databaseId(){return this._delegate._databaseId}settings(n){const r=this._delegate._getSettings();!n.merge&&r.host!==n.host&&Gp("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),n.merge&&delete(n=Object.assign(Object.assign({},r),n)).merge,this._delegate._setSettings(n)}useEmulator(n,r,s={}){!function(i,n,r,s={}){var l;const d=(i=Pt(i,Ki))._getSettings();if("firestore.googleapis.com"!==d.host&&d.host!==n&&Gp("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},d),{host:`${n}:${r}`,ssl:!1})),s.mockUserToken){let g,y;if("string"==typeof s.mockUserToken)g=s.mockUserToken,y=Br.MOCK_USER;else{g=(0,At.Sg)(s.mockUserToken,null===(l=i._app)||void 0===l?void 0:l.options.projectId);const E=s.mockUserToken.sub||s.mockUserToken.user_id;if(!E)throw new Ne(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Br(E)}i._credentials=new TS(new pb(g,y))}}(this._delegate,n,r,s)}enableNetwork(){return function(i){return function(i){return i.asyncQueue.enqueue((0,ge.Z)(function*(){const n=yield sT(i),r=yield P1(i);return n.setNetworkEnabled(!0),function(s){const l=Ue(s);return l.Kr.delete(0),su(l)}(r)}))}(tr(i=Pt(i,Un)))}(this._delegate)}disableNetwork(){return function(i){return function(i){return i.asyncQueue.enqueue((0,ge.Z)(function*(){const n=yield sT(i),r=yield P1(i);return n.setNetworkEnabled(!1),(s=(0,ge.Z)(function*(l){const d=Ue(l);d.Kr.add(0),yield Yo(d),d.Wr.set("Offline")}),function(l){return s.apply(this,arguments)})(r);var s}))}(tr(i=Pt(i,Un)))}(this._delegate)}enablePersistence(n){let r=!1,s=!1;return n&&(r=!!n.synchronizeTabs,s=!!n.experimentalForceOwningTab,hT("synchronizeTabs",r,"experimentalForceOwningTab",s)),r?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(i){return function(n){const r=new Ir;return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function(i,n){return gy.apply(this,arguments)}(yield Ey(n),r)})),r.promise}(tr(i=Pt(i,Un)))}(this._delegate)}onSnapshotsInSync(n){return function(i,n){return function(i,n){const r=new wg(n);return i.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return s=yield jh(i),l=r,Ue(s).Zr.add(l),void l.next();var s,l})),()=>{r.Xo(),i.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return s=yield jh(i),l=r,void Ue(s).Zr.delete(l);var s,l}))}}(tr(i=Pt(i,Un)),H1(n)?n:{next:n})}(this._delegate,n)}get app(){if(!this._appCompat)throw new Ne("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(n){try{return new Kh(this,UN(this._delegate,n))}catch(r){throw oi(r,"collection()","Firestore.collection()")}}doc(n){try{return new uo(this,Hh(this._delegate,n))}catch(r){throw oi(r,"doc()","Firestore.doc()")}}collectionGroup(n){try{return new _r(this,function(i,n){if(i=Pt(i,Ki),U1("collectionGroup","collection id",n),n.indexOf("/")>=0)throw new Ne(ce.INVALID_ARGUMENT,`Invalid collection ID '${n}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new si(i,null,(r=n,new qo(Gt.emptyPath(),r)));var r}(this._delegate,n))}catch(r){throw oi(r,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(n){return function(i,n){return function(i,n){const r=new Ir;return i.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){const s=yield(l=i,by(l).then(d=>d.datastore));var l;new kN(i.asyncQueue,s,n,r).run()})),r.promise}(tr(i),r=>n(new lM(i,r)))}(this._delegate,r=>n(new gM(this,r)))}batch(){return tr(this._delegate),new mM(new OT(this._delegate,n=>lo(this._delegate,n)))}loadBundle(n){return function(i,n){const r=tr(i=Pt(i,Un)),s=new BN;return function(i,n,r,s){const l=function(d,g){let y;return y="string"==typeof d?(new TextEncoder).encode(d):d,E=function(E,I){if(E instanceof Uint8Array)return nT(E,I);if(E instanceof ArrayBuffer)return nT(new Uint8Array(E),I);if(E instanceof ReadableStream)return E.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(y),new RN(E,g);var E}(r,Vh(n));i.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){!function(i,n,r){const s=Ue(i);var l;(l=(0,ge.Z)(function*(d,g,y){try{const E=yield g.getMetadata();if(yield function(O,V){const q=Ue(O),te=Nr(V.createTime);return q.persistence.runTransaction("hasNewerBundle","readonly",me=>q.Je.getBundleMetadata(me,V.id)).then(me=>!!me&&me.createTime.compareTo(te)>=0)}(d.localStore,E))return yield g.close(),void y._completeWith((O=E,{taskState:"Success",documentsLoaded:O.totalDocuments,bytesLoaded:O.totalBytes,totalDocuments:O.totalDocuments,totalBytes:O.totalBytes}));y._updateProgress(ZD(E));const I=new ii(E,d.localStore,g.N);let S=yield g.Qo();for(;S;){const O=yield I.fo(S);O&&y._updateProgress(O),S=yield g.Qo()}const x=yield I.complete();yield Ya(d,x.Tn,void 0),yield function(O,V){const q=Ue(O);return q.persistence.runTransaction("Save bundle","readwrite",te=>q.Je.saveBundleMetadata(te,V))}(d.localStore,E),y._completeWith(x.progress)}catch(E){Gp("SyncEngine",`Loading bundle failed with ${E}`),y._failWith(E)}var O}),function(d,g,y){return l.apply(this,arguments)})(s,n,r).then(()=>{s.sharedClientState.notifyBundleLoaded()})}(yield Ey(i),l,s)}))}(r,i._databaseId,n,s),s}(this._delegate,n)}namedQuery(n){return function(i,n){return function(i,n){return i.asyncQueue.enqueue((0,ge.Z)(function*(){return function(r,s){const l=Ue(r);return l.persistence.runTransaction("Get named query","readonly",d=>l.Je.getNamedQuery(d,s))}(yield wy(i),n)}))}(tr(i=Pt(i,Un)),n).then(r=>r?new si(i,null,r.query):null)}(this._delegate,n).then(r=>r?new _r(this,r):null)}}class Yh extends kT{constructor(n){super(),this.firestore=n}convertBytes(n){return new Ly(new Qa(n))}convertReference(n){const r=this.convertDocumentKey(n,this.firestore._databaseId);return uo.forKey(r,this.firestore,null)}}class gM{constructor(n,r){this._firestore=n,this._delegate=r,this._userDataWriter=new Yh(n)}get(n){const r=tl(n);return this._delegate.get(r).then(s=>new Vy(this._firestore,new Xa(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,r.converter)))}set(n,r,s){const l=tl(n);return s?(BT("Transaction.set",s),this._delegate.set(l,r,s)):this._delegate.set(l,r),this}update(n,r,s,...l){const d=tl(n);return 2===arguments.length?this._delegate.update(d,r):this._delegate.update(d,r,s,...l),this}delete(n){const r=tl(n);return this._delegate.delete(r),this}}class mM{constructor(n){this._delegate=n}set(n,r,s){const l=tl(n);return s?(BT("WriteBatch.set",s),this._delegate.set(l,r,s)):this._delegate.set(l,r),this}update(n,r,s,...l){const d=tl(n);return 2===arguments.length?this._delegate.update(d,r):this._delegate.update(d,r,s,...l),this}delete(n){const r=tl(n);return this._delegate.delete(r),this}commit(){return this._delegate.commit()}}class Zc{constructor(n,r,s){this._firestore=n,this._userDataWriter=r,this._delegate=s}fromFirestore(n,r){const s=new Zh(this._firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,null);return this._delegate.fromFirestore(new Ig(this._firestore,s),null!=r?r:{})}toFirestore(n,r){return r?this._delegate.toFirestore(n,r):this._delegate.toFirestore(n)}static getInstance(n,r){const s=Zc.INSTANCES;let l=s.get(n);l||(l=new WeakMap,s.set(n,l));let d=l.get(r);return d||(d=new Zc(n,new Yh(n),r),l.set(r,d)),d}}Zc.INSTANCES=new WeakMap;class uo{constructor(n,r){this.firestore=n,this._delegate=r,this._userDataWriter=new Yh(n)}static forPath(n,r,s){if(n.length%2!=0)throw new Ne("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${n.canonicalString()} has ${n.length}`);return new uo(r,new tn(r._delegate,s,new Qe(n)))}static forKey(n,r,s){return new uo(r,new tn(r._delegate,s,n))}get id(){return this._delegate.id}get parent(){return new Kh(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(n){try{return new Kh(this.firestore,UN(this._delegate,n))}catch(r){throw oi(r,"collection()","DocumentReference.collection()")}}isEqual(n){return(n=(0,At.m9)(n))instanceof tn&&j1(this._delegate,n)}set(n,r){r=BT("DocumentReference.set",r);try{return r?sM(this._delegate,n,r):sM(this._delegate,n)}catch(s){throw oi(s,"setDoc()","DocumentReference.set()")}}update(n,r,...s){try{return 1===arguments.length?oM(this._delegate,n):oM(this._delegate,n,r,...s)}catch(l){throw oi(l,"updateDoc()","DocumentReference.update()")}}delete(){return function(i){return lo(Pt(i.firestore,Un),[new og(i._key,Ln.none())])}(this._delegate)}onSnapshot(...n){const r=$T(n),s=_M(n,l=>new Vy(this.firestore,new Xa(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)));return PT(this._delegate,r,s)}get(n){let r;return r="cache"===(null==n?void 0:n.source)?function(i){i=Pt(i,tn);const n=Pt(i.firestore,Un),r=tr(n),s=new zh(n);return function(i,n){const r=new Ir;return i.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return(s=(0,ge.Z)(function*(l,d,g){try{const y=yield function(E,I){const S=Ue(E);return S.persistence.runTransaction("read document","readonly",x=>S.Qn.An(x,I))}(l,d);y.isFoundDocument()?g.resolve(y):y.isNoDocument()?g.resolve(null):g.reject(new Ne(ce.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(y){const E=Uc(y,`Failed to get document '${d} from cache`);g.reject(E)}}),function(l,d,g){return s.apply(this,arguments)})(yield wy(i),n,r);var s})),r.promise}(r,i._key).then(l=>new Xa(n,s,i._key,l,new hu(null!==l&&l.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==n?void 0:n.source)?function(i){i=Pt(i,tn);const n=Pt(i.firestore,Un);return oT(tr(n),i._key,{source:"server"}).then(r=>Py(n,i,r))}(this._delegate):function(i){i=Pt(i,tn);const n=Pt(i.firestore,Un);return oT(tr(n),i._key).then(r=>Py(n,i,r))}(this._delegate),r.then(s=>new Vy(this.firestore,new Xa(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(n){return new uo(this.firestore,this._delegate.withConverter(n?Zc.getInstance(this.firestore,n):null))}}function oi(i,n,r){return i.message=i.message.replace(n,r),i}function $T(i){for(const n of i)if("object"==typeof n&&!Wh(n))return n;return{}}function _M(i,n){var r,s;let l;return l=Wh(i[0])?i[0]:Wh(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:d=>{l.next&&l.next(n(d))},error:null===(r=l.error)||void 0===r?void 0:r.bind(l),complete:null===(s=l.complete)||void 0===s?void 0:s.bind(l)}}class Vy{constructor(n,r){this._firestore=n,this._delegate=r}get ref(){return new uo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(n){return this._delegate.data(n)}get(n,r){return this._delegate.get(n,r)}isEqual(n){return K1(this._delegate,n._delegate)}}class Ig extends Vy{data(n){const r=this._delegate.data(n);return function(i,n){i||Ye()}(void 0!==r),r}}class _r{constructor(n,r){this.firestore=n,this._delegate=r,this._userDataWriter=new Yh(n)}where(n,r,s){try{return new _r(this.firestore,fu(this._delegate,function(i,n,r){const s=n,l=ky("where",i);return new RT(l,s,r)}(n,r,s)))}catch(l){throw oi(l,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(n,r){try{return new _r(this.firestore,fu(this._delegate,function(i,n="asc"){const r=n,s=ky("orderBy",i);return new pk(s,r)}(n,r)))}catch(s){throw oi(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(n){try{return new _r(this.firestore,fu(this._delegate,function(i){return gT("limit",i),new WN("limit",i,"F")}(n)))}catch(r){throw oi(r,"limit()","Query.limit()")}}limitToLast(n){try{return new _r(this.firestore,fu(this._delegate,function(i){return gT("limitToLast",i),new WN("limitToLast",i,"L")}(n)))}catch(r){throw oi(r,"limitToLast()","Query.limitToLast()")}}startAt(...n){try{return new _r(this.firestore,fu(this._delegate,function(...i){return new YN("startAt",i,!0)}(...n)))}catch(r){throw oi(r,"startAt()","Query.startAt()")}}startAfter(...n){try{return new _r(this.firestore,fu(this._delegate,function(...i){return new YN("startAfter",i,!1)}(...n)))}catch(r){throw oi(r,"startAfter()","Query.startAfter()")}}endBefore(...n){try{return new _r(this.firestore,fu(this._delegate,function(...i){return new KN("endBefore",i,!0)}(...n)))}catch(r){throw oi(r,"endBefore()","Query.endBefore()")}}endAt(...n){try{return new _r(this.firestore,fu(this._delegate,function(...i){return new KN("endAt",i,!1)}(...n)))}catch(r){throw oi(r,"endAt()","Query.endAt()")}}isEqual(n){return Dy(this._delegate,n._delegate)}get(n){let r;return r="cache"===(null==n?void 0:n.source)?function(i){i=Pt(i,si);const n=Pt(i.firestore,Un),r=tr(n),s=new zh(n);return function(i,n){const r=new Ir;return i.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return(s=(0,ge.Z)(function*(l,d,g){try{const y=yield kc(l,d,!0),E=new WD(d,y.Gn),I=E.Io(y.documents),S=E.applyChanges(I,!1);g.resolve(S.snapshot)}catch(y){const E=Uc(y,`Failed to execute query '${d} against cache`);g.reject(E)}}),function(l,d,g){return s.apply(this,arguments)})(yield wy(i),n,r);var s})),r.promise}(r,i._query).then(l=>new el(n,s,i,l))}(this._delegate):"server"===(null==n?void 0:n.source)?function(i){i=Pt(i,si);const n=Pt(i.firestore,Un),r=tr(n),s=new zh(n);return L1(r,i._query,{source:"server"}).then(l=>new el(n,s,i,l))}(this._delegate):function(i){i=Pt(i,si);const n=Pt(i.firestore,Un),r=tr(n),s=new zh(n);return xT(i._query),L1(r,i._query).then(l=>new el(n,s,i,l))}(this._delegate),r.then(s=>new X1(this.firestore,new el(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...n){const r=$T(n),s=_M(n,l=>new X1(this.firestore,new el(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)));return PT(this._delegate,r,s)}withConverter(n){return new _r(this.firestore,this._delegate.withConverter(n?Zc.getInstance(this.firestore,n):null))}}class yM{constructor(n,r){this._firestore=n,this._delegate=r}get type(){return this._delegate.type}get doc(){return new Ig(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class X1{constructor(n,r){this._firestore=n,this._delegate=r}get query(){return new _r(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(n=>new Ig(this._firestore,n))}docChanges(n){return this._delegate.docChanges(n).map(r=>new yM(this._firestore,r))}forEach(n,r){this._delegate.forEach(s=>{n.call(r,new Ig(this._firestore,s))})}isEqual(n){return K1(this._delegate,n._delegate)}}class Kh extends _r{constructor(n,r){super(n,r),this.firestore=n,this._delegate=r}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const n=this._delegate.parent;return n?new uo(this.firestore,n):null}doc(n){try{return new uo(this.firestore,void 0===n?Hh(this._delegate):Hh(this._delegate,n))}catch(r){throw oi(r,"doc()","CollectionReference.doc()")}}add(n){return function(i,n){const r=Pt(i.firestore,Un),s=Hh(i),l=Oy(i.converter,n);return lo(r,[Dg(cu(i.firestore),"addDoc",s._key,l,null!==i.converter,{}).toMutation(s._key,Ln.exists(!1))]).then(()=>s)}(this._delegate,n).then(r=>new uo(this.firestore,r))}isEqual(n){return j1(this._delegate,n._delegate)}withConverter(n){return new Kh(this.firestore,this._delegate.withConverter(n?Zc.getInstance(this.firestore,n):null))}}function tl(i){return Pt(i,tn)}class ew{constructor(...n){this._delegate=new Ka(...n)}static documentId(){return new ew(pr.keyField().canonicalString())}isEqual(n){return(n=(0,At.m9)(n))instanceof Ka&&this._delegate._internalPath.isEqual(n._internalPath)}}class yr{constructor(n){this._delegate=n}static serverTimestamp(){const n=new DT("serverTimestamp");return n._methodName="FieldValue.serverTimestamp",new yr(n)}static delete(){const n=new du("deleteField");return n._methodName="FieldValue.delete",new yr(n)}static arrayUnion(...n){const r=function(...i){return new TT("arrayUnion",i)}(...n);return r._methodName="FieldValue.arrayUnion",new yr(r)}static arrayRemove(...n){const r=function(...i){return new ZN("arrayRemove",i)}(...n);return r._methodName="FieldValue.arrayRemove",new yr(r)}static increment(n){const r=function(i){return new IT("increment",i)}(n);return r._methodName="FieldValue.increment",new yr(r)}isEqual(n){return this._delegate.isEqual(n._delegate)}}const vM={Firestore:fM,GeoPoint:Ty,Timestamp:Ar,Blob:Ly,Transaction:gM,WriteBatch:mM,DocumentReference:uo,DocumentSnapshot:Vy,Query:_r,QueryDocumentSnapshot:Ig,QuerySnapshot:X1,CollectionReference:Kh,FieldPath:ew,FieldValue:yr,setLogLevel:function(i){!function(i){bc.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function(i){(function(i,n){i.INTERNAL.registerComponent(new g0.wA("firestore-compat",r=>((n,r)=>new fM(n,r,new Sk))(r.getProvider("app-compat").getImmediate(),r.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},vM)))})(i),i.registerVersion("@firebase/firestore-compat","0.1.3")}(p0.Z);var nw=L(6682),zc=L(9746),HT=L(7771),GT=L(8858);class wM extends Zt.xQ{constructor(n=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY,s){super(),this.scheduler=s,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=n<1?1:n,this._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(n){if(!this.isStopped){const r=this._events;r.push(n),r.length>this._bufferSize&&r.shift()}super.next(n)}nextTimeWindow(n){this.isStopped||(this._events.push(new qT(this._getNow(),n)),this._trimBufferThenGetEvents()),super.next(n)}_subscribe(n){const r=this._infiniteTimeWindow,s=r?this._events:this._trimBufferThenGetEvents(),l=this.scheduler,d=s.length;let g;if(this.closed)throw new Dd.N;if(this.isStopped||this.hasError?g=Fv.w.EMPTY:(this.observers.push(n),g=new GT.W(this,n)),l&&n.add(n=new zc.ht(n,l)),r)for(let y=0;y<d&&!n.closed;y++)n.next(s[y]);else for(let y=0;y<d&&!n.closed;y++)n.next(s[y].value);return this.hasError?n.error(this.thrownError):this.isStopped&&n.complete(),g}_getNow(){return(this.scheduler||HT.c).now()}_trimBufferThenGetEvents(){const n=this._getNow(),r=this._bufferSize,s=this._windowTime,l=this._events,d=l.length;let g=0;for(;g<d&&!(n-l[g].time<s);)g++;return d>r&&(g=Math.max(g,d-r)),g>0&&l.splice(0,g),l}}class qT{constructor(n,r){this.time=n,this.value=r}}function rw(i,n,r){let s;return s=i&&"object"==typeof i?i:{bufferSize:i,windowTime:n,refCount:!1,scheduler:r},l=>l.lift(function({bufferSize:i=Number.POSITIVE_INFINITY,windowTime:n=Number.POSITIVE_INFINITY,refCount:r,scheduler:s}){let l,g,d=0,y=!1,E=!1;return function(S){let x;d++,!l||y?(y=!1,l=new wM(i,n,s),x=l.subscribe(this),g=S.subscribe({next(O){l.next(O)},error(O){y=!0,l.error(O)},complete(){E=!0,g=void 0,l.complete()}}),E&&(g=void 0)):x=l.subscribe(this),this.add(()=>{d--,x.unsubscribe(),x=void 0,g&&!E&&r&&0===d&&(g.unsubscribe(),g=void 0,l=void 0)})}}(s))}function ZT(i,n){return n?On(()=>i,n):On(()=>i)}var Ag=L(2639),Uy=L(7841);const By=new u.OlP("angularfire2.auth.use-emulator"),WT=new u.OlP("angularfire2.auth.settings"),Us=new u.OlP("angularfire2.auth.tenant-id"),YT=new u.OlP("angularfire2.auth.langugage-code"),CM=new u.OlP("angularfire2.auth.use-device-language"),KT=new u.OlP("angularfire.auth.persistence"),DM=(i,n,r,s,l,d,g,y)=>(0,hn.cc)(`${i.name}.auth`,"AngularFireAuth",i.name,()=>{const E=n.runOutsideAngular(()=>i.auth());if(r&&E.useEmulator(...r),s&&(E.tenantId=s),E.languageCode=l,d&&E.useDeviceLanguage(),g)for(const[I,S]of Object.entries(g))E.settings[I]=S;return y&&E.setPersistence(y),E},[r,s,l,d,g,y]);let iw=(()=>{class i{constructor(r,s,l,d,g,y,E,I,S,x,O){const V=new Zt.xQ,q=(0,ze.of)(void 0).pipe((0,zc.QV)(g.outsideAngular),On(()=>d.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,5128)))),(0,ot.U)(()=>(0,Kn.on)(r,d,s)),(0,ot.U)(te=>DM(te,d,y,I,S,x,E,O)),rw({bufferSize:1,refCount:!1}));if(cd(l))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ze.of)(null);else{q.pipe(An()).subscribe();const me=q.pipe(On(je=>je.getRedirectResult().then(He=>He,()=>null)),hn.iC,rw({bufferSize:1,refCount:!1})),Oe=q.pipe(On(je=>new Tn.y(He=>({unsubscribe:d.runOutsideAngular(()=>je.onAuthStateChanged(Ht=>He.next(Ht),Ht=>He.error(Ht),()=>He.complete()))})))),Pe=q.pipe(On(je=>new Tn.y(He=>({unsubscribe:d.runOutsideAngular(()=>je.onIdTokenChanged(Ht=>He.next(Ht),Ht=>He.error(Ht),()=>He.complete()))}))));this.authState=me.pipe(ZT(Oe),(0,Ag.R)(g.outsideAngular),(0,zc.QV)(g.insideAngular)),this.user=me.pipe(ZT(Pe),(0,Ag.R)(g.outsideAngular),(0,zc.QV)(g.insideAngular)),this.idToken=this.user.pipe(On(je=>je?(0,Jt.D)(je.getIdToken()):(0,ze.of)(null))),this.idTokenResult=this.user.pipe(On(je=>je?(0,Jt.D)(je.getIdTokenResult()):(0,ze.of)(null))),this.credential=(0,nw.T)(me,V,this.authState.pipe(gn(je=>!je))).pipe((0,ot.U)(je=>(null==je?void 0:je.user)?je:null),(0,Ag.R)(g.outsideAngular),(0,zc.QV)(g.insideAngular))}return(0,Kn.pX)(this,q,d,{spy:{apply:(te,me,Oe)=>{(te.startsWith("signIn")||te.startsWith("createUser"))&&Oe.then(Pe=>V.next(Pe))}}})}}return i.\u0275fac=function(r){return new(r||i)(u.LFG(Kn.Dh),u.LFG(Kn.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(hn.HU),u.LFG(By,8),u.LFG(WT,8),u.LFG(Us,8),u.LFG(YT,8),u.LFG(CM,8),u.LFG(KT,8))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),TM=(()=>{class i{constructor(){Uy.Z.registerVersion("angularfire",hn.q4.full,"auth-compat")}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({providers:[iw]}),i})();function AM(i,n){return function(i,n=gt.z){return new Tn.y(r=>{let s;return null!=n?n.schedule(()=>{s=i.onSnapshot({includeMetadataChanges:!0},r)}):s=i.onSnapshot({includeMetadataChanges:!0},r),()=>{null!=s&&s()}})}(i,n)}function jy(i,n){return AM(i,n).pipe((0,ot.U)(r=>({payload:r,type:"query"})))}function $y(i,n){return jy(i,n).pipe(Mo(void 0),e_(),(0,ot.U)(([r,s])=>{const l=s.payload.docChanges(),d=l.map(g=>({type:g.type,payload:g}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((g,y)=>{const E=l.find(S=>S.doc.ref.isEqual(g.ref)),I=null==r?void 0:r.payload.docs.find(S=>S.ref.isEqual(g.ref));E&&JSON.stringify(E.doc.metadata)===JSON.stringify(g.metadata)||!E&&I&&JSON.stringify(I.metadata)===JSON.stringify(g.metadata)||d.push({type:"modified",payload:{oldIndex:y,newIndex:y,type:"modified",doc:g}})}),d}))}function QT(i,n,r){return $y(i,r).pipe(Ad((s,l)=>function(i,n,r){return n.forEach(s=>{r.indexOf(s.type)>-1&&(i=function(i,n){switch(n.type){case"added":if(!i[n.newIndex]||!i[n.newIndex].doc.ref.isEqual(n.doc.ref))return sw(i,n.newIndex,0,n);break;case"modified":if(null==i[n.oldIndex]||i[n.oldIndex].doc.ref.isEqual(n.doc.ref)){if(n.oldIndex!==n.newIndex){const r=i.slice();return r.splice(n.oldIndex,1),r.splice(n.newIndex,0,n),r}return sw(i,n.newIndex,1,n)}break;case"removed":if(i[n.oldIndex]&&i[n.oldIndex].doc.ref.isEqual(n.doc.ref))return sw(i,n.oldIndex,1)}return i}(i,s))}),i}(s,l.map(d=>d.payload),n),[]),function(i,n){return r=>r.lift(new qA(i,n))}(),(0,ot.U)(s=>s.map(l=>({type:l.type,payload:l}))))}function sw(i,n,r,...s){const l=i.slice();return l.splice(n,r,...s),l}function ow(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class aw{constructor(n,r,s){this.ref=n,this.query=r,this.afs=s}stateChanges(n){let r=$y(this.query,this.afs.schedulers.outsideAngular);return n&&n.length>0&&(r=r.pipe((0,ot.U)(s=>s.filter(l=>n.indexOf(l.type)>-1)))),r.pipe(Mo(void 0),e_(),gn(([s,l])=>l.length>0||!s),(0,ot.U)(([s,l])=>l),hn.iC)}auditTrail(n){return this.stateChanges(n).pipe(Ad((r,s)=>[...r,...s],[]))}snapshotChanges(n){const r=ow(n);return QT(this.query,r,this.afs.schedulers.outsideAngular).pipe(hn.iC)}valueChanges(n={}){return jy(this.query,this.afs.schedulers.outsideAngular).pipe((0,ot.U)(r=>r.payload.docs.map(s=>n.idField?Object.assign(Object.assign({},s.data()),{[n.idField]:s.id}):s.data())),hn.iC)}get(n){return(0,Jt.D)(this.query.get(n)).pipe(hn.iC)}add(n){return this.ref.add(n)}doc(n){return new XT(this.ref.doc(n),this.afs)}}class XT{constructor(n,r){this.ref=n,this.afs=r}set(n,r){return this.ref.set(n,r)}update(n){return this.ref.update(n)}delete(){return this.ref.delete()}collection(n,r){const s=this.ref.collection(n),{ref:l,query:d}=tI(s,r);return new aw(l,d,this.afs)}snapshotChanges(){return function(i,n){return AM(i,n).pipe(Mo(void 0),e_(),(0,ot.U)(([r,s])=>s.exists?(null==r?void 0:r.exists)?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(hn.iC)}valueChanges(n={}){return this.snapshotChanges().pipe((0,ot.U)(({payload:r})=>n.idField?Object.assign(Object.assign({},r.data()),{[n.idField]:r.id}):r.data()))}get(n){return(0,Jt.D)(this.ref.get(n)).pipe(hn.iC)}}class NM{constructor(n,r){this.query=n,this.afs=r}stateChanges(n){return n&&0!==n.length?$y(this.query,this.afs.schedulers.outsideAngular).pipe((0,ot.U)(r=>r.filter(s=>n.indexOf(s.type)>-1)),gn(r=>r.length>0),hn.iC):$y(this.query,this.afs.schedulers.outsideAngular).pipe(hn.iC)}auditTrail(n){return this.stateChanges(n).pipe(Ad((r,s)=>[...r,...s],[]))}snapshotChanges(n){const r=ow(n);return QT(this.query,r,this.afs.schedulers.outsideAngular).pipe(hn.iC)}valueChanges(n={}){return jy(this.query,this.afs.schedulers.outsideAngular).pipe((0,ot.U)(s=>s.payload.docs.map(l=>n.idField?Object.assign({[n.idField]:l.id},l.data()):l.data())),hn.iC)}get(n){return(0,Jt.D)(this.query.get(n)).pipe(hn.iC)}}const lw=new u.OlP("angularfire2.enableFirestorePersistence"),Qh=new u.OlP("angularfire2.firestore.persistenceSettings"),uw=new u.OlP("angularfire2.firestore.settings"),eI=new u.OlP("angularfire2.firestore.use-emulator");function tI(i,n=(r=>r)){return{query:n(i),ref:i}}let nI=(()=>{class i{constructor(r,s,l,d,g,y,E,I,S,x,O,V,q,te,me,Oe){this.schedulers=E;const Pe=(0,Kn.on)(r,y,s),je=S;x&&DM(Pe,y,O,q,te,me,V,Oe),[this.firestore,this.persistenceEnabled$]=(0,hn.cc)(`${Pe.name}.firestore`,"AngularFirestore",Pe.name,()=>{const He=y.runOutsideAngular(()=>Pe.firestore());if(d&&He.settings(d),je&&He.useEmulator(...je),l&&!cd(g)){const Ht=()=>{try{return(0,Jt.D)(He.enablePersistence(I||void 0).then(()=>!0,()=>!1))}catch(Mn){return"undefined"!=typeof console&&console.warn(Mn),(0,ze.of)(!1)}};return[He,y.runOutsideAngular(Ht)]}return[He,(0,ze.of)(!1)]},[d,je,l])}collection(r,s){let l;l="string"==typeof r?this.firestore.collection(r):r;const{ref:d,query:g}=tI(l,s),y=this.schedulers.ngZone.run(()=>d);return new aw(y,g,this)}collectionGroup(r,s){const l=s||(g=>g),d=this.firestore.collectionGroup(r);return new NM(l(d),this)}doc(r){let s;s="string"==typeof r?this.firestore.doc(r):r;const l=this.schedulers.ngZone.run(()=>s);return new XT(l,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(r){return new(r||i)(u.LFG(Kn.Dh),u.LFG(Kn.xv,8),u.LFG(lw,8),u.LFG(uw,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(hn.HU),u.LFG(Qh,8),u.LFG(eI,8),u.LFG(iw,8),u.LFG(By,8),u.LFG(WT,8),u.LFG(Us,8),u.LFG(YT,8),u.LFG(CM,8),u.LFG(KT,8))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),Mk=(()=>{class i{constructor(){Uy.Z.registerVersion("angularfire",hn.q4.full,"fst-compat")}static enablePersistence(r){return{ngModule:i,providers:[{provide:lw,useValue:!0},{provide:Qh,useValue:r}]}}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({providers:[nI]}),i})(),Hy=(()=>{class i{constructor(r){var s=this;this.db=r,this.errorMessage="Error interno. Operaci\xf3n no realizada.",this.notExist="La busqueda no arroj\xf3 resultados.",this.set=function(){var l=(0,ge.Z)(function*(d,g){yield s.db.collection(d).add(g).then(y=>y.id).catch(y=>{throw console.log(y),new Error(s.errorMessage)})});return function(d,g){return l.apply(this,arguments)}}(),this.getCountryByName=function(){var l=(0,ge.Z)(function*(d){let g=null;return yield s.db.firestore.collection("paises").where("nombre","==",d).get().then(y=>{y.forEach(E=>{E.empty||(g=E.data())})}),g});return function(d){return l.apply(this,arguments)}}(),this.getMoviesByActorId=function(){var l=(0,ge.Z)(function*(d){let g=[];return yield s.db.firestore.collection(h0).where("actores","array-contains",d).get().then(y=>{y.forEach(E=>{g.push({id:E.id,movie:E.data()})})}),g});return function(d){return l.apply(this,arguments)}}(),this.getActorsOfMovie=function(){var l=(0,ge.Z)(function*(d){let g=[];return d?(d.forEach(y=>{s.db.firestore.collection(wp).doc(y).get().then(E=>{g.push({id:E.id,actor:E.data()})})}),g):null});return function(d){return l.apply(this,arguments)}}()}getObserver(r){return this.db.firestore.collection(r)}}return i.\u0275fac=function(r){return new(r||i)(u.LFG(nI))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class rI{constructor(n,r){this.dueTime=n,this.scheduler=r}call(n,r){return r.subscribe(new iI(n,this.dueTime,this.scheduler))}}class iI extends Dr.L{constructor(n,r,s){super(n),this.dueTime=r,this.scheduler=s,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(n){this.clearDebounce(),this.lastValue=n,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(MM,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:n}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(n)}}clearDebounce(){const n=this.debouncedSubscription;null!==n&&(this.remove(n),n.unsubscribe(),this.debouncedSubscription=null)}}function MM(i){i.debouncedNext()}var pu=(()=>(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"}(pu||(pu={})),pu))();const sI="firebasestorage.googleapis.com",oI="storageBucket";class qn extends At.ZR{constructor(n,r){super(cw(n),`Firebase Storage: ${r} (${cw(n)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,qn.prototype)}_codeEquals(n){return cw(n)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(n){this.customData.serverResponse=n,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function cw(i){return"storage/"+i}function Sg(){return new qn("unknown","An unknown error occurred, please check the error payload for server response.")}function cI(){return new qn("canceled","User canceled the upload/download.")}function dw(){return new qn("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function fw(){return new qn("no-download-url","The given file does not have any download URLs.")}function Jh(i){return new qn("invalid-argument",i)}function Ng(){return new qn("app-deleted","The Firebase app was deleted.")}function hI(i){return new qn("invalid-root-operation","The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Yc(i,n){return new qn("invalid-format","String does not match format '"+i+"': "+n)}function Mg(i){throw new qn("internal-error","Internal error: "+i)}class kr{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=pu.NO_ERROR,this.sendPromise_=new Promise(n=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=pu.ABORT,n()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=pu.NETWORK_ERROR,n()}),this.xhr_.addEventListener("load",()=>{n()})})}send(n,r,s,l){if(this.sent_)throw Mg("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,n,!0),void 0!==l)for(const d in l)l.hasOwnProperty(d)&&this.xhr_.setRequestHeader(d,l[d].toString());return void 0!==s?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Mg("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Mg("cannot .getStatus() before sending");try{return this.xhr_.status}catch(n){return-1}}getResponseText(){if(!this.sent_)throw Mg("cannot .getResponseText() before sending");return this.xhr_.responseText}abort(){this.xhr_.abort()}getResponseHeader(n){return this.xhr_.getResponseHeader(n)}addUploadProgressListener(n){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",n)}removeUploadProgressListener(n){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",n)}}class kM{createConnection(){return new kr}}class ai{constructor(n,r){this.bucket=n,this.path_=r}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const n=encodeURIComponent;return"/b/"+n(this.bucket)+"/o/"+n(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(n,r){let s;try{s=ai.makeFromUrl(n,r)}catch(l){return new ai(n,"")}if(""===s.path)return s;throw function(i){return new qn("invalid-default-bucket","Invalid default bucket '"+i+"'.")}(n)}static makeFromUrl(n,r){let s=null;const l="([A-Za-z0-9.\\-_]+)",y=new RegExp("^gs://"+l+"(/(.*))?$","i");function I(He){He.path_=decodeURIComponent(He.path)}const x=r.replace(/[.]/g,"\\."),je=[{regex:y,indices:{bucket:1,path:3},postModify:function(He){"/"===He.path.charAt(He.path.length-1)&&(He.path_=He.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${x}/v[A-Za-z0-9_]+/b/${l}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:I},{regex:new RegExp(`^https?://${r===sI?"(?:storage.googleapis.com|storage.cloud.google.com)":r}/${l}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:I}];for(let He=0;He<je.length;He++){const Ht=je[He],Mn=Ht.regex.exec(n);if(Mn){let jn=Mn[Ht.indices.path];jn||(jn=""),s=new ai(Mn[Ht.indices.bucket],jn),Ht.postModify(s);break}}if(null==s)throw function(i){return new qn("invalid-url","Invalid URL '"+i+"'.")}(n);return s}}class Pk{constructor(n){this.promise_=Promise.reject(n)}getPromise(){return this.promise_}cancel(n=!1){}}function Zy(i){return"string"==typeof i||i instanceof String}function fI(i){return pw()&&i instanceof Blob}function pw(){return"undefined"!=typeof Blob}function gw(i,n,r,s){if(s<n)throw Jh(`Invalid value for '${i}'. Expected ${n} or greater.`);if(s>r)throw Jh(`Invalid value for '${i}'. Expected ${r} or less.`)}function gu(i,n,r){let s=n;return null==r&&(s=`https://${n}`),`${r}://${s}/v0${i}`}function PM(i){const n=encodeURIComponent;let r="?";for(const s in i)i.hasOwnProperty(s)&&(r=r+(n(s)+"=")+n(i[s])+"&");return r=r.slice(0,-1),r}class FM{constructor(n,r,s,l,d,g,y,E,I,S,x){this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=n,this.method_=r,this.headers_=s,this.body_=l,this.successCodes_=d.slice(),this.additionalRetryCodes_=g.slice(),this.callback_=y,this.errorCallback_=E,this.progressCallback_=S,this.timeout_=I,this.pool_=x,this.promise_=new Promise((O,V)=>{this.resolve_=O,this.reject_=V,this.start_()})}start_(){const n=this;function s(l,d){const g=n.resolve_,y=n.reject_,E=d.connection;if(d.wasSuccessCode)try{const I=n.callback_(E,E.getResponseText());!function(i){return void 0!==i}(I)?g():g(I)}catch(I){y(I)}else if(null!==E){const I=Sg();I.serverResponse=E.getResponseText(),y(n.errorCallback_?n.errorCallback_(E,I):I)}else y(d.canceled?n.appDelete_?Ng():cI():new qn("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?s(0,new zy(!1,null,!0)):this.backoffId_=function(i,n,r){let s=1,l=null,d=!1,g=0;function y(){return 2===g}let E=!1;function I(...q){E||(E=!0,n.apply(null,q))}function S(q){l=setTimeout(()=>{l=null,i(x,y())},q)}function x(q,...te){if(E)return;if(q)return void I.call(null,q,...te);if(y()||d)return void I.call(null,q,...te);let Oe;s<64&&(s*=2),1===g?(g=2,Oe=0):Oe=1e3*(s+Math.random()),S(Oe)}let O=!1;function V(q){O||(O=!0,!E&&(null!==l?(q||(g=2),clearTimeout(l),S(0)):q||(g=1)))}return S(0),setTimeout(()=>{d=!0,V(!0)},r),V}(function(l,d){if(d)return void l(!1,new zy(!1,null,!0));const g=n.pool_.createConnection();function y(E){null!==n.progressCallback_&&n.progressCallback_(E.loaded,E.lengthComputable?E.total:-1)}n.pendingConnection_=g,null!==n.progressCallback_&&g.addUploadProgressListener(y),g.send(n.url_,n.method_,n.body_,n.headers_).then(()=>{null!==n.progressCallback_&&g.removeUploadProgressListener(y),n.pendingConnection_=null;const E=g.getErrorCode()===pu.NO_ERROR,I=g.getStatus();if(!E||n.isRetryStatusCode_(I)){const x=g.getErrorCode()===pu.ABORT;return void l(!1,new zy(!1,null,x))}const S=-1!==n.successCodes_.indexOf(I);l(!0,new zy(S,g))})},s,this.timeout_)}getPromise(){return this.promise_}cancel(n){this.canceled_=!0,this.appDelete_=n||!1,null!==this.backoffId_&&function(i){i(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(n){const r=n>=500&&n<600,l=-1!==[408,429].indexOf(n),d=-1!==this.additionalRetryCodes_.indexOf(n);return r||l||d}}class zy{constructor(n,r,s){this.wasSuccessCode=n,this.connection=r,this.canceled=!!s}}function jM(...i){const n="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==n){const r=new n;for(let s=0;s<i.length;s++)r.append(i[s]);return r.getBlob()}if(pw())return new Blob(i);throw new qn("unsupported-environment","This browser doesn't seem to support creating Blobs")}const gs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class mw{constructor(n,r){this.data=n,this.contentType=r||null}}function _w(i,n){switch(i){case gs.RAW:return new mw(pI(n));case gs.BASE64:case gs.BASE64URL:return new mw(gI(i,n));case gs.DATA_URL:return new mw(function(i){const n=new mI(i);return n.base64?gI(gs.BASE64,n.rest):function(i){let n;try{n=decodeURIComponent(i)}catch(r){throw Yc(gs.DATA_URL,"Malformed data URL.")}return pI(n)}(n.rest)}(n),function(i){return new mI(i).contentType}(n))}throw Sg()}function pI(i){const n=[];for(let r=0;r<i.length;r++){let s=i.charCodeAt(r);s<=127?n.push(s):s<=2047?n.push(192|s>>6,128|63&s):55296==(64512&s)?r<i.length-1&&56320==(64512&i.charCodeAt(r+1))?(s=65536|(1023&s)<<10|1023&i.charCodeAt(++r),n.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|63&s)):n.push(239,191,189):56320==(64512&s)?n.push(239,191,189):n.push(224|s>>12,128|s>>6&63,128|63&s)}return new Uint8Array(n)}function gI(i,n){switch(i){case gs.BASE64:{const l=-1!==n.indexOf("-"),d=-1!==n.indexOf("_");if(l||d)throw Yc(i,"Invalid character '"+(l?"-":"_")+"' found: is it base64url encoded?");break}case gs.BASE64URL:{const l=-1!==n.indexOf("+"),d=-1!==n.indexOf("/");if(l||d)throw Yc(i,"Invalid character '"+(l?"+":"/")+"' found: is it base64 encoded?");n=n.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=function(i){return atob(i)}(n)}catch(l){throw Yc(i,"Invalid character found")}const s=new Uint8Array(r.length);for(let l=0;l<r.length;l++)s[l]=r.charCodeAt(l);return s}class mI{constructor(n){this.base64=!1,this.contentType=null;const r=n.match(/^data:([^,]+)?,/);if(null===r)throw Yc(gs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=r[1]||null;null!=s&&(this.base64=function(i,n){return i.length>=n.length&&i.substring(i.length-n.length)===n}(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-";base64".length):s),this.rest=n.substring(n.indexOf(",")+1)}}class nl{constructor(n,r){let s=0,l="";fI(n)?(this.data_=n,s=n.size,l=n.type):n instanceof ArrayBuffer?(r?this.data_=new Uint8Array(n):(this.data_=new Uint8Array(n.byteLength),this.data_.set(new Uint8Array(n))),s=this.data_.length):n instanceof Uint8Array&&(r?this.data_=n:(this.data_=new Uint8Array(n.length),this.data_.set(n)),s=n.length),this.size_=s,this.type_=l}size(){return this.size_}type(){return this.type_}slice(n,r){if(fI(this.data_)){const l=function(i,n,r){return i.webkitSlice?i.webkitSlice(n,r):i.mozSlice?i.mozSlice(n,r):i.slice?i.slice(n,r):null}(this.data_,n,r);return null===l?null:new nl(l)}{const s=new Uint8Array(this.data_.buffer,n,r-n);return new nl(s,!0)}}static getBlob(...n){if(pw()){const r=n.map(s=>s instanceof nl?s.data_:s);return new nl(jM.apply(null,r))}{const r=n.map(g=>Zy(g)?_w(gs.RAW,g).data:g.data_);let s=0;r.forEach(g=>{s+=g.byteLength});const l=new Uint8Array(s);let d=0;return r.forEach(g=>{for(let y=0;y<g.length;y++)l[d++]=g[y]}),new nl(l,!0)}}uploadData(){return this.data_}}function yw(i){let n;try{n=JSON.parse(i)}catch(r){return null}return function(i){return"object"==typeof i&&!Array.isArray(i)}(n)?n:null}function GM(i){const n=i.lastIndexOf("/",i.length-2);return-1===n?i:i.slice(n+1)}function vw(i,n){return n}class Ai{constructor(n,r,s,l){this.server=n,this.local=r||n,this.writable=!!s,this.xform=l||vw}}let Wy=null;function Yy(){if(Wy)return Wy;const i=[];i.push(new Ai("bucket")),i.push(new Ai("generation")),i.push(new Ai("metageneration")),i.push(new Ai("name","fullPath",!0));const r=new Ai("name");r.xform=function(d,g){return function(i){return!Zy(i)||i.length<2?i:GM(i)}(g)},i.push(r);const l=new Ai("size");return l.xform=function(d,g){return void 0!==g?Number(g):g},i.push(l),i.push(new Ai("timeCreated")),i.push(new Ai("updated")),i.push(new Ai("md5Hash",null,!0)),i.push(new Ai("cacheControl",null,!0)),i.push(new Ai("contentDisposition",null,!0)),i.push(new Ai("contentEncoding",null,!0)),i.push(new Ai("contentLanguage",null,!0)),i.push(new Ai("contentType",null,!0)),i.push(new Ai("metadata","customMetadata",!0)),Wy=i,Wy}function yI(i,n,r){const s=yw(n);return null===s?null:function(i,n,r){const s={type:"file"},l=r.length;for(let d=0;d<l;d++){const g=r[d];s[g.local]=g.xform(s,n[g.server])}return function(i,n){Object.defineProperty(i,"ref",{get:function(){const d=new ai(i.bucket,i.fullPath);return n._makeStorageReference(d)}})}(s,i),s}(i,s,r)}function vI(i,n){const r={},s=n.length;for(let l=0;l<s;l++){const d=n[l];d.writable&&(r[d.server]=i[d.local])}return JSON.stringify(r)}const bw="prefixes";class Xo{constructor(n,r,s,l){this.url=n,this.method=r,this.handler=s,this.timeout=l,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Bs(i){if(!i)throw Sg()}function Xh(i,n){return function(s,l){const d=yI(i,l,n);return Bs(null!==d),d}}function rl(i){return function(r,s){let l;return l=401===r.getStatus()?r.getResponseText().includes("Firebase App Check token is invalid")?new qn("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new qn("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===r.getStatus()?function(i){return new qn("quota-exceeded","Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(i.bucket):403===r.getStatus()?function(i){return new qn("unauthorized","User does not have permission to access '"+i+"'.")}(i.path):s,l.serverResponse=s.serverResponse,l}}function Rg(i){const n=rl(i);return function(s,l){let d=n(s,l);return 404===s.getStatus()&&(d=function(i){return new qn("object-not-found","Object '"+i+"' does not exist.")}(i.path)),d.serverResponse=l.serverResponse,d}}function Ew(i,n,r){const l=gu(n.fullServerUrl(),i.host,i._protocol),g=i.maxOperationRetryTime,y=new Xo(l,"GET",Xh(i,r),g);return y.errorHandler=Rg(n),y}function WM(i,n,r,s,l){const d={};d.prefix=n.isRoot?"":n.path+"/",r&&r.length>0&&(d.delimiter=r),s&&(d.pageToken=s),l&&(d.maxResults=l);const y=gu(n.bucketOnlyServerUrl(),i.host,i._protocol),I=i.maxOperationRetryTime,S=new Xo(y,"GET",function(i,n){return function(s,l){const d=function(i,n,r){const s=yw(r);return null===s?null:function(i,n,r){const s={prefixes:[],items:[],nextPageToken:r.nextPageToken};if(r[bw])for(const l of r[bw]){const d=l.replace(/\/$/,""),g=i._makeStorageReference(new ai(n,d));s.prefixes.push(g)}if(r.items)for(const l of r.items){const d=i._makeStorageReference(new ai(n,l.name));s.items.push(d)}return s}(i,n,s)}(i,n,l);return Bs(null!==d),d}}(i,n.bucket),I);return S.urlParams=d,S.errorHandler=rl(n),S}function YM(i,n,r){const l=gu(n.fullServerUrl(),i.host,i._protocol),g=i.maxOperationRetryTime,y=new Xo(l,"GET",function(i,n){return function(s,l){const d=yI(i,l,n);return Bs(null!==d),function(i,n,r,s){const l=yw(n);if(null===l||!Zy(l.downloadTokens))return null;const d=l.downloadTokens;if(0===d.length)return null;const g=encodeURIComponent;return d.split(",").map(I=>{const x=i.fullPath;return gu("/b/"+g(i.bucket)+"/o/"+g(x),r,s)+PM({alt:"media",token:I})})[0]}(d,l,i.host,i._protocol)}}(i,r),g);return y.errorHandler=Rg(n),y}function CI(i,n,r,s){const d=gu(n.fullServerUrl(),i.host,i._protocol),y=vI(r,s),I=i.maxOperationRetryTime,S=new Xo(d,"PATCH",Xh(i,s),I);return S.headers={"Content-Type":"application/json; charset=utf-8"},S.body=y,S.errorHandler=Rg(n),S}function KM(i,n){const s=gu(n.fullServerUrl(),i.host,i._protocol),y=new Xo(s,"DELETE",function(E,I){},i.maxOperationRetryTime);return y.successCodes=[200,204],y.errorHandler=Rg(n),y}function DI(i,n,r){const s=Object.assign({},r);return s.fullPath=i.path,s.size=n.size(),s.contentType||(s.contentType=function(i,n){return n&&n.type()||"application/octet-stream"}(0,n)),s}class Jy{constructor(n,r,s,l){this.current=n,this.total=r,this.finalized=!!s,this.metadata=l||null}}function Gr(i,n){let r=null;try{r=i.getResponseHeader("X-Goog-Upload-Status")}catch(l){Bs(!1)}return Bs(!!r&&-1!==(n||["active"]).indexOf(r)),r}const Dw={STATE_CHANGED:"state_changed"},li={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ef(i){switch(i){case"running":case"pausing":case"canceling":return li.RUNNING;case"paused":return li.PAUSED;case"success":return li.SUCCESS;case"canceled":return li.CANCELED;case"error":default:return li.ERROR}}class JM{constructor(n,r,s){if(function(i){return"function"==typeof i}(n)||null!=r||null!=s)this.next=n,this.error=null!=r?r:void 0,this.complete=null!=s?s:void 0;else{const d=n;this.next=d.next,this.error=d.error,this.complete=d.complete}}}function tf(i){return(...n)=>{Promise.resolve().then(()=>i(...n))}}class TI{constructor(n,r,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=n,this._blob=r,this._metadata=s,this._mappings=Yy(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=l=>{this._request=void 0,this._chunkMultiplier=1,l._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=l,this._transition("error"))},this._metadataErrorHandler=l=>{this._request=void 0,l._codeEquals("canceled")?this.completeTransitions_():(this._error=l,this._transition("error"))},this._promise=new Promise((l,d)=>{this._resolve=l,this._reject=d,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const n=this._transferred;return r=>this._updateProgress(n+r)}_shouldDoResumable(n){return n.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(n){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([r,s])=>{switch(this._state){case"running":n(r,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((n,r)=>{const s=function(i,n,r,s,l){const d=n.bucketOnlyServerUrl(),g=DI(n,s,l),y={name:g.fullPath},E=gu(d,i.host,i._protocol),S={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":g.contentType,"Content-Type":"application/json; charset=utf-8"},x=vI(g,r),q=new Xo(E,"POST",function(te){let me;Gr(te);try{me=te.getResponseHeader("X-Goog-Upload-URL")}catch(Oe){Bs(!1)}return Bs(Zy(me)),me},i.maxUploadRetryTime);return q.urlParams=y,q.headers=S,q.body=x,q.errorHandler=rl(n),q}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),l=this._ref.storage._makeRequest(s,n,r);this._request=l,l.getPromise().then(d=>{this._request=void 0,this._uploadUrl=d,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const n=this._uploadUrl;this._resolveToken((r,s)=>{const l=function(i,n,r,s){const E=new Xo(r,"POST",function(I){const S=Gr(I,["active","final"]);let x=null;try{x=I.getResponseHeader("X-Goog-Upload-Size-Received")}catch(V){Bs(!1)}x||Bs(!1);const O=Number(x);return Bs(!isNaN(O)),new Jy(O,s.size(),"final"===S)},i.maxUploadRetryTime);return E.headers={"X-Goog-Upload-Command":"query"},E.errorHandler=rl(n),E}(this._ref.storage,this._ref._location,n,this._blob),d=this._ref.storage._makeRequest(l,r,s);this._request=d,d.getPromise().then(g=>{g=g,this._request=void 0,this._updateProgress(g.current),this._needToFetchStatus=!1,g.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const n=262144*this._chunkMultiplier,r=new Jy(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((l,d)=>{let g;try{g=function(i,n,r,s,l,d,g,y){const E=new Jy(0,0);if(g?(E.current=g.current,E.total=g.total):(E.current=0,E.total=s.size()),s.size()!==E.total)throw new qn("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const I=E.total-E.current;let S=I;l>0&&(S=Math.min(S,l));const x=E.current,q={"X-Goog-Upload-Command":S===I?"upload, finalize":"upload","X-Goog-Upload-Offset":`${E.current}`},te=s.slice(x,x+S);if(null===te)throw dw();const je=new Xo(r,"POST",function(He,Ht){const Mn=Gr(He,["active","final"]),ir=E.current+S,jn=s.size();let go;return go="final"===Mn?Xh(n,d)(He,Ht):null,new Jy(ir,jn,"final"===Mn,go)},n.maxUploadRetryTime);return je.headers=q,je.body=te.uploadData(),je.progressCallback=y||null,je.errorHandler=rl(i),je}(this._ref._location,this._ref.storage,s,this._blob,n,this._mappings,r,this._makeProgressCallback())}catch(E){return this._error=E,void this._transition("error")}const y=this._ref.storage._makeRequest(g,l,d);this._request=y,y.getPromise().then(E=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(E.current),E.finalized?(this._metadata=E.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((n,r)=>{const s=Ew(this._ref.storage,this._ref._location,this._mappings),l=this._ref.storage._makeRequest(s,n,r);this._request=l,l.getPromise().then(d=>{this._request=void 0,this._metadata=d,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((n,r)=>{const s=function(i,n,r,s,l){const d=n.bucketOnlyServerUrl(),g={"X-Goog-Upload-Protocol":"multipart"},E=function(){let je="";for(let He=0;He<2;He++)je+=Math.random().toString().slice(2);return je}();g["Content-Type"]="multipart/related; boundary="+E;const I=DI(n,s,l),S=vI(I,r),V=nl.getBlob("--"+E+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+S+"\r\n--"+E+"\r\nContent-Type: "+I.contentType+"\r\n\r\n",s,"\r\n--"+E+"--");if(null===V)throw dw();const q={name:I.fullPath},te=gu(d,i.host,i._protocol),Oe=i.maxUploadRetryTime,Pe=new Xo(te,"POST",Xh(i,r),Oe);return Pe.urlParams=q,Pe.headers=g,Pe.body=V.uploadData(),Pe.errorHandler=rl(n),Pe}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),l=this._ref.storage._makeRequest(s,n,r);this._request=l,l.getPromise().then(d=>{this._request=void 0,this._metadata=d,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(n){const r=this._transferred;this._transferred=n,this._transferred!==r&&this._notifyObservers()}_transition(n){if(this._state!==n)switch(n){case"canceling":case"pausing":this._state=n,void 0!==this._request&&this._request.cancel();break;case"running":const r="paused"===this._state;this._state=n,r&&(this._notifyObservers(),this._start());break;case"paused":this._state=n,this._notifyObservers();break;case"canceled":this._error=cI(),this._state=n,this._notifyObservers();break;case"error":case"success":this._state=n,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const n=ef(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:n,metadata:this._metadata,task:this,ref:this._ref}}on(n,r,s,l){const d=new JM(r||void 0,s||void 0,l||void 0);return this._addObserver(d),()=>{this._removeObserver(d)}}then(n,r){return this._promise.then(n,r)}catch(n){return this.then(null,n)}_addObserver(n){this._observers.push(n),this._notifyObserver(n)}_removeObserver(n){const r=this._observers.indexOf(n);-1!==r&&this._observers.splice(r,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(r=>{this._notifyObserver(r)})}_finishPromise(){if(void 0!==this._resolve){let n=!0;switch(ef(this._state)){case li.SUCCESS:tf(this._resolve.bind(null,this.snapshot))();break;case li.CANCELED:case li.ERROR:tf(this._reject.bind(null,this._error))();break;default:n=!1}n&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(n){switch(ef(this._state)){case li.RUNNING:case li.PAUSED:n.next&&tf(n.next.bind(n,this.snapshot))();break;case li.SUCCESS:n.complete&&tf(n.complete.bind(n))();break;case li.CANCELED:case li.ERROR:n.error&&tf(n.error.bind(n,this._error))();break;default:n.error&&tf(n.error.bind(n,this._error))()}}resume(){const n="paused"===this._state||"pausing"===this._state;return n&&this._transition("running"),n}pause(){const n="running"===this._state;return n&&this._transition("pausing"),n}cancel(){const n="running"===this._state||"pausing"===this._state;return n&&this._transition("canceling"),n}}class Kc{constructor(n,r){this._service=n,this._location=r instanceof ai?r:ai.makeFromUrl(r,n.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(n,r){return new Kc(n,r)}get root(){const n=new ai(this._location.bucket,"");return this._newRef(this._service,n)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return GM(this._location.path)}get storage(){return this._service}get parent(){const n=function(i){if(0===i.length)return null;const n=i.lastIndexOf("/");return-1===n?"":i.slice(0,n)}(this._location.path);if(null===n)return null;const r=new ai(this._location.bucket,n);return new Kc(this._service,r)}_throwIfRoot(n){if(""===this._location.path)throw hI(n)}}function il(i,n,r){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,ge.Z)(function*(i,n,r){const l=yield tv(i,{pageToken:r});n.prefixes.push(...l.prefixes),n.items.push(...l.items),null!=l.nextPageToken&&(yield il(i,n,l.nextPageToken))})).apply(this,arguments)}function tv(i,n){return Iw.apply(this,arguments)}function Iw(){return(Iw=(0,ge.Z)(function*(i,n){null!=n&&"number"==typeof n.maxResults&&gw("options.maxResults",1,1e3,n.maxResults);const r=n||{},s=WM(i.storage,i._location,"/",r.pageToken,r.maxResults);return(yield i.storage.makeRequestWithTokens(s)).getPromise()})).apply(this,arguments)}function Aw(){return(Aw=(0,ge.Z)(function*(i){i._throwIfRoot("getMetadata");const n=Ew(i.storage,i._location,Yy());return(yield i.storage.makeRequestWithTokens(n)).getPromise()})).apply(this,arguments)}function Nw(){return(Nw=(0,ge.Z)(function*(i,n){i._throwIfRoot("updateMetadata");const r=CI(i.storage,i._location,n,Yy());return(yield i.storage.makeRequestWithTokens(r)).getPromise()})).apply(this,arguments)}function nv(){return(nv=(0,ge.Z)(function*(i){i._throwIfRoot("getDownloadURL");const n=YM(i.storage,i._location,Yy());return(yield i.storage.makeRequestWithTokens(n)).getPromise().then(r=>{if(null===r)throw fw();return r})})).apply(this,arguments)}function Mw(){return(Mw=(0,ge.Z)(function*(i){i._throwIfRoot("deleteObject");const n=KM(i.storage,i._location);return(yield i.storage.makeRequestWithTokens(n)).getPromise()})).apply(this,arguments)}function AI(i,n){const r=function(i,n){const r=n.split("/").filter(s=>s.length>0).join("/");return 0===i.length?r:i+"/"+r}(i._location.path,n),s=new ai(i._location.bucket,r);return new Kc(i.storage,s)}function Jc(i,n){if(i instanceof xw){const r=i;if(null==r._bucket)throw new qn("no-default-bucket","No default bucket found. Did you set the '"+oI+"' property when initializing the app?");const s=new Kc(r,r._bucket);return null!=n?Jc(s,n):s}return void 0!==n?AI(i,n):i}function rv(i,n){if(n&&function(i){return/^[A-Za-z]+:\/\//.test(i)}(n)){if(i instanceof xw)return function(i,n){return new Kc(i,n)}(i,n);throw Jh("To use ref(service, url), the first argument must be a Storage instance.")}return Jc(i,n)}function Xc(i,n){const r=null==n?void 0:n[oI];return null==r?null:ai.makeFromBucketSpec(r,i)}class xw{constructor(n,r,s,l,d,g){this.app=n,this._authProvider=r,this._appCheckProvider=s,this._pool=l,this._url=d,this._firebaseVersion=g,this._bucket=null,this._host=sI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=d?ai.makeFromBucketSpec(d,this._host):Xc(this._host,this.app.options)}get host(){return this._host}set host(n){this._host=n,this._bucket=null!=this._url?ai.makeFromBucketSpec(this._url,n):Xc(n,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(n){gw("time",0,Number.POSITIVE_INFINITY,n),this._maxUploadRetryTime=n}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(n){gw("time",0,Number.POSITIVE_INFINITY,n),this._maxOperationRetryTime=n}_getAuthToken(){var n=this;return(0,ge.Z)(function*(){if(n._overrideAuthToken)return n._overrideAuthToken;const r=n._authProvider.getImmediate({optional:!0});if(r){const s=yield r.getToken();if(null!==s)return s.accessToken}return null})()}_getAppCheckToken(){var n=this;return(0,ge.Z)(function*(){const r=n._appCheckProvider.getImmediate({optional:!0});return r?(yield r.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(n=>n.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(n){return new Kc(this,n)}_makeRequest(n,r,s){if(this._deleted)return new Pk(Ng());{const l=function(i,n,r,s,l,d){const g=PM(i.urlParams),y=i.url+g,E=Object.assign({},i.headers);return function(i,n){n&&(i["X-Firebase-GMPID"]=n)}(E,n),function(i,n){null!==n&&n.length>0&&(i.Authorization="Firebase "+n)}(E,r),function(i,n){i["X-Firebase-Storage-Version"]="webjs/"+(null!=n?n:"AppManager")}(E,d),function(i,n){null!==n&&(i["X-Firebase-AppCheck"]=n)}(E,s),new FM(y,i.method,E,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,l)}(n,this._appId,r,s,this._pool,this._firebaseVersion);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(n){var r=this;return(0,ge.Z)(function*(){const[s,l]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(n,s,l)})()}}function MI(i,n){return rv(i=(0,At.m9)(i),n)}(0,Fl._registerComponent)(new g0.wA("storage",function(i,{instanceIdentifier:n}){const r=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),l=i.getProvider("app-check-internal");return new xw(r,s,l,new kM,n,Fl.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,Fl.registerVersion)("@firebase/storage","0.8.3");class iv{constructor(n,r,s){this._delegate=n,this.task=r,this.ref=s}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class hx{constructor(n,r){this._delegate=n,this._ref=r,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new iv(this._delegate.snapshot,this,this._ref)}then(n,r){return this._delegate.then(s=>{if(n)return n(new iv(s,this,this._ref))},r)}on(n,r,s,l){let d;return r&&(d="function"==typeof r?g=>r(new iv(g,this,this._ref)):{next:r.next?g=>r.next(new iv(g,this,this._ref)):void 0,complete:r.complete||void 0,error:r.error||void 0}),this._delegate.on(n,d,s||void 0,l||void 0)}}class fx{constructor(n,r){this._delegate=n,this._service=r}get prefixes(){return this._delegate.prefixes.map(n=>new mu(n,this._service))}get items(){return this._delegate.items.map(n=>new mu(n,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class mu{constructor(n,r){this._delegate=n,this.storage=r}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(n){const r=function(i,n){return AI(i,n)}(this._delegate,n);return new mu(r,this.storage)}get root(){return new mu(this._delegate.root,this.storage)}get parent(){const n=this._delegate.parent;return null==n?null:new mu(n,this.storage)}put(n,r){return this._throwIfRoot("put"),new hx(function(i,n,r){return function(i,n,r){return i._throwIfRoot("uploadBytesResumable"),new TI(i,new nl(n),r)}(i=(0,At.m9)(i),n,r)}(this._delegate,n,r),this)}putString(n,r=gs.RAW,s){this._throwIfRoot("putString");const l=_w(r,n),d=Object.assign({},s);return null==d.contentType&&null!=l.contentType&&(d.contentType=l.contentType),new hx(new TI(this._delegate,new nl(l.data,!0),d),this)}listAll(){return function(i){return function(i){const n={prefixes:[],items:[]};return il(i,n).then(()=>n)}(i=(0,At.m9)(i))}(this._delegate).then(n=>new fx(n,this.storage))}list(n){return function(i,n){return tv(i=(0,At.m9)(i),n)}(this._delegate,n||void 0).then(r=>new fx(r,this.storage))}getMetadata(){return function(i){return function(i){return Aw.apply(this,arguments)}(i=(0,At.m9)(i))}(this._delegate)}updateMetadata(n){return function(i,n){return function(i,n){return Nw.apply(this,arguments)}(i=(0,At.m9)(i),n)}(this._delegate,n)}getDownloadURL(){return function(i){return function(i){return nv.apply(this,arguments)}(i=(0,At.m9)(i))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(i){return function(i){return Mw.apply(this,arguments)}(i=(0,At.m9)(i))}(this._delegate)}_throwIfRoot(n){if(""===this._delegate._location.path)throw hI(n)}}class px{constructor(n,r){this.app=n,this._delegate=r}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(n){if(xI(n))throw Jh("ref() expected a child path but got a URL, use refFromURL instead.");return new mu(MI(this._delegate,n),this)}refFromURL(n){if(!xI(n))throw Jh("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ai.makeFromUrl(n,this._delegate.host)}catch(r){throw Jh("refFromUrl() expected a valid full URL but got an invalid one.")}return new mu(MI(this._delegate,n),this)}setMaxUploadRetryTime(n){this._delegate.maxUploadRetryTime=n}setMaxOperationRetryTime(n){this._delegate.maxOperationRetryTime=n}useEmulator(n,r,s={}){!function(i,n,r,s={}){!function(i,n,r,s={}){i.host=`${n}:${r}`,i._protocol="http";const{mockUserToken:l}=s;l&&(i._overrideAuthToken="string"==typeof l?l:(0,At.Sg)(l,i.app.options.projectId))}(i,n,r,s)}(this._delegate,n,r,s)}}function xI(i){return/^[A-Za-z]+:\/\//.test(i)}function Kk(i,{instanceIdentifier:n}){const r=i.getProvider("app-compat").getImmediate(),s=i.getProvider("storage").getImmediate({identifier:n});return new px(r,s)}function c(i){const n=function(i){return new Tn.y(n=>{const r=g=>n.next(g);r(i.snapshot);const d=i.on("state_changed",r);return i.then(g=>{r(g),n.complete()},g=>{r(i.snapshot),(g=>{n.error(g)})(g)}),function(){d()}}).pipe(function(i,n=gt.P){return r=>r.lift(new rI(i,n))}(0))}(i);return{task:i,then:i.then.bind(i),catch:i.catch.bind(i),pause:i.pause.bind(i),cancel:i.cancel.bind(i),resume:i.resume.bind(i),snapshotChanges:()=>n,percentageChanges:()=>n.pipe((0,ot.U)(r=>r.bytesTransferred/r.totalBytes*100))}}function h(i){return{getDownloadURL:()=>(0,ze.of)(void 0).pipe(hn.fc,On(()=>i.getDownloadURL()),hn.iC),getMetadata:()=>(0,ze.of)(void 0).pipe(hn.fc,On(()=>i.getMetadata()),hn.iC),delete:()=>(0,Jt.D)(i.delete()),child:n=>h(i.child(n)),updateMetadata:n=>(0,Jt.D)(i.updateMetadata(n)),put:(n,r)=>c(i.put(n,r)),putString:(n,r,s)=>c(i.putString(n,r,s)),listAll:()=>(0,Jt.D)(i.listAll())}}!function(i){const n={TaskState:li,TaskEvent:Dw,StringFormat:gs,Storage:px,Reference:mu};i.INTERNAL.registerComponent(new g0.wA("storage-compat",Kk,"PUBLIC").setServiceProps(n).setMultipleInstances(!0)),i.registerVersion("@firebase/storage-compat","0.1.3")}(p0.Z);const f=new u.OlP("angularfire2.storageBucket"),m=new u.OlP("angularfire2.storage.maxUploadRetryTime"),b=new u.OlP("angularfire2.storage.maxOperationRetryTime"),w=new u.OlP("angularfire2.storage.use-emulator");let T=(()=>{class i{constructor(r,s,l,d,g,y,E,I,S){const x=(0,Kn.on)(r,g,s);this.storage=(0,hn.cc)(`${x.name}.storage.${l}`,"AngularFireStorage",x.name,()=>{const O=g.runOutsideAngular(()=>x.storage(l||void 0)),V=S;return V&&O.useEmulator(...V),E&&O.setMaxUploadRetryTime(E),I&&O.setMaxOperationRetryTime(I),O},[E,I])}ref(r){return h(this.storage.ref(r))}refFromURL(r){return h(this.storage.refFromURL(r))}upload(r,s,l){return h(this.storage.ref(r)).put(s,l)}}return i.\u0275fac=function(r){return new(r||i)(u.LFG(Kn.Dh),u.LFG(Kn.xv,8),u.LFG(f,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(hn.HU),u.LFG(m,8),u.LFG(b,8),u.LFG(w,8))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),N=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({}),i})(),R=(()=>{class i{constructor(){Uy.Z.registerVersion("angularfire",hn.q4.full,"gcs-compat")}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({providers:[T],imports:[N]}),i})(),P=(()=>{class i{constructor(r){this.fireStorage=r}getMoviePicUrl(r){r.forEach(s=>{this.getRealUrl(s.movie.foto_path).then(l=>{s.movie.realUrl=l})})}getRealUrl(r){var s=this;return(0,ge.Z)(function*(){return yield s.fireStorage.storage.ref("/portadas/"+r).getDownloadURL().then(l=>l)})()}}return i.\u0275fac=function(r){return new(r||i)(u.LFG(T))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var B=L(9105);function ne(i,n,r,s){return(0,B.m)(r)&&(s=r,r=void 0),s?ne(i,n,r).pipe((0,ot.U)(l=>(0,Io.k)(l)?s(...l):s(l))):new Tn.y(l=>{J(i,n,function(g){l.next(arguments.length>1?Array.prototype.slice.call(arguments):g)},l,r)})}function J(i,n,r,s,l){let d;if(function(i){return i&&"function"==typeof i.addEventListener&&"function"==typeof i.removeEventListener}(i)){const g=i;i.addEventListener(n,r,l),d=()=>g.removeEventListener(n,r,l)}else if(function(i){return i&&"function"==typeof i.on&&"function"==typeof i.off}(i)){const g=i;i.on(n,r),d=()=>g.off(n,r)}else if(function(i){return i&&"function"==typeof i.addListener&&"function"==typeof i.removeListener}(i)){const g=i;i.addListener(n,r),d=()=>g.removeListener(n,r)}else{if(!i||!i.length)throw new TypeError("Invalid event target");for(let g=0,y=i.length;g<y;g++)J(i[g],n,r,s,l)}s.add(d)}var ft=L(6561);function vr(i){const{index:n,period:r,subscriber:s}=i;if(s.next(n),!s.closed){if(-1===r)return s.complete();i.index=n+1,this.schedule(i,r)}}function ms(...i){if(1===i.length){if(!(0,Io.k)(i[0]))return i[0];i=i[0]}return(0,Td.n)(i,void 0).lift(new Pg)}class Pg{call(n,r){return r.subscribe(new nf(n))}}class nf extends $f{constructor(n){super(n),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(n){this.observables.push(n)}_complete(){const n=this.observables,r=n.length;if(0===r)this.destination.complete();else{for(let s=0;s<r&&!this.hasFirst;s++){const d=Hf(this,n[s],void 0,s);this.subscriptions&&this.subscriptions.push(d),this.add(d)}this.observables=null}}notifyNext(n,r,s){if(!this.hasFirst){this.hasFirst=!0;for(let l=0;l<this.subscriptions.length;l++)if(l!==s){let d=this.subscriptions[l];d.unsubscribe(),this.remove(d)}this.subscriptions=null}this.destination.next(r)}}var rf=L(8640);new Tn.y(rf.Z);var sf=L(377);function of(...i){const n=i[i.length-1];return"function"==typeof n&&i.pop(),(0,Td.n)(i,void 0).lift(new Pw(n))}class Pw{constructor(n){this.resultSelector=n}call(n,r){return r.subscribe(new Fw(n,this.resultSelector))}}class Fw extends Dr.L{constructor(n,r,s=Object.create(null)){super(n),this.resultSelector=r,this.iterators=[],this.active=0,this.resultSelector="function"==typeof r?r:void 0}_next(n){const r=this.iterators;(0,Io.k)(n)?r.push(new _L(n)):r.push("function"==typeof n[sf.hZ]?new mL(n[sf.hZ]()):new yL(this.destination,this,n))}_complete(){const n=this.iterators,r=n.length;if(this.unsubscribe(),0!==r){this.active=r;for(let s=0;s<r;s++){let l=n[s];l.stillUnsubscribed?this.destination.add(l.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const n=this.iterators,r=n.length,s=this.destination;for(let g=0;g<r;g++){let y=n[g];if("function"==typeof y.hasValue&&!y.hasValue())return}let l=!1;const d=[];for(let g=0;g<r;g++){let y=n[g],E=y.next();if(y.hasCompleted()&&(l=!0),E.done)return void s.complete();d.push(E.value)}this.resultSelector?this._tryresultSelector(d):s.next(d),l&&s.complete()}_tryresultSelector(n){let r;try{r=this.resultSelector.apply(this,n)}catch(s){return void this.destination.error(s)}this.destination.next(r)}}class mL{constructor(n){this.iterator=n,this.nextResult=n.next()}hasValue(){return!0}next(){const n=this.nextResult;return this.nextResult=this.iterator.next(),n}hasCompleted(){const n=this.nextResult;return Boolean(n&&n.done)}}class _L{constructor(n){this.array=n,this.index=0,this.length=0,this.length=n.length}[sf.hZ](){return this}next(n){const r=this.index++;return r<this.length?{value:this.array[r],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class yL extends Bi.Ds{constructor(n,r,s){super(n),this.parent=r,this.observable=s,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[sf.hZ](){return this}next(){const n=this.buffer;return 0===n.length&&this.isComplete?{value:null,done:!0}:{value:n.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(n){this.buffer.push(n),this.parent.checkIterators()}subscribe(){return(0,Bi.ft)(this.observable,new Bi.IY(this))}}function nr(i){return n=>n.lift(new bL(i))}class bL{constructor(n){this.notifier=n}call(n,r){const s=new wL(n),l=(0,Bi.ft)(this.notifier,new Bi.IY(s));return l&&!s.seenValue?(s.add(l),r.subscribe(s)):s}}class wL extends Bi.Ds{constructor(n){super(n),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function gx(...i){return n=>{let r;return"function"==typeof i[i.length-1]&&(r=i.pop()),n.lift(new EL(i,r))}}class EL{constructor(n,r){this.observables=n,this.project=r}call(n,r){return r.subscribe(new CL(n,this.observables,this.project))}}class CL extends $f{constructor(n,r,s){super(n),this.observables=r,this.project=s,this.toRespond=[];const l=r.length;this.values=new Array(l);for(let d=0;d<l;d++)this.toRespond.push(d);for(let d=0;d<l;d++)this.add(Hf(this,r[d],void 0,d))}notifyNext(n,r,s){this.values[s]=r;const l=this.toRespond;if(l.length>0){const d=l.indexOf(s);-1!==d&&l.splice(d,1)}}notifyComplete(){}_next(n){if(0===this.toRespond.length){const r=[n,...this.values];this.project?this._tryProject(r):this.destination.next(r)}}_tryProject(n){let r;try{r=this.project.apply(this,n)}catch(s){return void this.destination.error(s)}this.destination.next(r)}}var Qk=L(1593);class TL{constructor(n,r){this.delay=n,this.scheduler=r}call(n,r){return r.subscribe(new mx(n,this.delay,this.scheduler))}}class mx extends Dr.L{constructor(n,r,s){super(n),this.delay=r,this.scheduler=s,this.queue=[],this.active=!1,this.errored=!1}static dispatch(n){const r=n.source,s=r.queue,l=n.scheduler,d=n.destination;for(;s.length>0&&s[0].time-l.now()<=0;)s.shift().notification.observe(d);if(s.length>0){const g=Math.max(0,s[0].time-l.now());this.schedule(n,g)}else this.unsubscribe(),r.active=!1}_schedule(n){this.active=!0,this.destination.add(n.schedule(mx.dispatch,this.delay,{source:this,destination:this.destination,scheduler:n}))}scheduleNotification(n){if(!0===this.errored)return;const r=this.scheduler,s=new IL(r.now()+this.delay,n);this.queue.push(s),!1===this.active&&this._schedule(r)}_next(n){this.scheduleNotification(Qk.P.createNext(n))}_error(n){this.errored=!0,this.queue=[],this.destination.error(n),this.unsubscribe()}_complete(){this.scheduleNotification(Qk.P.createComplete()),this.unsubscribe()}}class IL{constructor(n,r){this.time=n,this.notification=r}}L(8819);var xL=L(1555);function kI(i,n){return new Tn.y(r=>{const s=i.length;if(0===s)return void r.complete();const l=new Array(s);let d=0,g=0;for(let y=0;y<s;y++){const E=(0,Jt.D)(i[y]);let I=!1;r.add(E.subscribe({next:S=>{I||(I=!0,g++),l[y]=S},error:S=>r.error(S),complete:()=>{d++,(d===s||!I)&&(g===s&&r.next(n?n.reduce((S,x,O)=>(S[x]=l[O],S),{}):l),r.complete())}}))}})}let Xk=(()=>{class i{constructor(r,s){this._renderer=r,this._elementRef=s,this.onChange=l=>{},this.onTouched=()=>{}}setProperty(r,s){this._renderer.setProperty(this._elementRef.nativeElement,r,s)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return i.\u0275fac=function(r){return new(r||i)(u.Y36(u.Qsj),u.Y36(u.SBq))},i.\u0275dir=u.lG2({type:i}),i})(),Fg=(()=>{class i extends Xk{}return i.\u0275fac=function(){let n;return function(s){return(n||(n=u.n5z(i)))(s||i)}}(),i.\u0275dir=u.lG2({type:i,features:[u.qOj]}),i})();const Si=new u.OlP("NgValueAccessor"),OL={provide:Si,useExisting:(0,u.Gpc)(()=>sv),multi:!0},FL=new u.OlP("CompositionEventMode");let sv=(()=>{class i extends Xk{constructor(r,s,l){super(r,s),this._compositionMode=l,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const i=H()?H().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(r){this.setProperty("value",null==r?"":r)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return i.\u0275fac=function(r){return new(r||i)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(FL,8))},i.\u0275dir=u.lG2({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){1&r&&u.NdJ("input",function(d){return s._handleInput(d.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(d){return s._compositionEnd(d.target.value)})},features:[u._Bn([OL]),u.qOj]}),i})();function af(i){return null==i||0===i.length}function tO(i){return null!=i&&"number"==typeof i.length}const Ni=new u.OlP("NgValidators"),lf=new u.OlP("NgAsyncValidators"),LL=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class _u{static min(n){return function(i){return n=>{if(af(n.value)||af(i))return null;const r=parseFloat(n.value);return!isNaN(r)&&r<i?{min:{min:i,actual:n.value}}:null}}(n)}static max(n){return function(i){return n=>{if(af(n.value)||af(i))return null;const r=parseFloat(n.value);return!isNaN(r)&&r>i?{max:{max:i,actual:n.value}}:null}}(n)}static required(n){return iO(n)}static requiredTrue(n){return function(i){return!0===i.value?null:{required:!0}}(n)}static email(n){return function(i){return af(i.value)||LL.test(i.value)?null:{email:!0}}(n)}static minLength(n){return aO(n)}static maxLength(n){return lO(n)}static pattern(n){return uO(n)}static nullValidator(n){return null}static compose(n){return gO(n)}static composeAsync(n){return mO(n)}}function iO(i){return af(i.value)?{required:!0}:null}function aO(i){return n=>af(n.value)||!tO(n.value)?null:n.value.length<i?{minlength:{requiredLength:i,actualLength:n.value.length}}:null}function lO(i){return n=>tO(n.value)&&n.value.length>i?{maxlength:{requiredLength:i,actualLength:n.value.length}}:null}function uO(i){if(!i)return uf;let n,r;return"string"==typeof i?(r="","^"!==i.charAt(0)&&(r+="^"),r+=i,"$"!==i.charAt(i.length-1)&&(r+="$"),n=new RegExp(r)):(r=i.toString(),n=i),s=>{if(af(s.value))return null;const l=s.value;return n.test(l)?null:{pattern:{requiredPattern:r,actualValue:l}}}}function uf(i){return null}function cO(i){return null!=i}function dO(i){const n=(0,u.QGY)(i)?(0,Jt.D)(i):i;return(0,u.CqO)(n),n}function hO(i){let n={};return i.forEach(r=>{n=null!=r?Object.assign(Object.assign({},n),r):n}),0===Object.keys(n).length?null:n}function fO(i,n){return n.map(r=>r(i))}function pO(i){return i.map(n=>function(i){return!i.validate}(n)?n:r=>n.validate(r))}function gO(i){if(!i)return null;const n=i.filter(cO);return 0==n.length?null:function(r){return hO(fO(r,n))}}function _x(i){return null!=i?gO(pO(i)):null}function mO(i){if(!i)return null;const n=i.filter(cO);return 0==n.length?null:function(r){return function(...i){if(1===i.length){const n=i[0];if((0,Io.k)(n))return kI(n,null);if((0,xL.K)(n)&&Object.getPrototypeOf(n)===Object.prototype){const r=Object.keys(n);return kI(r.map(s=>n[s]),r)}}if("function"==typeof i[i.length-1]){const n=i.pop();return kI(i=1===i.length&&(0,Io.k)(i[0])?i[0]:i,null).pipe((0,ot.U)(r=>n(...r)))}return kI(i,null)}(fO(r,n).map(dO)).pipe((0,ot.U)(hO))}}function yx(i){return null!=i?mO(pO(i)):null}function _O(i,n){return null===i?[n]:Array.isArray(i)?[...i,n]:[i,n]}function yO(i){return i._rawValidators}function vO(i){return i._rawAsyncValidators}function vx(i){return i?Array.isArray(i)?i:[i]:[]}function OI(i,n){return Array.isArray(i)?i.includes(n):i===n}function bO(i,n){const r=vx(n);return vx(i).forEach(l=>{OI(r,l)||r.push(l)}),r}function wO(i,n){return vx(n).filter(r=>!OI(i,r))}let EO=(()=>{class i{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(r){this._rawValidators=r||[],this._composedValidatorFn=_x(this._rawValidators)}_setAsyncValidators(r){this._rawAsyncValidators=r||[],this._composedAsyncValidatorFn=yx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(r){this._onDestroyCallbacks.push(r)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(r=>r()),this._onDestroyCallbacks=[]}reset(r){this.control&&this.control.reset(r)}hasError(r,s){return!!this.control&&this.control.hasError(r,s)}getError(r,s){return this.control?this.control.getError(r,s):null}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=u.lG2({type:i}),i})(),_s=(()=>{class i extends EO{get formDirective(){return null}get path(){return null}}return i.\u0275fac=function(){let n;return function(s){return(n||(n=u.n5z(i)))(s||i)}}(),i.\u0275dir=u.lG2({type:i,features:[u.qOj]}),i})();class cf extends EO{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class CO{constructor(n){this._cd=n}is(n){var r,s,l;return"submitted"===n?!!(null===(r=this._cd)||void 0===r?void 0:r.submitted):!!(null===(l=null===(s=this._cd)||void 0===s?void 0:s.control)||void 0===l?void 0:l[n])}}let PI=(()=>{class i extends CO{constructor(r){super(r)}}return i.\u0275fac=function(r){return new(r||i)(u.Y36(cf,2))},i.\u0275dir=u.lG2({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){2&r&&u.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))},features:[u.qOj]}),i})(),bx=(()=>{class i extends CO{constructor(r){super(r)}}return i.\u0275fac=function(r){return new(r||i)(u.Y36(_s,10))},i.\u0275dir=u.lG2({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,s){2&r&&u.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))("ng-submitted",s.is("submitted"))},features:[u.qOj]}),i})();function LI(i,n){return[...n.path,i]}function Lw(i,n){Cx(i,n),n.valueAccessor.writeValue(i.value),function(i,n){n.valueAccessor.registerOnChange(r=>{i._pendingValue=r,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&DO(i,n)})}(i,n),function(i,n){const r=(s,l)=>{n.valueAccessor.writeValue(s),l&&n.viewToModelUpdate(s)};i.registerOnChange(r),n._registerOnDestroy(()=>{i._unregisterOnChange(r)})}(i,n),function(i,n){n.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&DO(i,n),"submit"!==i.updateOn&&i.markAsTouched()})}(i,n),function(i,n){if(n.valueAccessor.setDisabledState){const r=s=>{n.valueAccessor.setDisabledState(s)};i.registerOnDisabledChange(r),n._registerOnDestroy(()=>{i._unregisterOnDisabledChange(r)})}}(i,n)}function VI(i,n,r=!0){const s=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(s),n.valueAccessor.registerOnTouched(s)),BI(i,n),i&&(n._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function UI(i,n){i.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(n)})}function Cx(i,n){const r=yO(i);null!==n.validator?i.setValidators(_O(r,n.validator)):"function"==typeof r&&i.setValidators([r]);const s=vO(i);null!==n.asyncValidator?i.setAsyncValidators(_O(s,n.asyncValidator)):"function"==typeof s&&i.setAsyncValidators([s]);const l=()=>i.updateValueAndValidity();UI(n._rawValidators,l),UI(n._rawAsyncValidators,l)}function BI(i,n){let r=!1;if(null!==i){if(null!==n.validator){const l=yO(i);if(Array.isArray(l)&&l.length>0){const d=l.filter(g=>g!==n.validator);d.length!==l.length&&(r=!0,i.setValidators(d))}}if(null!==n.asyncValidator){const l=vO(i);if(Array.isArray(l)&&l.length>0){const d=l.filter(g=>g!==n.asyncValidator);d.length!==l.length&&(r=!0,i.setAsyncValidators(d))}}}const s=()=>{};return UI(n._rawValidators,s),UI(n._rawAsyncValidators,s),r}function DO(i,n){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function Dx(i,n){if(!i.hasOwnProperty("model"))return!1;const r=i.model;return!!r.isFirstChange()||!Object.is(n,r.currentValue)}function Tx(i,n){if(!n)return null;let r,s,l;return Array.isArray(n),n.forEach(d=>{d.constructor===sv?r=d:function(i){return Object.getPrototypeOf(i.constructor)===Fg}(d)?s=d:l=d}),l||s||r||null}function jI(i,n){const r=i.indexOf(n);r>-1&&i.splice(r,1)}const Vw="VALID",$I="INVALID",ov="PENDING",Uw="DISABLED";function Ix(i){return(Sx(i)?i.validators:i)||null}function AO(i){return Array.isArray(i)?_x(i):i||null}function Ax(i,n){return(Sx(n)?n.asyncValidators:i)||null}function SO(i){return Array.isArray(i)?yx(i):i||null}function Sx(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}class Nx{constructor(n,r){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=r,this._composedValidatorFn=AO(this._rawValidators),this._composedAsyncValidatorFn=SO(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===Vw}get invalid(){return this.status===$I}get pending(){return this.status==ov}get disabled(){return this.status===Uw}get enabled(){return this.status!==Uw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._rawValidators=n,this._composedValidatorFn=AO(n)}setAsyncValidators(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=SO(n)}addValidators(n){this.setValidators(bO(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(bO(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(wO(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(wO(n,this._rawAsyncValidators))}hasValidator(n){return OI(this._rawValidators,n)}hasAsyncValidator(n){return OI(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(r=>{r.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=ov,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const r=this._parentMarkedDirty(n.onlySelf);this.status=Uw,this.errors=null,this._forEachChild(s=>{s.disable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:r})),this._onDisabledChange.forEach(s=>s(!0))}enable(n={}){const r=this._parentMarkedDirty(n.onlySelf);this.status=Vw,this._forEachChild(s=>{s.enable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:r})),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Vw||this.status===ov)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Uw:Vw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=ov,this._hasOwnPendingAsyncValidator=!0;const r=dO(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(s=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(s,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,r={}){this.errors=n,this._updateControlsErrors(!1!==r.emitEvent)}get(n){return function(i,n,r){if(null==n||(Array.isArray(n)||(n=n.split(".")),Array.isArray(n)&&0===n.length))return null;let s=i;return n.forEach(l=>{s=s instanceof Bw?s.controls.hasOwnProperty(l)?s.controls[l]:null:s instanceof Mx&&s.at(l)||null}),s}(this,n)}getError(n,r){const s=r?this.get(r):this;return s&&s.errors?s.errors[n]:null}hasError(n,r){return!!this.getError(n,r)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?Uw:this.errors?$I:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ov)?ov:this._anyControlsHaveStatus($I)?$I:Vw}_anyControlsHaveStatus(n){return this._anyControls(r=>r.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_isBoxedValue(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Sx(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class av extends Nx{constructor(n=null,r,s){super(Ix(r),Ax(s,r)),this._onChange=[],this._applyFormState(n),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(n,r={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==r.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==r.emitViewToModelChange)),this.updateValueAndValidity(r)}patchValue(n,r={}){this.setValue(n,r)}reset(n=null,r={}){this._applyFormState(n),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){jI(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){jI(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){this._isBoxedValue(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}}class Bw extends Nx{constructor(n,r,s){super(Ix(r),Ax(s,r)),this.controls=n,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,r){return this.controls[n]?this.controls[n]:(this.controls[n]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(n,r,s={}){this.registerControl(n,r),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}removeControl(n,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(n,r,s={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],r&&this.registerControl(n,r),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,r={}){this._checkAllValuesPresent(n),Object.keys(n).forEach(s=>{this._throwIfControlMissing(s),this.controls[s].setValue(n[s],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(n,r={}){null!=n&&(Object.keys(n).forEach(s=>{this.controls[s]&&this.controls[s].patchValue(n[s],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(n={},r={}){this._forEachChild((s,l)=>{s.reset(n[l],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(n,r,s)=>(n[s]=r instanceof av?r.value:r.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(r,s)=>!!s._syncPendingControls()||r);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_throwIfControlMissing(n){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[n])throw new Error(`Cannot find form control with name: ${n}.`)}_forEachChild(n){Object.keys(this.controls).forEach(r=>{const s=this.controls[r];s&&n(s,r)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const r of Object.keys(this.controls)){const s=this.controls[r];if(this.contains(r)&&n(s))return!0}return!1}_reduceValue(){return this._reduceChildren({},(n,r,s)=>((r.enabled||this.disabled)&&(n[s]=r.value),n))}_reduceChildren(n,r){let s=n;return this._forEachChild((l,d)=>{s=r(s,l,d)}),s}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(n){this._forEachChild((r,s)=>{if(void 0===n[s])throw new Error(`Must supply a value for form control with name: '${s}'.`)})}}class Mx extends Nx{constructor(n,r,s){super(Ix(r),Ax(s,r)),this.controls=n,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[n]}push(n,r={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}insert(n,r,s={}){this.controls.splice(n,0,r),this._registerControl(r),this.updateValueAndValidity({emitEvent:s.emitEvent})}removeAt(n,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:r.emitEvent})}setControl(n,r,s={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),r&&(this.controls.splice(n,0,r),this._registerControl(r)),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,r={}){this._checkAllValuesPresent(n),n.forEach((s,l)=>{this._throwIfControlMissing(l),this.at(l).setValue(s,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(n,r={}){null!=n&&(n.forEach((s,l)=>{this.at(l)&&this.at(l).patchValue(s,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(n=[],r={}){this._forEachChild((s,l)=>{s.reset(n[l],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this.controls.map(n=>n instanceof av?n.value:n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(r=>r._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_syncPendingControls(){let n=this.controls.reduce((r,s)=>!!s._syncPendingControls()||r,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_throwIfControlMissing(n){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(n))throw new Error(`Cannot find form control at index ${n}`)}_forEachChild(n){this.controls.forEach((r,s)=>{n(r,s)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(r=>r.enabled&&n(r))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_checkAllValuesPresent(n){this._forEachChild((r,s)=>{if(void 0===n[s])throw new Error(`Must supply a value for form control at index: ${s}.`)})}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}}let NO=(()=>{class i extends _s{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return LI(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return i.\u0275fac=function(){let n;return function(s){return(n||(n=u.n5z(i)))(s||i)}}(),i.\u0275dir=u.lG2({type:i,features:[u.qOj]}),i})();const JL={provide:cf,useExisting:(0,u.Gpc)(()=>Rx)},xO=(()=>Promise.resolve(null))();let Rx=(()=>{class i extends cf{constructor(r,s,l,d){super(),this.control=new av,this._registered=!1,this.update=new u.vpe,this._parent=r,this._setValidators(s),this._setAsyncValidators(l),this.valueAccessor=Tx(0,d)}ngOnChanges(r){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in r&&this._updateDisabled(r),Dx(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?LI(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Lw(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(r){xO.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1})})}_updateDisabled(r){const s=r.isDisabled.currentValue,l=""===s||s&&"false"!==s;xO.then(()=>{l&&!this.control.disabled?this.control.disable():!l&&this.control.disabled&&this.control.enable()})}}return i.\u0275fac=function(r){return new(r||i)(u.Y36(_s,9),u.Y36(Ni,10),u.Y36(lf,10),u.Y36(Si,10))},i.\u0275dir=u.lG2({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([JL]),u.qOj,u.TTD]}),i})(),kx=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=u.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),i})(),kO=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({}),i})();const Ox=new u.OlP("NgModelWithFormControlWarning"),i2={provide:_s,useExisting:(0,u.Gpc)(()=>$w)};let $w=(()=>{class i extends _s{constructor(r,s){super(),this.validators=r,this.asyncValidators=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(r),this._setAsyncValidators(s)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(BI(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){const s=this.form.get(r.path);return Lw(s,r),s.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),s}getControl(r){return this.form.get(r.path)}removeControl(r){VI(r.control||null,r,!1),jI(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,s){this.form.get(r.path).setValue(s)}onSubmit(r){return this.submitted=!0,function(i,n){i._syncPendingControls(),n.forEach(r=>{const s=r.control;"submit"===s.updateOn&&s._pendingChange&&(r.viewToModelUpdate(s._pendingValue),s._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(r),!1}onReset(){this.resetForm()}resetForm(r){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{const s=r.control,l=this.form.get(r.path);s!==l&&(VI(s||null,r),l instanceof av&&(Lw(l,r),r.control=l))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){const s=this.form.get(r.path);(function(i,n){Cx(i,n)})(s,r),s.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){const s=this.form.get(r.path);s&&function(i,n){return BI(i,n)}(s,r)&&s.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Cx(this.form,this),this._oldForm&&BI(this._oldForm,this)}_checkFormPresent(){}}return i.\u0275fac=function(r){return new(r||i)(u.Y36(Ni,10),u.Y36(lf,10))},i.\u0275dir=u.lG2({type:i,selectors:[["","formGroup",""]],hostBindings:function(r,s){1&r&&u.NdJ("submit",function(d){return s.onSubmit(d)})("reset",function(){return s.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([i2]),u.qOj,u.TTD]}),i})();const s2={provide:_s,useExisting:(0,u.Gpc)(()=>Px)};let Px=(()=>{class i extends NO{constructor(r,s,l){super(),this._parent=r,this._setValidators(s),this._setAsyncValidators(l)}_checkParentType(){LO(this._parent)}}return i.\u0275fac=function(r){return new(r||i)(u.Y36(_s,13),u.Y36(Ni,10),u.Y36(lf,10))},i.\u0275dir=u.lG2({type:i,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[u._Bn([s2]),u.qOj]}),i})();const o2={provide:_s,useExisting:(0,u.Gpc)(()=>HI)};let HI=(()=>{class i extends _s{constructor(r,s,l){super(),this._parent=r,this._setValidators(s),this._setAsyncValidators(l)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return LI(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){LO(this._parent)}}return i.\u0275fac=function(r){return new(r||i)(u.Y36(_s,13),u.Y36(Ni,10),u.Y36(lf,10))},i.\u0275dir=u.lG2({type:i,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[u._Bn([o2]),u.qOj]}),i})();function LO(i){return!(i instanceof Px||i instanceof $w||i instanceof HI)}const a2={provide:cf,useExisting:(0,u.Gpc)(()=>GI)};let GI=(()=>{class i extends cf{constructor(r,s,l,d,g){super(),this._ngModelWarningConfig=g,this._added=!1,this.update=new u.vpe,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(s),this._setAsyncValidators(l),this.valueAccessor=Tx(0,d)}set isDisabled(r){}ngOnChanges(r){this._added||this._setUpControl(),Dx(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return LI(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return i.\u0275fac=function(r){return new(r||i)(u.Y36(_s,13),u.Y36(Ni,10),u.Y36(lf,10),u.Y36(Si,10),u.Y36(Ox,8))},i.\u0275dir=u.lG2({type:i,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[u._Bn([a2]),u.qOj,u.TTD]}),i._ngModelWarningSentOnce=!1,i})();const l2={provide:Si,useExisting:(0,u.Gpc)(()=>Hw),multi:!0};function VO(i,n){return null==i?`${n}`:(n&&"object"==typeof n&&(n="Object"),`${i}: ${n}`.slice(0,50))}let Hw=(()=>{class i extends Fg{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;const s=this._getOptionId(r);null==s&&this.setProperty("selectedIndex",-1);const l=VO(s,r);this.setProperty("value",l)}registerOnChange(r){this.onChange=s=>{this.value=this._getOptionValue(s),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(const s of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(s),r))return s;return null}_getOptionValue(r){const s=function(i){return i.split(":")[0]}(r);return this._optionMap.has(s)?this._optionMap.get(s):r}}return i.\u0275fac=function(){let n;return function(s){return(n||(n=u.n5z(i)))(s||i)}}(),i.\u0275dir=u.lG2({type:i,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,s){1&r&&u.NdJ("change",function(d){return s.onChange(d.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[u._Bn([l2]),u.qOj]}),i})(),qI=(()=>{class i{constructor(r,s,l){this._element=r,this._renderer=s,this._select=l,this._select&&(this.id=this._select._registerOption())}set ngValue(r){null!=this._select&&(this._select._optionMap.set(this.id,r),this._setElementValue(VO(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return i.\u0275fac=function(r){return new(r||i)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(Hw,9))},i.\u0275dir=u.lG2({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),i})();const c2={provide:Si,useExisting:(0,u.Gpc)(()=>Fx),multi:!0};function UO(i,n){return null==i?`${n}`:("string"==typeof n&&(n=`'${n}'`),n&&"object"==typeof n&&(n="Object"),`${i}: ${n}`.slice(0,50))}let Fx=(()=>{class i extends Fg{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){let s;if(this.value=r,Array.isArray(r)){const l=r.map(d=>this._getOptionId(d));s=(d,g)=>{d._setSelected(l.indexOf(g.toString())>-1)}}else s=(l,d)=>{l._setSelected(!1)};this._optionMap.forEach(s)}registerOnChange(r){this.onChange=s=>{const l=[];if(void 0!==s.selectedOptions){const d=s.selectedOptions;for(let g=0;g<d.length;g++){const y=d.item(g),E=this._getOptionValue(y.value);l.push(E)}}else{const d=s.options;for(let g=0;g<d.length;g++){const y=d.item(g);if(y.selected){const E=this._getOptionValue(y.value);l.push(E)}}}this.value=l,r(l)}}_registerOption(r){const s=(this._idCounter++).toString();return this._optionMap.set(s,r),s}_getOptionId(r){for(const s of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(s)._value,r))return s;return null}_getOptionValue(r){const s=function(i){return i.split(":")[0]}(r);return this._optionMap.has(s)?this._optionMap.get(s)._value:r}}return i.\u0275fac=function(){let n;return function(s){return(n||(n=u.n5z(i)))(s||i)}}(),i.\u0275dir=u.lG2({type:i,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,s){1&r&&u.NdJ("change",function(d){return s.onChange(d.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[u._Bn([c2]),u.qOj]}),i})(),ZI=(()=>{class i{constructor(r,s,l){this._element=r,this._renderer=s,this._select=l,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){null!=this._select&&(this._value=r,this._setElementValue(UO(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(UO(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return i.\u0275fac=function(r){return new(r||i)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(Fx,9))},i.\u0275dir=u.lG2({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),i})();function BO(i){return"number"==typeof i?i:parseInt(i,10)}const p2={provide:Ni,useExisting:(0,u.Gpc)(()=>lv),multi:!0};let lv=(()=>{class i{constructor(){this._required=!1}get required(){return this._required}set required(r){this._required=null!=r&&!1!==r&&"false"!=`${r}`,this._onChange&&this._onChange()}validate(r){return this.required?iO(r):null}registerOnValidatorChange(r){this._onChange=r}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=u.lG2({type:i,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,s){2&r&&u.uIk("required",s.required?"":null)},inputs:{required:"required"},features:[u._Bn([p2])]}),i})();const _2={provide:Ni,useExisting:(0,u.Gpc)(()=>zI),multi:!0};let zI=(()=>{class i{constructor(){this._validator=uf}ngOnChanges(r){"minlength"in r&&(this._createValidator(),this._onChange&&this._onChange())}validate(r){return this.enabled()?this._validator(r):null}registerOnValidatorChange(r){this._onChange=r}_createValidator(){this._validator=this.enabled()?aO(BO(this.minlength)):uf}enabled(){return null!=this.minlength}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=u.lG2({type:i,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,s){2&r&&u.uIk("minlength",s.enabled()?s.minlength:null)},inputs:{minlength:"minlength"},features:[u._Bn([_2]),u.TTD]}),i})();const y2={provide:Ni,useExisting:(0,u.Gpc)(()=>WI),multi:!0};let WI=(()=>{class i{constructor(){this._validator=uf}ngOnChanges(r){"maxlength"in r&&(this._createValidator(),this._onChange&&this._onChange())}validate(r){return this.enabled()?this._validator(r):null}registerOnValidatorChange(r){this._onChange=r}_createValidator(){this._validator=this.enabled()?lO(BO(this.maxlength)):uf}enabled(){return null!=this.maxlength}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=u.lG2({type:i,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,s){2&r&&u.uIk("maxlength",s.enabled()?s.maxlength:null)},inputs:{maxlength:"maxlength"},features:[u._Bn([y2]),u.TTD]}),i})();const v2={provide:Ni,useExisting:(0,u.Gpc)(()=>Lx),multi:!0};let Lx=(()=>{class i{constructor(){this._validator=uf}ngOnChanges(r){"pattern"in r&&(this._createValidator(),this._onChange&&this._onChange())}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}_createValidator(){this._validator=uO(this.pattern)}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=u.lG2({type:i,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(r,s){2&r&&u.uIk("pattern",s.pattern?s.pattern:null)},inputs:{pattern:"pattern"},features:[u._Bn([v2]),u.TTD]}),i})(),ZO=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[[kO]]}),i})(),zO=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[ZO]}),i})(),WO=(()=>{class i{static withConfig(r){return{ngModule:i,providers:[{provide:Ox,useValue:r.warnOnNgModelWithFormControl}]}}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[ZO]}),i})(),YO=(()=>{class i{group(r,s=null){const l=this._reduceControls(r);let y,d=null,g=null;return null!=s&&(function(i){return void 0!==i.asyncValidators||void 0!==i.validators||void 0!==i.updateOn}(s)?(d=null!=s.validators?s.validators:null,g=null!=s.asyncValidators?s.asyncValidators:null,y=null!=s.updateOn?s.updateOn:void 0):(d=null!=s.validator?s.validator:null,g=null!=s.asyncValidator?s.asyncValidator:null)),new Bw(l,{asyncValidators:g,updateOn:y,validators:d})}control(r,s,l){return new av(r,s,l)}array(r,s,l){const d=r.map(g=>this._createControl(g));return new Mx(d,s,l)}_reduceControls(r){const s={};return Object.keys(r).forEach(l=>{s[l]=this._createControl(r[l])}),s}_createControl(r){return r instanceof av||r instanceof Bw||r instanceof Mx?r:Array.isArray(r)?this.control(r[0],r.length>1?r[1]:null,r.length>2?r[2]:null):this.control(r)}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=(0,u.Yz7)({factory:function(){return new i},token:i,providedIn:WO}),i})();const uv=["*"],O2=["defaultDayTemplate"],P2=["content"];function F2(i,n){if(1&i&&u._UZ(0,"div",7),2&i){const s=n.currentMonth,l=n.selected,d=n.disabled,g=n.focused;u.Q6J("date",n.date)("currentMonth",s)("selected",l)("disabled",d)("focused",g)}}function L2(i,n){if(1&i&&(u.TgZ(0,"div",12),u._uU(1),u.qZA()),2&i){const r=u.oxw().$implicit,s=u.oxw(2);u.xp6(1),u.hij(" ",s.i18n.getMonthLabel(r.firstDate)," ")}}function V2(i,n){if(1&i&&(u.TgZ(0,"div",9),u.YNc(1,L2,2,1,"div",10),u._UZ(2,"ngb-datepicker-month",11),u.qZA()),2&i){const r=n.$implicit,s=u.oxw(2);u.xp6(1),u.Q6J("ngIf","none"===s.navigation||s.displayMonths>1&&"select"===s.navigation),u.xp6(1),u.Q6J("month",r.firstDate)}}function U2(i,n){if(1&i&&u.YNc(0,V2,3,2,"div",8),2&i){const r=u.oxw();u.Q6J("ngForOf",r.model.months)}}function B2(i,n){if(1&i){const r=u.EpF();u.TgZ(0,"ngb-datepicker-navigation",13),u.NdJ("navigate",function(l){return u.CHM(r),u.oxw().onNavigateEvent(l)})("select",function(l){return u.CHM(r),u.oxw().onNavigateDateSelect(l)}),u.qZA()}if(2&i){const r=u.oxw();u.Q6J("date",r.model.firstDate)("months",r.model.months)("disabled",r.model.disabled)("showSelect","select"===r.model.navigation)("prevDisabled",r.model.prevDisabled)("nextDisabled",r.model.nextDisabled)("selectBoxes",r.model.selectBoxes)}}function j2(i,n){}function $2(i,n){}function H2(i,n){if(1&i&&(u.TgZ(0,"div",5),u._uU(1),u.qZA()),2&i){const r=u.oxw(2);u.xp6(1),u.Oqu(r.i18n.getWeekLabel())}}function G2(i,n){if(1&i&&(u.TgZ(0,"div",6),u._uU(1),u.qZA()),2&i){const r=n.$implicit;u.xp6(1),u.Oqu(r)}}function q2(i,n){if(1&i&&(u.TgZ(0,"div",2),u.YNc(1,H2,2,1,"div",3),u.YNc(2,G2,2,1,"div",4),u.qZA()),2&i){const r=u.oxw();u.xp6(1),u.Q6J("ngIf",r.datepicker.showWeekNumbers),u.xp6(1),u.Q6J("ngForOf",r.viewModel.weekdays)}}function Z2(i,n){if(1&i&&(u.TgZ(0,"div",11),u._uU(1),u.qZA()),2&i){const r=u.oxw(2).$implicit,s=u.oxw();u.xp6(1),u.Oqu(s.i18n.getWeekNumerals(r.number))}}function z2(i,n){}function W2(i,n){if(1&i&&u.YNc(0,z2,0,0,"ng-template",14),2&i){const r=u.oxw().$implicit,s=u.oxw(3);u.Q6J("ngTemplateOutlet",s.datepicker.dayTemplate)("ngTemplateOutletContext",r.context)}}function Y2(i,n){if(1&i){const r=u.EpF();u.TgZ(0,"div",12),u.NdJ("click",function(l){const g=u.CHM(r).$implicit;return u.oxw(3).doSelect(g),l.preventDefault()}),u.YNc(1,W2,1,2,"ng-template",13),u.qZA()}if(2&i){const r=n.$implicit;u.ekj("disabled",r.context.disabled)("hidden",r.hidden)("ngb-dp-today",r.context.today),u.Q6J("tabindex",r.tabindex),u.uIk("aria-label",r.ariaLabel),u.xp6(1),u.Q6J("ngIf",!r.hidden)}}function K2(i,n){if(1&i&&(u.TgZ(0,"div",8),u.YNc(1,Z2,2,1,"div",9),u.YNc(2,Y2,2,9,"div",10),u.qZA()),2&i){const r=u.oxw().$implicit,s=u.oxw();u.xp6(1),u.Q6J("ngIf",s.datepicker.showWeekNumbers),u.xp6(1),u.Q6J("ngForOf",r.days)}}function Q2(i,n){1&i&&u.YNc(0,K2,3,2,"div",7),2&i&&u.Q6J("ngIf",!n.$implicit.collapsed)}function J2(i,n){if(1&i){const r=u.EpF();u.TgZ(0,"ngb-datepicker-navigation-select",7),u.NdJ("select",function(l){return u.CHM(r),u.oxw().select.emit(l)}),u.qZA()}if(2&i){const r=u.oxw();u.Q6J("date",r.date)("disabled",r.disabled)("months",r.selectBoxes.months)("years",r.selectBoxes.years)}}function X2(i,n){1&i&&u._UZ(0,"div",0)}function eV(i,n){1&i&&u._UZ(0,"div",0)}function tV(i,n){if(1&i&&(u.YNc(0,X2,1,0,"div",9),u.TgZ(1,"div",10),u._uU(2),u.qZA(),u.YNc(3,eV,1,0,"div",9)),2&i){const r=n.$implicit,s=n.index,l=u.oxw(2);u.Q6J("ngIf",s>0),u.xp6(2),u.hij(" ",l.i18n.getMonthLabel(r.firstDate)," "),u.xp6(1),u.Q6J("ngIf",s!==l.months.length-1)}}function nV(i,n){if(1&i&&u.YNc(0,tV,4,3,"ng-template",8),2&i){const r=u.oxw();u.Q6J("ngForOf",r.months)}}const rV=["ngbDatepickerDayView",""],iV=["month"],sV=["year"];function oV(i,n){if(1&i&&(u.TgZ(0,"option",5),u._uU(1),u.qZA()),2&i){const r=n.$implicit,s=u.oxw();u.Q6J("value",r),u.uIk("aria-label",s.i18n.getMonthFullName(r,null==s.date?null:s.date.year)),u.xp6(1),u.Oqu(s.i18n.getMonthShortName(r,null==s.date?null:s.date.year))}}function aV(i,n){if(1&i&&(u.TgZ(0,"option",5),u._uU(1),u.qZA()),2&i){const r=n.$implicit,s=u.oxw();u.Q6J("value",r),u.xp6(1),u.Oqu(s.i18n.getYearNumerals(r))}}const lV=["dialog"];function Mi(i){return parseInt(`${i}`,10)}function KI(i){return"string"==typeof i}function rr(i){return!isNaN(Mi(i))}function Zn(i){return"number"==typeof i&&isFinite(i)&&Math.floor(i)===i}function df(i){return null!=i}function cv(i){return rr(i)?`0${i}`.slice(-2):""}function KO(i,n){return i&&i.className&&i.className.split&&i.className.split(/\s+/).indexOf(n)>=0}function dv(i){return(i||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(i){let n=this;if(!document.documentElement.contains(n))return null;do{if(n.matches(i))return n;n=n.parentElement||n.parentNode}while(null!==n&&1===n.nodeType);return null});const JO={animation:!0,transitionTimerDelayMs:5};let ui=(()=>{class i{constructor(){this.animation=JO.animation}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=u.Yz7({factory:function(){return new i},token:i,providedIn:"root"}),i})();const bU=()=>{},{transitionTimerDelayMs:wU}=JO,qw=new Map,qr=(i,n,r,s)=>{let l=s.context||{};const d=qw.get(n);if(d)switch(s.runningTransition){case"continue":return os.E;case"stop":i.run(()=>d.transition$.complete()),l=Object.assign(d.context,l),qw.delete(n)}const g=r(n,s.animation,l)||bU;if(!s.animation||"none"===window.getComputedStyle(n).transitionProperty)return i.run(()=>g()),(0,ze.of)(void 0).pipe(function(i){return n=>new Tn.y(r=>n.subscribe(g=>i.run(()=>r.next(g)),g=>i.run(()=>r.error(g)),()=>i.run(()=>r.complete())))}(i));const y=new Zt.xQ,E=new Zt.xQ,I=y.pipe(function(...i){return n=>No(n,(0,ze.of)(...i))}(!0));qw.set(n,{transition$:y,complete:()=>{E.next(),E.complete()},context:l});const S=function(i){const{transitionDelay:n,transitionDuration:r}=window.getComputedStyle(i);return 1e3*(parseFloat(n)+parseFloat(r))}(n);return i.runOutsideAngular(()=>{const x=ne(n,"transitionend").pipe(nr(I),gn(({target:V})=>V===n));ms(function(i=0,n,r){let s=-1;return(0,ft.k)(n)?s=Number(n)<1?1:Number(n):(0,da.K)(n)&&(r=n),(0,da.K)(r)||(r=gt.P),new Tn.y(l=>{const d=(0,ft.k)(i)?i:+i-r.now();return r.schedule(vr,d,{index:0,period:s,subscriber:l})})}(S+wU).pipe(nr(I)),x,E).pipe(nr(I)).subscribe(()=>{qw.delete(n),i.run(()=>{g(),y.next(),y.complete()})})}),y.asObservable()};let rP=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[[Pr]]}),i})(),iP=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[[Pr]]}),i})(),oP=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({}),i})(),uP=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[[Pr]]}),i})(),cP=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({}),i})();class Zr{constructor(n,r,s){this.year=Zn(n)?n:null,this.month=Zn(r)?r:null,this.day=Zn(s)?s:null}static from(n){return n instanceof Zr?n:n?new Zr(n.year,n.month,n.day):null}equals(n){return null!=n&&this.year===n.year&&this.month===n.month&&this.day===n.day}before(n){return!!n&&(this.year===n.year?this.month===n.month?this.day!==n.day&&this.day<n.day:this.month<n.month:this.year<n.year)}after(n){return!!n&&(this.year===n.year?this.month===n.month?this.day!==n.day&&this.day>n.day:this.month>n.month:this.year>n.year)}}function dP(i){return new Zr(i.getFullYear(),i.getMonth()+1,i.getDate())}function JI(i){const n=new Date(i.year,i.month-1,i.day,12);return isNaN(n.getTime())||n.setFullYear(i.year),n}function FU(){return new LU}let XI=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=u.Yz7({factory:FU,token:i,providedIn:"root"}),i})(),LU=(()=>{class i extends XI{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(r,s="d",l=1){let d=JI(r),g=!0,y=d.getMonth();switch(s){case"y":d.setFullYear(d.getFullYear()+l);break;case"m":y+=l,d.setMonth(y),y%=12,y<0&&(y+=12);break;case"d":d.setDate(d.getDate()+l),g=!1;break;default:return r}return g&&d.getMonth()!==y&&d.setDate(0),dP(d)}getPrev(r,s="d",l=1){return this.getNext(r,s,-l)}getWeekday(r){let l=JI(r).getDay();return 0===l?7:l}getWeekNumber(r,s){7===s&&(s=0);const g=JI(r[(11-s)%7]);g.setDate(g.getDate()+4-(g.getDay()||7));const y=g.getTime();return g.setMonth(0),g.setDate(1),Math.floor(Math.round((y-g.getTime())/864e5)/7)+1}getToday(){return dP(new Date)}isValid(r){if(!(r&&Zn(r.year)&&Zn(r.month)&&Zn(r.day)&&0!==r.year))return!1;const s=JI(r);return!isNaN(s.getTime())&&s.getFullYear()===r.year&&s.getMonth()+1===r.month&&s.getDate()===r.day}}return i.\u0275fac=function(){let n;return function(s){return(n||(n=u.n5z(i)))(s||i)}}(),i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac}),i})();function hv(i,n){return!function(i,n){return!i&&!n||!!i&&!!n&&i.equals(n)}(i,n)}function hP(i,n){return!(!i&&!n||i&&n&&i.year===n.year&&i.month===n.month)}function eA(i,n,r){return i&&n&&i.before(n)?n:i&&r&&i.after(r)?r:i||null}function Hx(i,n){const{minDate:r,maxDate:s,disabled:l,markDisabled:d}=n;return!(null==i||l||d&&d(i,{year:i.year,month:i.month})||r&&i.before(r)||s&&i.after(s))}let Vg=(()=>{class i{getMonthLabel(r){return`${this.getMonthFullName(r.month,r.year)} ${this.getYearNumerals(r.year)}`}getDayNumerals(r){return`${r.day}`}getWeekNumerals(r){return`${r}`}getYearNumerals(r){return`${r}`}getWeekLabel(){return""}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=u.Yz7({factory:function(){return function(i){return new WU(i)}(u.LFG(u.soG))},token:i,providedIn:"root"}),i})(),WU=(()=>{class i extends Vg{constructor(r){super(),this._locale=r,this._monthsShort=Je(r,_e.Standalone,ae.Abbreviated),this._monthsFull=Je(r,_e.Standalone,ae.Wide)}getWeekdayLabel(r,s){const l=rt(this._locale,_e.Standalone,void 0===s?ae.Short:s);return l.map((g,y)=>l[(y+1)%7])[r-1]||""}getMonthShortName(r){return this._monthsShort[r-1]||""}getMonthFullName(r){return this._monthsFull[r-1]||""}getDayAriaLabel(r){return ki(new Date(r.year,r.month-1,r.day),"fullDate",this._locale)}}return i.\u0275fac=function(r){return new(r||i)(u.LFG(u.soG))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac}),i})(),Gx=(()=>{class i{constructor(r,s){this._calendar=r,this._i18n=s,this._VALIDATORS={dayTemplateData:l=>{if(this._state.dayTemplateData!==l)return{dayTemplateData:l}},displayMonths:l=>{if(Zn(l=Mi(l))&&l>0&&this._state.displayMonths!==l)return{displayMonths:l}},disabled:l=>{if(this._state.disabled!==l)return{disabled:l}},firstDayOfWeek:l=>{if(Zn(l=Mi(l))&&l>=0&&this._state.firstDayOfWeek!==l)return{firstDayOfWeek:l}},focusVisible:l=>{if(this._state.focusVisible!==l&&!this._state.disabled)return{focusVisible:l}},markDisabled:l=>{if(this._state.markDisabled!==l)return{markDisabled:l}},maxDate:l=>{const d=this.toValidDate(l,null);if(hv(this._state.maxDate,d))return{maxDate:d}},minDate:l=>{const d=this.toValidDate(l,null);if(hv(this._state.minDate,d))return{minDate:d}},navigation:l=>{if(this._state.navigation!==l)return{navigation:l}},outsideDays:l=>{if(this._state.outsideDays!==l)return{outsideDays:l}},weekdays:l=>{const d=!0===l||!1===l?ae.Short:l,g=!0!==l&&!1!==l||l;if(this._state.weekdayWidth!==d||this._state.weekdaysVisible!==g)return{weekdayWidth:d,weekdaysVisible:g}}},this._model$=new Zt.xQ,this._dateSelect$=new Zt.xQ,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]},weekdayWidth:ae.Short,weekdaysVisible:!0}}get model$(){return this._model$.pipe(gn(r=>r.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe(gn(r=>null!==r))}set(r){let s=Object.keys(r).map(l=>this._VALIDATORS[l](r[l])).reduce((l,d)=>Object.assign(Object.assign({},l),d),{});Object.keys(s).length>0&&this._nextState(s)}focus(r){const s=this.toValidDate(r,null);null!=s&&!this._state.disabled&&hv(this._state.focusDate,s)&&this._nextState({focusDate:r})}focusSelect(){Hx(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(r){const s=this.toValidDate(r,this._calendar.getToday());null!=s&&!this._state.disabled&&(!this._state.firstDate||hP(this._state.firstDate,s))&&this._nextState({firstDate:s})}select(r,s={}){const l=this.toValidDate(r,null);null!=l&&!this._state.disabled&&(hv(this._state.selectedDate,l)&&this._nextState({selectedDate:l}),s.emitEvent&&Hx(l,this._state)&&this._dateSelect$.next(l))}toValidDate(r,s){const l=Zr.from(r);return void 0===s&&(s=this._calendar.getToday()),this._calendar.isValid(l)?l:s}getMonth(r){for(let s of this._state.months)if(r.month===s.number&&r.year===s.year)return s;throw new Error(`month ${r.month} of year ${r.year} not found`)}_nextState(r){const s=this._updateState(r);this._patchContexts(s),this._state=s,this._model$.next(this._state)}_patchContexts(r){const{months:s,displayMonths:l,selectedDate:d,focusDate:g,focusVisible:y,disabled:E,outsideDays:I}=r;r.months.forEach(S=>{S.weeks.forEach(x=>{x.days.forEach(O=>{g&&(O.context.focused=g.equals(O.date)&&y),O.tabindex=!E&&g&&O.date.equals(g)&&g.month===S.number?0:-1,!0===E&&(O.context.disabled=!0),void 0!==d&&(O.context.selected=null!==d&&d.equals(O.date)),S.number!==O.date.month&&(O.hidden="hidden"===I||"collapsed"===I||l>1&&O.date.after(s[0].firstDate)&&O.date.before(s[l-1].lastDate))})})})}_updateState(r){const s=Object.assign({},this._state,r);let l=s.firstDate;if(("minDate"in r||"maxDate"in r)&&(function(i,n){if(n&&i&&n.before(i))throw new Error(`'maxDate' ${n} should be greater than 'minDate' ${i}`)}(s.minDate,s.maxDate),s.focusDate=eA(s.focusDate,s.minDate,s.maxDate),s.firstDate=eA(s.firstDate,s.minDate,s.maxDate),l=s.focusDate),"disabled"in r&&(s.focusVisible=!1),"selectedDate"in r&&0===this._state.months.length&&(l=s.selectedDate),"focusVisible"in r||"focusDate"in r&&(s.focusDate=eA(s.focusDate,s.minDate,s.maxDate),l=s.focusDate,0!==s.months.length&&s.focusDate&&!s.focusDate.before(s.firstDate)&&!s.focusDate.after(s.lastDate)))return s;if("firstDate"in r&&(s.firstDate=eA(s.firstDate,s.minDate,s.maxDate),l=s.firstDate),l){const g=function(i,n,r,s,l){const{displayMonths:d,months:g}=r,y=g.splice(0,g.length);return Array.from({length:d},(I,S)=>{const x=Object.assign(i.getNext(n,"m",S),{day:1});if(g[S]=null,!l){const O=y.findIndex(V=>V.firstDate.equals(x));-1!==O&&(g[S]=y.splice(O,1)[0])}return x}).forEach((I,S)=>{null===g[S]&&(g[S]=function(i,n,r,s,l={}){const{dayTemplateData:d,minDate:g,maxDate:y,firstDayOfWeek:E,markDisabled:I,outsideDays:S,weekdayWidth:x,weekdaysVisible:O}=r,V=i.getToday();l.firstDate=null,l.lastDate=null,l.number=n.month,l.year=n.year,l.weeks=l.weeks||[],l.weekdays=l.weekdays||[],n=function(i,n,r){const s=i.getDaysPerWeek(),l=new Zr(n.year,n.month,1),d=i.getWeekday(l)%s;return i.getPrev(l,"d",(s+d-r)%s)}(i,n,E),O||(l.weekdays.length=0);for(let q=0;q<i.getWeeksPerMonth();q++){let te=l.weeks[q];te||(te=l.weeks[q]={number:0,days:[],collapsed:!0});const me=te.days;for(let Oe=0;Oe<i.getDaysPerWeek();Oe++){0===q&&O&&(l.weekdays[Oe]=s.getWeekdayLabel(i.getWeekday(n),x));const Pe=new Zr(n.year,n.month,n.day),je=i.getNext(Pe),He=s.getDayAriaLabel(Pe);let Ht=!!(g&&Pe.before(g)||y&&Pe.after(y));!Ht&&I&&(Ht=I(Pe,{month:l.number,year:l.year}));let Mn=Pe.equals(V),ir=d?d(Pe,{month:l.number,year:l.year}):void 0;null===l.firstDate&&Pe.month===l.number&&(l.firstDate=Pe),Pe.month===l.number&&je.month!==l.number&&(l.lastDate=Pe);let jn=me[Oe];jn||(jn=me[Oe]={}),jn.date=Pe,jn.context=Object.assign(jn.context||{},{$implicit:Pe,date:Pe,data:ir,currentMonth:l.number,currentYear:l.year,disabled:Ht,focused:!1,selected:!1,today:Mn}),jn.tabindex=-1,jn.ariaLabel=He,jn.hidden=!1,n=je}te.number=i.getWeekNumber(me.map(Oe=>Oe.date),E),te.collapsed="collapsed"===S&&me[0].date.month!==l.number&&me[me.length-1].date.month!==l.number}return l}(i,I,r,s,y.shift()||{}))}),g}(this._calendar,l,s,this._i18n,"dayTemplateData"in r||"firstDayOfWeek"in r||"markDisabled"in r||"minDate"in r||"maxDate"in r||"disabled"in r||"outsideDays"in r||"weekdaysVisible"in r);s.months=g,s.firstDate=g[0].firstDate,s.lastDate=g[g.length-1].lastDate,"selectedDate"in r&&!Hx(s.selectedDate,s)&&(s.selectedDate=null),"firstDate"in r&&(!s.focusDate||s.focusDate.before(s.firstDate)||s.focusDate.after(s.lastDate))&&(s.focusDate=l);const y=!this._state.firstDate||this._state.firstDate.year!==s.firstDate.year,E=!this._state.firstDate||this._state.firstDate.month!==s.firstDate.month;"select"===s.navigation?(("minDate"in r||"maxDate"in r||0===s.selectBoxes.years.length||y)&&(s.selectBoxes.years=function(i,n,r){if(!i)return[];const s=n?Math.max(n.year,i.year-500):i.year-10,d=(r?Math.min(r.year,i.year+500):i.year+10)-s+1,g=Array(d);for(let y=0;y<d;y++)g[y]=s+y;return g}(s.firstDate,s.minDate,s.maxDate)),("minDate"in r||"maxDate"in r||0===s.selectBoxes.months.length||y)&&(s.selectBoxes.months=function(i,n,r,s){if(!n)return[];let l=i.getMonths(n.year);if(r&&n.year===r.year){const d=l.findIndex(g=>g===r.month);l=l.slice(d)}if(s&&n.year===s.year){const d=l.findIndex(g=>g===s.month);l=l.slice(0,d+1)}return l}(this._calendar,s.firstDate,s.minDate,s.maxDate))):s.selectBoxes={years:[],months:[]},("arrows"===s.navigation||"select"===s.navigation)&&(E||y||"minDate"in r||"maxDate"in r||"disabled"in r)&&(s.prevDisabled=s.disabled||function(i,n,r){const s=Object.assign(i.getPrev(n,"m"),{day:1});return null!=r&&(s.year===r.year&&s.month<r.month||s.year<r.year&&1===r.month)}(this._calendar,s.firstDate,s.minDate),s.nextDisabled=s.disabled||function(i,n,r){const s=Object.assign(i.getNext(n,"m"),{day:1});return null!=r&&s.after(r)}(this._calendar,s.lastDate,s.maxDate))}return s}}return i.\u0275fac=function(r){return new(r||i)(u.LFG(XI),u.LFG(Vg))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac}),i})();var fv=(()=>(function(i){i[i.PREV=0]="PREV",i[i.NEXT=1]="NEXT"}(fv||(fv={})),fv))();let qx=(()=>{class i{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekNumbers=!1,this.weekdays=ae.Short}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=u.Yz7({factory:function(){return new i},token:i,providedIn:"root"}),i})();function YU(){return new KU}let Zx=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=u.Yz7({factory:YU,token:i,providedIn:"root"}),i})(),KU=(()=>{class i extends Zx{fromModel(r){return r&&Zn(r.year)&&Zn(r.month)&&Zn(r.day)?{year:r.year,month:r.month,day:r.day}:null}toModel(r){return r&&Zn(r.year)&&Zn(r.month)&&Zn(r.day)?{year:r.year,month:r.month,day:r.day}:null}}return i.\u0275fac=function(){let n;return function(s){return(n||(n=u.n5z(i)))(s||i)}}(),i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac}),i})(),QU=(()=>{class i{constructor(r){this.templateRef=r}}return i.\u0275fac=function(r){return new(r||i)(u.Y36(u.Rgc))},i.\u0275dir=u.lG2({type:i,selectors:[["ng-template","ngbDatepickerContent",""]]}),i})(),fP=(()=>{class i{constructor(r,s,l,d,g,y,E,I){this._service=r,this._calendar=s,this.i18n=l,this._elementRef=y,this._ngbDateAdapter=E,this._ngZone=I,this._controlValue=null,this._destroyed$=new Zt.xQ,this._publicState={},this.navigate=new u.vpe,this.dateSelect=new u.vpe,this.onChange=S=>{},this.onTouched=()=>{},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekNumbers","startDate","weekdays"].forEach(S=>this[S]=d[S]),r.dateSelect$.pipe(nr(this._destroyed$)).subscribe(S=>{this.dateSelect.emit(S)}),r.model$.pipe(nr(this._destroyed$)).subscribe(S=>{const x=S.firstDate,O=this.model?this.model.firstDate:null;this._publicState={maxDate:S.maxDate,minDate:S.minDate,firstDate:S.firstDate,lastDate:S.lastDate,focusedDate:S.focusDate,months:S.months.map(Oe=>Oe.firstDate)};let V=!1;if(!x.equals(O)&&(this.navigate.emit({current:O?{year:O.year,month:O.month}:null,next:{year:x.year,month:x.month},preventDefault:()=>V=!0}),V&&null!==O))return void this._service.open(O);const q=S.selectedDate,te=S.focusDate,me=this.model?this.model.focusDate:null;this.model=S,hv(q,this._controlValue)&&(this._controlValue=q,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(q))),hv(te,me)&&me&&S.focusVisible&&this.focus(),g.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}focusDate(r){this._service.focus(Zr.from(r))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe(Qr(1)).subscribe(()=>{const r=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');r&&r.focus()})}navigateTo(r){this._service.open(Zr.from(r?r.day?r:Object.assign(Object.assign({},r),{day:1}):null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const r=ne(this._contentEl.nativeElement,"focusin"),s=ne(this._contentEl.nativeElement,"focusout"),{nativeElement:l}=this._elementRef;(0,nw.T)(r,s).pipe(gn(({target:d,relatedTarget:g})=>!(KO(d,"ngb-dp-day")&&KO(g,"ngb-dp-day")&&l.contains(d)&&l.contains(g))),nr(this._destroyed$)).subscribe(({type:d})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===d})))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){if(void 0===this.model){const r={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].forEach(s=>r[s]=this[s]),this._service.set(r),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(r){const s={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].filter(l=>l in r).forEach(l=>s[l]=this[l]),this._service.set(s),"startDate"in r){const{currentValue:l,previousValue:d}=r.startDate;hP(d,l)&&this.navigateTo(this.startDate)}}onDateSelect(r){this._service.focus(r),this._service.select(r,{emitEvent:!0})}onNavigateDateSelect(r){this._service.open(r)}onNavigateEvent(r){switch(r){case fv.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case fv.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(r){this.onChange=r}registerOnTouched(r){this.onTouched=r}setDisabledState(r){this._service.set({disabled:r})}writeValue(r){this._controlValue=Zr.from(this._ngbDateAdapter.fromModel(r)),this._service.select(this._controlValue)}}return i.\u0275fac=function(r){return new(r||i)(u.Y36(Gx),u.Y36(XI),u.Y36(Vg),u.Y36(qx),u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(Zx),u.Y36(u.R0b))},i.\u0275cmp=u.Xpm({type:i,selectors:[["ngb-datepicker"]],contentQueries:function(r,s,l){if(1&r&&u.Suo(l,QU,7),2&r){let d;u.iGM(d=u.CRH())&&(s.contentTemplate=d.first)}},viewQuery:function(r,s){if(1&r&&(u.Gf(O2,7),u.Gf(P2,7)),2&r){let l;u.iGM(l=u.CRH())&&(s._defaultDayTemplate=l.first),u.iGM(l=u.CRH())&&(s._contentEl=l.first)}},inputs:{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",weekdays:"weekdays"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],features:[u._Bn([{provide:Si,useExisting:(0,u.Gpc)(()=>i),multi:!0},Gx]),u.TTD],decls:10,vars:5,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select",4,"ngIf"],[1,"ngb-dp-content"],["content",""],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],["class","ngb-dp-month",4,"ngFor","ngForOf"],[1,"ngb-dp-month"],["class","ngb-dp-month-name",4,"ngIf"],[3,"month"],[1,"ngb-dp-month-name"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select"]],template:function(r,s){if(1&r&&(u.YNc(0,F2,1,5,"ng-template",null,0,u.W1O),u.YNc(2,U2,1,1,"ng-template",null,1,u.W1O),u.TgZ(4,"div",2),u.YNc(5,B2,1,7,"ngb-datepicker-navigation",3),u.qZA(),u.TgZ(6,"div",4,5),u.YNc(8,j2,0,0,"ng-template",6),u.qZA(),u.YNc(9,$2,0,0,"ng-template",6)),2&r){const l=u.MAs(3);u.xp6(5),u.Q6J("ngIf","none"!==s.navigation),u.xp6(1),u.ekj("ngb-dp-months",!s.contentTemplate),u.xp6(2),u.Q6J("ngTemplateOutlet",(null==s.contentTemplate?null:s.contentTemplate.templateRef)||l),u.xp6(1),u.Q6J("ngTemplateOutlet",s.footerTemplate)}},directives:function(){return[un,Cr,l3,vt,XU,e3]},styles:["ngb-datepicker{border:1px solid #dfdfdf;border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}.ngb-dp-body{z-index:1050}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-months{display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}"],encapsulation:2,changeDetection:0}),i})();var Ft=(()=>(function(i){i[i.Tab=9]="Tab",i[i.Enter=13]="Enter",i[i.Escape=27]="Escape",i[i.Space=32]="Space",i[i.PageUp=33]="PageUp",i[i.PageDown=34]="PageDown",i[i.End=35]="End",i[i.Home=36]="Home",i[i.ArrowLeft=37]="ArrowLeft",i[i.ArrowUp=38]="ArrowUp",i[i.ArrowRight=39]="ArrowRight",i[i.ArrowDown=40]="ArrowDown"}(Ft||(Ft={})),Ft))();let JU=(()=>{class i{processKey(r,s){const{state:l,calendar:d}=s;switch(r.which){case Ft.PageUp:s.focusDate(d.getPrev(l.focusedDate,r.shiftKey?"y":"m",1));break;case Ft.PageDown:s.focusDate(d.getNext(l.focusedDate,r.shiftKey?"y":"m",1));break;case Ft.End:s.focusDate(r.shiftKey?l.maxDate:l.lastDate);break;case Ft.Home:s.focusDate(r.shiftKey?l.minDate:l.firstDate);break;case Ft.ArrowLeft:s.focusDate(d.getPrev(l.focusedDate,"d",1));break;case Ft.ArrowUp:s.focusDate(d.getPrev(l.focusedDate,"d",d.getDaysPerWeek()));break;case Ft.ArrowRight:s.focusDate(d.getNext(l.focusedDate,"d",1));break;case Ft.ArrowDown:s.focusDate(d.getNext(l.focusedDate,"d",d.getDaysPerWeek()));break;case Ft.Enter:case Ft.Space:s.focusSelect();break;default:return}r.preventDefault(),r.stopPropagation()}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=u.Yz7({factory:function(){return new i},token:i,providedIn:"root"}),i})(),XU=(()=>{class i{constructor(r,s,l,d){this.i18n=r,this.datepicker=s,this._keyboardService=l,this._service=d}set month(r){this.viewModel=this._service.getMonth(r)}onKeyDown(r){this._keyboardService.processKey(r,this.datepicker)}doSelect(r){!r.context.disabled&&!r.hidden&&this.datepicker.onDateSelect(r.date)}}return i.\u0275fac=function(r){return new(r||i)(u.Y36(Vg),u.Y36(fP),u.Y36(JU),u.Y36(Gx))},i.\u0275cmp=u.Xpm({type:i,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(r,s){1&r&&u.NdJ("keydown",function(d){return s.onKeyDown(d)})},inputs:{month:"month"},decls:2,vars:2,consts:[["class","ngb-dp-week ngb-dp-weekdays","role","row",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],["class","ngb-dp-weekday ngb-dp-showweek small",4,"ngIf"],["class","ngb-dp-weekday small","role","columnheader",4,"ngFor","ngForOf"],[1,"ngb-dp-weekday","ngb-dp-showweek","small"],["role","columnheader",1,"ngb-dp-weekday","small"],["class","ngb-dp-week","role","row",4,"ngIf"],["role","row",1,"ngb-dp-week"],["class","ngb-dp-week-number small text-muted",4,"ngIf"],["class","ngb-dp-day","role","gridcell",3,"disabled","tabindex","hidden","ngb-dp-today","click",4,"ngFor","ngForOf"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"tabindex","click"],[3,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(r,s){1&r&&(u.YNc(0,q2,3,2,"div",0),u.YNc(1,Q2,1,1,"ng-template",1)),2&r&&(u.Q6J("ngIf",s.viewModel.weekdays.length>0),u.xp6(1),u.Q6J("ngForOf",s.viewModel.weeks))},directives:[un,vt,Cr],styles:['ngb-datepicker-month{display:block}.ngb-dp-week-number,.ngb-dp-weekday{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:#5bc0de;color:var(--info)}.ngb-dp-week{border-radius:.25rem;display:flex}.ngb-dp-weekdays{border-bottom:1px solid rgba(0,0,0,.125);border-radius:0;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-day,.ngb-dp-week-number,.ngb-dp-weekday{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}'],encapsulation:2}),i})(),e3=(()=>{class i{constructor(r){this.i18n=r,this.navigation=fv,this.months=[],this.navigate=new u.vpe,this.select=new u.vpe}onClickPrev(r){r.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(r){r.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}}return i.\u0275fac=function(r){return new(r||i)(u.Y36(Vg))},i.\u0275cmp=u.Xpm({type:i,selectors:[["ngb-datepicker-navigation"]],inputs:{months:"months",date:"date",disabled:"disabled",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},decls:8,vars:4,consts:function(){let n,r,s,l;return n=$localize`:@@ngb.datepicker.previous-month␟c3b08b07b5ab98e7cdcf18df39355690ab7d3884␟8586908745456864217:Previous month`,r=$localize`:@@ngb.datepicker.previous-month␟c3b08b07b5ab98e7cdcf18df39355690ab7d3884␟8586908745456864217:Previous month`,s=$localize`:@@ngb.datepicker.next-month␟4bd046985cfe13040d5ef0cd881edce0968a111a␟3628374603023447227:Next month`,l=$localize`:@@ngb.datepicker.next-month␟4bd046985cfe13040d5ef0cd881edce0968a111a␟3628374603023447227:Next month`,[[1,"ngb-dp-arrow"],["type","button","aria-label",n,"title",r,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-chevron"],["class","ngb-dp-navigation-select",3,"date","disabled","months","years","select",4,"ngIf"],[4,"ngIf"],[1,"ngb-dp-arrow","right"],["type","button","aria-label",s,"title",l,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-select",3,"date","disabled","months","years","select"],["ngFor","",3,"ngForOf"],["class","ngb-dp-arrow",4,"ngIf"],[1,"ngb-dp-month-name"]]},template:function(r,s){1&r&&(u.TgZ(0,"div",0),u.TgZ(1,"button",1),u.NdJ("click",function(d){return s.onClickPrev(d)}),u._UZ(2,"span",2),u.qZA(),u.qZA(),u.YNc(3,J2,1,4,"ngb-datepicker-navigation-select",3),u.YNc(4,nV,1,1,void 0,4),u.TgZ(5,"div",5),u.TgZ(6,"button",6),u.NdJ("click",function(d){return s.onClickNext(d)}),u._UZ(7,"span",2),u.qZA(),u.qZA()),2&r&&(u.xp6(1),u.Q6J("disabled",s.prevDisabled),u.xp6(2),u.Q6J("ngIf",s.showSelect),u.xp6(1),u.Q6J("ngIf",!s.showSelect),u.xp6(2),u.Q6J("disabled",s.nextDisabled))},directives:function(){return[un,u3,vt]},styles:["ngb-datepicker-navigation{display:flex;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg)}.ngb-dp-arrow{display:flex;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{justify-content:flex-end}.ngb-dp-arrow.right .ngb-dp-navigation-chevron{transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media (-ms-high-contrast:active),(-ms-high-contrast:none){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:flex;flex:1 1 9rem}"],encapsulation:2,changeDetection:0}),i})();const tA=(i,n)=>!!n&&n.some(r=>r.contains(i)),pP=(i,n)=>!n||null!=function(i,n){return n&&void 0!==i.closest?i.closest(n):null}(i,n),t3="undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function zw(i,n,r,s,l,d,g,y){r&&i.runOutsideAngular((i=>t3?()=>setTimeout(()=>i(),100):i)(()=>{const I=ne(n,"keydown").pipe(nr(l),gn(O=>O.which===Ft.Escape),(0,Gn.b)(O=>O.preventDefault())),S=ne(n,"mousedown").pipe((0,ot.U)(O=>{const V=O.target;return 2!==O.button&&!tA(V,g)&&("inside"===r?tA(V,d)&&pP(V,y):"outside"===r?!tA(V,d):pP(V,y)||!tA(V,d))}),nr(l)),x=ne(n,"mouseup").pipe(gx(S),gn(([O,V])=>V),function(i,n=gt.P){const s=function(i){return i instanceof Date&&!isNaN(+i)}(i)?+i-n.now():Math.abs(i);return l=>l.lift(new TL(s,n))}(0),nr(l));ms([I.pipe((0,ot.U)(O=>0)),x.pipe((0,ot.U)(O=>1))]).subscribe(O=>i.run(()=>s(O)))}))}const gP=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function mP(i){const n=Array.from(i.querySelectorAll(gP)).filter(r=>-1!==r.tabIndex);return[n[0],n[n.length-1]]}const _P=(i,n,r,s=!1)=>{i.runOutsideAngular(()=>{const l=ne(n,"focusin").pipe(nr(r),(0,ot.U)(d=>d.target));ne(n,"keydown").pipe(nr(r),gn(d=>d.which===Ft.Tab),gx(l)).subscribe(([d,g])=>{const[y,E]=mP(n);(g===y||g===n)&&d.shiftKey&&(E.focus(),d.preventDefault()),g===E&&!d.shiftKey&&(y.focus(),d.preventDefault())}),s&&ne(n,"click").pipe(nr(r),gx(l),(0,ot.U)(d=>d[1])).subscribe(d=>d.focus())})},i3=/\s+/,yP=new class{getAllStyles(n){return window.getComputedStyle(n)}getStyle(n,r){return this.getAllStyles(n)[r]}isStaticPositioned(n){return"static"===(this.getStyle(n,"position")||"static")}offsetParent(n){let r=n.offsetParent||document.documentElement;for(;r&&r!==document.documentElement&&this.isStaticPositioned(r);)r=r.offsetParent;return r||document.documentElement}position(n,r=!0){let s,l={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(n,"position"))s=n.getBoundingClientRect(),s={top:s.top,bottom:s.bottom,left:s.left,right:s.right,height:s.height,width:s.width};else{const d=this.offsetParent(n);s=this.offset(n,!1),d!==document.documentElement&&(l=this.offset(d,!1)),l.top+=d.clientTop,l.left+=d.clientLeft}return s.top-=l.top,s.bottom-=l.top,s.left-=l.left,s.right-=l.left,r&&(s.top=Math.round(s.top),s.bottom=Math.round(s.bottom),s.left=Math.round(s.left),s.right=Math.round(s.right)),s}offset(n,r=!0){const s=n.getBoundingClientRect(),l_top=window.pageYOffset-document.documentElement.clientTop,l_left=window.pageXOffset-document.documentElement.clientLeft;let d={height:s.height||n.offsetHeight,width:s.width||n.offsetWidth,top:s.top+l_top,bottom:s.bottom+l_top,left:s.left+l_left,right:s.right+l_left};return r&&(d.height=Math.round(d.height),d.width=Math.round(d.width),d.top=Math.round(d.top),d.bottom=Math.round(d.bottom),d.left=Math.round(d.left),d.right=Math.round(d.right)),d}positionElements(n,r,s,l){const[d="top",g="center"]=s.split("-"),y=l?this.offset(n,!1):this.position(n,!1),E=this.getAllStyles(r),I=parseFloat(E.marginTop),S=parseFloat(E.marginBottom),x=parseFloat(E.marginLeft),O=parseFloat(E.marginRight);let V=0,q=0;switch(d){case"top":V=y.top-(r.offsetHeight+I+S);break;case"bottom":V=y.top+y.height;break;case"left":q=y.left-(r.offsetWidth+x+O);break;case"right":q=y.left+y.width}switch(g){case"top":V=y.top;break;case"bottom":V=y.top+y.height-r.offsetHeight;break;case"left":q=y.left;break;case"right":q=y.left+y.width-r.offsetWidth;break;case"center":"top"===d||"bottom"===d?q=y.left+y.width/2-r.offsetWidth/2:V=y.top+y.height/2-r.offsetHeight/2}r.style.transform=`translate(${Math.round(q)}px, ${Math.round(V)}px)`;const te=r.getBoundingClientRect(),me=document.documentElement,Oe=window.innerHeight||me.clientHeight,Pe=window.innerWidth||me.clientWidth;return te.left>=0&&te.top>=0&&te.right<=Pe&&te.bottom<=Oe}};function s3(){return new o3}let vP=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=u.Yz7({factory:s3,token:i,providedIn:"root"}),i})(),o3=(()=>{class i extends vP{parse(r){if(null!=r){const s=r.trim().split("-");if(1===s.length&&rr(s[0]))return{year:Mi(s[0]),month:null,day:null};if(2===s.length&&rr(s[0])&&rr(s[1]))return{year:Mi(s[0]),month:Mi(s[1]),day:null};if(3===s.length&&rr(s[0])&&rr(s[1])&&rr(s[2]))return{year:Mi(s[0]),month:Mi(s[1]),day:Mi(s[2])}}return null}format(r){return r?`${r.year}-${rr(r.month)?cv(r.month):""}-${rr(r.day)?cv(r.day):""}`:""}}return i.\u0275fac=function(){let n;return function(s){return(n||(n=u.n5z(i)))(s||i)}}(),i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac}),i})(),bP=(()=>{class i extends qx{constructor(){super(...arguments),this.autoClose=!0,this.placement=["bottom-left","bottom-right","top-left","top-right"],this.restoreFocus=!0}}return i.\u0275fac=function(){let n;return function(s){return(n||(n=u.n5z(i)))(s||i)}}(),i.\u0275prov=u.Yz7({factory:function(){return new i},token:i,providedIn:"root"}),i})(),a3=(()=>{class i{constructor(r,s,l,d,g,y,E,I,S,x,O){this._parserFormatter=r,this._elRef=s,this._vcRef=l,this._renderer=d,this._cfr=g,this._ngZone=y,this._calendar=E,this._dateAdapter=I,this._document=S,this._changeDetector=x,this._cRef=null,this._disabled=!1,this._elWithFocus=null,this._model=null,this.dateSelect=new u.vpe,this.navigate=new u.vpe,this.closed=new u.vpe,this._onChange=V=>{},this._onTouched=()=>{},this._validatorChange=()=>{},["autoClose","container","positionTarget","placement"].forEach(V=>this[V]=O[V]),this._zoneSubscription=y.onStable.subscribe(()=>this._updatePopupPosition())}get disabled(){return this._disabled}set disabled(r){this._disabled=""===r||r&&"false"!==r,this.isOpen()&&this._cRef.instance.setDisabledState(this._disabled)}registerOnChange(r){this._onChange=r}registerOnTouched(r){this._onTouched=r}registerOnValidatorChange(r){this._validatorChange=r}setDisabledState(r){this.disabled=r}validate(r){const{value:s}=r;if(null!=s){const l=this._fromDateStruct(this._dateAdapter.fromModel(s));if(!l)return{ngbDate:{invalid:s}};if(this.minDate&&l.before(Zr.from(this.minDate)))return{ngbDate:{minDate:{minDate:this.minDate,actual:s}}};if(this.maxDate&&l.after(Zr.from(this.maxDate)))return{ngbDate:{maxDate:{maxDate:this.maxDate,actual:s}}}}return null}writeValue(r){this._model=this._fromDateStruct(this._dateAdapter.fromModel(r)),this._writeModelValue(this._model)}manualDateChange(r,s=!1){const l=r!==this._inputValue;l&&(this._inputValue=r,this._model=this._fromDateStruct(this._parserFormatter.parse(r))),(l||!s)&&this._onChange(this._model?this._dateAdapter.toModel(this._model):""===r?null:r),s&&this._model&&this._writeModelValue(this._model)}isOpen(){return!!this._cRef}open(){if(!this.isOpen()){const r=this._cfr.resolveComponentFactory(fP);this._cRef=this._vcRef.createComponent(r),this._applyPopupStyling(this._cRef.location.nativeElement),this._applyDatepickerInputs(this._cRef.instance),this._subscribeForDatepickerOutputs(this._cRef.instance),this._cRef.instance.ngOnInit(),this._cRef.instance.writeValue(this._dateAdapter.toModel(this._model)),this._cRef.instance.registerOnChange(s=>{this.writeValue(s),this._onChange(s),this._onTouched()}),this._cRef.changeDetectorRef.detectChanges(),this._cRef.instance.setDisabledState(this.disabled),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._cRef.location.nativeElement),this._elWithFocus=this._document.activeElement,_P(this._ngZone,this._cRef.location.nativeElement,this.closed,!0),this._cRef.instance.focus(),zw(this._ngZone,this._document,this.autoClose,()=>this.close(),this.closed,[],[this._elRef.nativeElement,this._cRef.location.nativeElement])}}close(){if(this.isOpen()){this._vcRef.remove(this._vcRef.indexOf(this._cRef.hostView)),this._cRef=null,this.closed.emit(),this._changeDetector.markForCheck();let r=this._elWithFocus;KI(this.restoreFocus)?r=this._document.querySelector(this.restoreFocus):void 0!==this.restoreFocus&&(r=this.restoreFocus),r&&r.focus?r.focus():this._document.body.focus()}}toggle(){this.isOpen()?this.close():this.open()}navigateTo(r){this.isOpen()&&this._cRef.instance.navigateTo(r)}onBlur(){this._onTouched()}onFocus(){this._elWithFocus=this._elRef.nativeElement}ngOnChanges(r){if((r.minDate||r.maxDate)&&(this._validatorChange(),this.isOpen()&&(r.minDate&&(this._cRef.instance.minDate=this.minDate),r.maxDate&&(this._cRef.instance.maxDate=this.maxDate),this._cRef.instance.ngOnChanges(r))),r.datepickerClass){const{currentValue:s,previousValue:l}=r.datepickerClass;this._applyPopupClass(s,l)}}ngOnDestroy(){this.close(),this._zoneSubscription.unsubscribe()}_applyDatepickerInputs(r){["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showNavigation","showWeekNumbers","weekdays"].forEach(s=>{void 0!==this[s]&&(r[s]=this[s])}),r.startDate=this.startDate||this._model}_applyPopupClass(r,s){var l;const d=null===(l=this._cRef)||void 0===l?void 0:l.location.nativeElement;d&&(r&&this._renderer.addClass(d,r),s&&this._renderer.removeClass(d,s))}_applyPopupStyling(r){this._renderer.addClass(r,"dropdown-menu"),this._renderer.addClass(r,"show"),"body"===this.container&&this._renderer.addClass(r,"ngb-dp-body"),this._applyPopupClass(this.datepickerClass)}_subscribeForDatepickerOutputs(r){r.navigate.subscribe(s=>this.navigate.emit(s)),r.dateSelect.subscribe(s=>{this.dateSelect.emit(s),(!0===this.autoClose||"inside"===this.autoClose)&&this.close()})}_writeModelValue(r){const s=this._parserFormatter.format(r);this._inputValue=s,this._renderer.setProperty(this._elRef.nativeElement,"value",s),this.isOpen()&&(this._cRef.instance.writeValue(this._dateAdapter.toModel(r)),this._onTouched())}_fromDateStruct(r){const s=r?new Zr(r.year,r.month,r.day):null;return this._calendar.isValid(s)?s:null}_updatePopupPosition(){if(!this._cRef)return;let r;if(r=KI(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget instanceof HTMLElement?this.positionTarget:this._elRef.nativeElement,this.positionTarget&&!r)throw new Error("ngbDatepicker could not find element declared in [positionTarget] to position against.");!function(i,n,r,s,l){let d=Array.isArray(r)?r:r.split(i3);const g=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],y=n.classList,E=V=>{const[q,te]=V.split("-"),me=[];return l&&(me.push(`${l}-${q}`),te&&me.push(`${l}-${q}-${te}`),me.forEach(Oe=>{y.add(Oe)})),me};l&&g.forEach(V=>{y.remove(`${l}-${V}`)});let I=d.findIndex(V=>"auto"===V);I>=0&&g.forEach(function(V){null==d.find(q=>-1!==q.search("^"+V))&&d.splice(I++,1,V)});const S=n.style;S.position="absolute",S.top="0",S.left="0",S["will-change"]="transform";let x=null,O=!1;for(x of d){let V=E(x);if(yP.positionElements(i,n,x,s)){O=!0;break}l&&V.forEach(q=>{y.remove(q)})}O||(x=d[0],E(x),yP.positionElements(i,n,x,s))}(r,this._cRef.location.nativeElement,this.placement,"body"===this.container)}}return i.\u0275fac=function(r){return new(r||i)(u.Y36(vP),u.Y36(u.SBq),u.Y36(u.s_b),u.Y36(u.Qsj),u.Y36(u._Vd),u.Y36(u.R0b),u.Y36(XI),u.Y36(Zx),u.Y36(ie),u.Y36(u.sBO),u.Y36(bP))},i.\u0275dir=u.lG2({type:i,selectors:[["input","ngbDatepicker",""]],hostVars:1,hostBindings:function(r,s){1&r&&u.NdJ("input",function(d){return s.manualDateChange(d.target.value)})("change",function(d){return s.manualDateChange(d.target.value,!0)})("focus",function(){return s.onFocus()})("blur",function(){return s.onBlur()}),2&r&&u.Ikx("disabled",s.disabled)},inputs:{disabled:"disabled",autoClose:"autoClose",datepickerClass:"datepickerClass",dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",minDate:"minDate",maxDate:"maxDate",navigation:"navigation",outsideDays:"outsideDays",placement:"placement",restoreFocus:"restoreFocus",showWeekNumbers:"showWeekNumbers",startDate:"startDate",container:"container",positionTarget:"positionTarget",weekdays:"weekdays"},outputs:{dateSelect:"dateSelect",navigate:"navigate",closed:"closed"},exportAs:["ngbDatepicker"],features:[u._Bn([{provide:Si,useExisting:(0,u.Gpc)(()=>i),multi:!0},{provide:Ni,useExisting:(0,u.Gpc)(()=>i),multi:!0},{provide:qx,useExisting:bP}]),u.TTD]}),i})(),l3=(()=>{class i{constructor(r){this.i18n=r}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}return i.\u0275fac=function(r){return new(r||i)(u.Y36(Vg))},i.\u0275cmp=u.Xpm({type:i,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(r,s){2&r&&u.ekj("bg-primary",s.selected)("text-white",s.selected)("text-muted",s.isMuted())("outside",s.isMuted())("active",s.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},attrs:rV,decls:1,vars:1,template:function(r,s){1&r&&u._uU(0),2&r&&u.Oqu(s.i18n.getDayNumerals(s.date))},styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:transparent}[ngbDatepickerDayView].outside{opacity:.5}"],encapsulation:2,changeDetection:0}),i})(),u3=(()=>{class i{constructor(r,s){this.i18n=r,this._renderer=s,this.select=new u.vpe,this._month=-1,this._year=-1}changeMonth(r){this.select.emit(new Zr(this.date.year,Mi(r),1))}changeYear(r){this.select.emit(new Zr(Mi(r),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}}return i.\u0275fac=function(r){return new(r||i)(u.Y36(Vg),u.Y36(u.Qsj))},i.\u0275cmp=u.Xpm({type:i,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(r,s){if(1&r&&(u.Gf(iV,7,u.SBq),u.Gf(sV,7,u.SBq)),2&r){let l;u.iGM(l=u.CRH())&&(s.monthSelect=l.first),u.iGM(l=u.CRH())&&(s.yearSelect=l.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},decls:6,vars:4,consts:function(){let n,r,s,l;return n=$localize`:@@ngb.datepicker.select-month␟1dbc84807f35518112f62e5775d1daebd3d8462b␟2253869508135064750:Select month`,r=$localize`:@@ngb.datepicker.select-month␟1dbc84807f35518112f62e5775d1daebd3d8462b␟2253869508135064750:Select month`,s=$localize`:@@ngb.datepicker.select-year␟8ceb09d002bf0c5d1cac171dfbffe1805d2b3962␟8852264961585484321:Select year`,l=$localize`:@@ngb.datepicker.select-year␟8ceb09d002bf0c5d1cac171dfbffe1805d2b3962␟8852264961585484321:Select year`,[["aria-label",n,"title",r,1,"custom-select",3,"disabled","change"],["month",""],[3,"value",4,"ngFor","ngForOf"],["aria-label",s,"title",l,1,"custom-select",3,"disabled","change"],["year",""],[3,"value"]]},template:function(r,s){1&r&&(u.TgZ(0,"select",0,1),u.NdJ("change",function(d){return s.changeMonth(d.target.value)}),u.YNc(2,oV,2,3,"option",2),u.qZA(),u.TgZ(3,"select",3,4),u.NdJ("change",function(d){return s.changeYear(d.target.value)}),u.YNc(5,aV,2,2,"option",2),u.qZA()),2&r&&(u.Q6J("disabled",s.disabled),u.xp6(2),u.Q6J("ngForOf",s.months),u.xp6(1),u.Q6J("disabled",s.disabled),u.xp6(2),u.Q6J("ngForOf",s.years))},directives:[vt,qI,ZI],styles:["ngb-datepicker-navigation-select>.custom-select{flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.custom-select:focus{z-index:1}ngb-datepicker-navigation-select>.custom-select::-ms-value{background-color:transparent!important}"],encapsulation:2,changeDetection:0}),i})();new Date(1882,10,12),new Date(2174,10,25);let IP=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[[Pr,zO]]}),i})(),Kx=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=u.lG2({type:i,selectors:[["",8,"navbar"]]}),i})(),NP=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({}),i})(),MP=(()=>{class i{constructor(r){this._ngbConfig=r,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(r){this._animation=r}}return i.\u0275fac=function(r){return new(r||i)(u.LFG(ui))},i.\u0275prov=u.Yz7({factory:function(){return new i(u.LFG(ui))},token:i,providedIn:"root"}),i})();class jg{constructor(n,r,s){this.nodes=n,this.viewRef=r,this.componentRef=s}}const v3=()=>{};let xP=(()=>{class i{constructor(r){this._document=r}compensate(){const r=this._getWidth();return this._isPresent(r)?this._adjustBody(r):v3}_adjustBody(r){const s=this._document.body,l=s.style.paddingRight,d=parseFloat(window.getComputedStyle(s)["padding-right"]);return s.style["padding-right"]=`${d+r}px`,()=>s.style["padding-right"]=l}_isPresent(r){const s=this._document.body.getBoundingClientRect();return window.innerWidth-(s.left+s.right)>=r-.1*r}_getWidth(){const r=this._document.createElement("div");r.className="modal-scrollbar-measure";const s=this._document.body;s.appendChild(r);const l=r.getBoundingClientRect().width-r.clientWidth;return s.removeChild(r),l}}return i.\u0275fac=function(r){return new(r||i)(u.LFG(ie))},i.\u0275prov=u.Yz7({factory:function(){return new i(u.LFG(ie))},token:i,providedIn:"root"}),i})(),b3=(()=>{class i{constructor(r,s){this._el=r,this._zone=s}ngOnInit(){this._zone.onStable.asObservable().pipe(Qr(1)).subscribe(()=>{qr(this._zone,this._el.nativeElement,(r,s)=>{s&&dv(r),r.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return qr(this._zone,this._el.nativeElement,({classList:r})=>r.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return i.\u0275fac=function(r){return new(r||i)(u.Y36(u.SBq),u.Y36(u.R0b))},i.\u0275cmp=u.Xpm({type:i,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(r,s){2&r&&(u.Tol("modal-backdrop"+(s.backdropClass?" "+s.backdropClass:"")),u.ekj("show",!s.animation)("fade",s.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(r,s){},encapsulation:2}),i})();class RP{close(n){}dismiss(n){}}class w3{constructor(n,r,s,l){this._windowCmptRef=n,this._contentRef=r,this._backdropCmptRef=s,this._beforeDismiss=l,this._closed=new Zt.xQ,this._dismissed=new Zt.xQ,this._hidden=new Zt.xQ,n.instance.dismissEvent.subscribe(d=>{this.dismiss(d)}),this.result=new Promise((d,g)=>{this._resolve=d,this._reject=g}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(nr(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(nr(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(n){this._windowCmptRef&&(this._closed.next(n),this._resolve(n),this._removeModalElements())}_dismiss(n){this._dismissed.next(n),this._reject(n),this._removeModalElements()}dismiss(n){if(this._windowCmptRef)if(this._beforeDismiss){const r=this._beforeDismiss();r&&r.then?r.then(s=>{!1!==s&&this._dismiss(n)},()=>{}):!1!==r&&this._dismiss(n)}else this._dismiss(n)}_removeModalElements(){const n=this._windowCmptRef.instance.hide(),r=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,ze.of)(void 0);n.subscribe(()=>{const{nativeElement:s}=this._windowCmptRef.location;s.parentNode.removeChild(s),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),r.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:s}=this._backdropCmptRef.location;s.parentNode.removeChild(s),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),of(n,r).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Qw=(()=>(function(i){i[i.BACKDROP_CLICK=0]="BACKDROP_CLICK",i[i.ESC=1]="ESC"}(Qw||(Qw={})),Qw))();let E3=(()=>{class i{constructor(r,s,l){this._document=r,this._elRef=s,this._zone=l,this._closed$=new Zt.xQ,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new u.vpe,this.shown=new Zt.xQ,this.hidden=new Zt.xQ}dismiss(r){this.dismissEvent.emit(r)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Qr(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:r}=this._elRef,s={animation:this.animation,runningTransition:"stop"},g=of(qr(this._zone,r,()=>r.classList.remove("show"),s),qr(this._zone,this._dialogEl.nativeElement,()=>{},s));return g.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),g}_show(){const r={animation:this.animation,runningTransition:"continue"};of(qr(this._zone,this._elRef.nativeElement,(d,g)=>{g&&dv(d),d.classList.add("show")},r),qr(this._zone,this._dialogEl.nativeElement,()=>{},r)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:r}=this._elRef;this._zone.runOutsideAngular(()=>{ne(r,"keydown").pipe(nr(this._closed$),gn(l=>l.which===Ft.Escape)).subscribe(l=>{this.keyboard?requestAnimationFrame(()=>{l.defaultPrevented||this._zone.run(()=>this.dismiss(Qw.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let s=!1;ne(this._dialogEl.nativeElement,"mousedown").pipe(nr(this._closed$),(0,Gn.b)(()=>s=!1),On(()=>ne(r,"mouseup").pipe(nr(this._closed$),Qr(1))),gn(({target:l})=>r===l)).subscribe(()=>{s=!0}),ne(r,"click").pipe(nr(this._closed$)).subscribe(({target:l})=>{r===l&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!s&&this._zone.run(()=>this.dismiss(Qw.BACKDROP_CLICK))),s=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:r}=this._elRef;if(!r.contains(document.activeElement)){const s=r.querySelector("[ngbAutofocus]"),l=mP(r)[0];(s||l||r).focus()}}_restoreFocus(){const r=this._document.body,s=this._elWithFocus;let l;l=s&&s.focus&&r.contains(s)?s:r,this._zone.runOutsideAngular(()=>{setTimeout(()=>l.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&qr(this._zone,this._elRef.nativeElement,({classList:r})=>(r.add("modal-static"),()=>r.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return i.\u0275fac=function(r){return new(r||i)(u.Y36(ie),u.Y36(u.SBq),u.Y36(u.R0b))},i.\u0275cmp=u.Xpm({type:i,selectors:[["ngb-modal-window"]],viewQuery:function(r,s){if(1&r&&u.Gf(lV,7),2&r){let l;u.iGM(l=u.CRH())&&(s._dialogEl=l.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(r,s){2&r&&(u.uIk("aria-modal",!0)("aria-labelledby",s.ariaLabelledBy)("aria-describedby",s.ariaDescribedBy),u.Tol("modal d-block"+(s.windowClass?" "+s.windowClass:"")),u.ekj("fade",s.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:uv,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(r,s){1&r&&(u.F$t(),u.TgZ(0,"div",0,1),u.TgZ(2,"div",2),u.Hsn(3),u.qZA(),u.qZA()),2&r&&u.Tol("modal-dialog"+(s.size?" modal-"+s.size:"")+(s.centered?" modal-dialog-centered":"")+(s.scrollable?" modal-dialog-scrollable":"")+(s.modalDialogClass?" "+s.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),i})(),kP=(()=>{class i{constructor(r,s,l,d,g,y){this._applicationRef=r,this._injector=s,this._document=l,this._scrollBar=d,this._rendererFactory=g,this._ngZone=y,this._activeWindowCmptHasChanged=new Zt.xQ,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new u.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const E=this._windowCmpts[this._windowCmpts.length-1];_P(this._ngZone,E.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(E.location.nativeElement)}})}open(r,s,l,d){const g=d.container instanceof HTMLElement?d.container:df(d.container)?this._document.querySelector(d.container):this._document.body,y=this._rendererFactory.createRenderer(null,null),E=this._scrollBar.compensate(),I=()=>{this._modalRefs.length||(y.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!g)throw new Error(`The specified modal container "${d.container||"body"}" was not found in the DOM.`);const S=new RP,x=this._getContentRef(r,d.injector||s,l,S,d);let O=!1!==d.backdrop?this._attachBackdrop(r,g):void 0,V=this._attachWindowComponent(r,g,x),q=new w3(V,x,O,d.beforeDismiss);return this._registerModalRef(q),this._registerWindowCmpt(V),q.result.then(E,E),q.result.then(I,I),S.close=te=>{q.close(te)},S.dismiss=te=>{q.dismiss(te)},this._applyWindowOptions(V.instance,d),1===this._modalRefs.length&&y.addClass(this._document.body,"modal-open"),O&&O.instance&&(this._applyBackdropOptions(O.instance,d),O.changeDetectorRef.detectChanges()),V.changeDetectorRef.detectChanges(),q}get activeInstances(){return this._activeInstances}dismissAll(r){this._modalRefs.forEach(s=>s.dismiss(r))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(r,s){let d=r.resolveComponentFactory(b3).create(this._injector);return this._applicationRef.attachView(d.hostView),s.appendChild(d.location.nativeElement),d}_attachWindowComponent(r,s,l){let g=r.resolveComponentFactory(E3).create(this._injector,l.nodes);return this._applicationRef.attachView(g.hostView),s.appendChild(g.location.nativeElement),g}_applyWindowOptions(r,s){this._windowAttributes.forEach(l=>{df(s[l])&&(r[l]=s[l])})}_applyBackdropOptions(r,s){this._backdropAttributes.forEach(l=>{df(s[l])&&(r[l]=s[l])})}_getContentRef(r,s,l,d,g){return l?l instanceof u.Rgc?this._createFromTemplateRef(l,d):KI(l)?this._createFromString(l):this._createFromComponent(r,s,l,d,g):new jg([])}_createFromTemplateRef(r,s){const d=r.createEmbeddedView({$implicit:s,close(g){s.close(g)},dismiss(g){s.dismiss(g)}});return this._applicationRef.attachView(d),new jg([d.rootNodes],d)}_createFromString(r){const s=this._document.createTextNode(`${r}`);return new jg([[s]])}_createFromComponent(r,s,l,d,g){const y=r.resolveComponentFactory(l),E=u.zs3.create({providers:[{provide:RP,useValue:d}],parent:s}),I=y.create(E),S=I.location.nativeElement;return g.scrollable&&S.classList.add("component-host-scrollable"),this._applicationRef.attachView(I.hostView),new jg([[S]],I.hostView,I)}_setAriaHidden(r){const s=r.parentElement;s&&r!==this._document.body&&(Array.from(s.children).forEach(l=>{l!==r&&"SCRIPT"!==l.nodeName&&(this._ariaHiddenValues.set(l,l.getAttribute("aria-hidden")),l.setAttribute("aria-hidden","true"))}),this._setAriaHidden(s))}_revertAriaHidden(){this._ariaHiddenValues.forEach((r,s)=>{r?s.setAttribute("aria-hidden",r):s.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(r){const s=()=>{const l=this._modalRefs.indexOf(r);l>-1&&(this._modalRefs.splice(l,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(r),this._activeInstances.emit(this._modalRefs),r.result.then(s,s)}_registerWindowCmpt(r){this._windowCmpts.push(r),this._activeWindowCmptHasChanged.next(),r.onDestroy(()=>{const s=this._windowCmpts.indexOf(r);s>-1&&(this._windowCmpts.splice(s,1),this._activeWindowCmptHasChanged.next())})}}return i.\u0275fac=function(r){return new(r||i)(u.LFG(u.z2F),u.LFG(u.zs3),u.LFG(ie),u.LFG(xP),u.LFG(u.FYo),u.LFG(u.R0b))},i.\u0275prov=u.Yz7({factory:function(){return new i(u.LFG(u.z2F),u.LFG(u.gxx),u.LFG(ie),u.LFG(xP),u.LFG(u.FYo),u.LFG(u.R0b))},token:i,providedIn:"root"}),i})(),C3=(()=>{class i{constructor(r,s,l,d){this._moduleCFR=r,this._injector=s,this._modalStack=l,this._config=d}open(r,s={}){const l=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),s);return this._modalStack.open(this._moduleCFR,this._injector,r,l)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(r){this._modalStack.dismissAll(r)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return i.\u0275fac=function(r){return new(r||i)(u.LFG(u._Vd),u.LFG(u.zs3),u.LFG(kP),u.LFG(MP))},i.\u0275prov=u.Yz7({factory:function(){return new i(u.LFG(u._Vd),u.LFG(u.gxx),u.LFG(kP),u.LFG(MP))},token:i,providedIn:"root"}),i})(),OP=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({providers:[C3]}),i})(),VP=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[[Pr]]}),i})(),ZP=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[[Pr]]}),i})(),YP=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[[Pr]]}),i})(),KP=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[[Pr]]}),i})(),QP=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[[Pr]]}),i})(),tF=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[[Pr]]}),i})(),nF=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[[Pr]]}),i})(),rF=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({}),i})();new u.OlP("live announcer delay",{providedIn:"root",factory:function(){return 100}});let oF=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[[Pr]]}),i})();const oB=[rP,iP,oP,uP,cP,IP,NP,OP,VP,ZP,YP,KP,QP,tF,nF,rF,oF];let aB=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[oB,rP,iP,oP,uP,cP,IP,NP,OP,VP,ZP,YP,KP,QP,tF,nF,rF,oF]}),i})(),aF=(()=>{class i{constructor(r){this.router=r,this.dropTogle=!1}ngOnInit(){}goToBusqueda(){this.router.navigate(["home"])}goToActorPelicula(){this.router.navigate(["actor/actorpelicula"])}goToAltaActor(){this.router.navigate(["actor/alta"])}goToAltaPelicula(){this.router.navigate(["pelicula/alta"])}}return i.\u0275fac=function(r){return new(r||i)(u.Y36(bi))},i.\u0275cmp=u.Xpm({type:i,selectors:[["app-nav"]],decls:21,vars:2,consts:[[1,"navbar","navbar-expand-md","navbar-dark","fixed-top","bg-dark"],[1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarsExampleDefault","aria-controls","navbarsExampleDefault","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarsExampleDefault",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[1,"nav-item"],[1,"nav-link",3,"click"],[1,"nav-item","dropdown"],["role","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link","dropdown-toggle",3,"click"],["aria-labelledby","navbarDropdownMenuLink",1,"dropdown-menu"],[1,"dropdown-item",3,"click"]],template:function(r,s){1&r&&(u.TgZ(0,"nav",0),u.TgZ(1,"a",1),u._uU(2,"Navbar"),u.qZA(),u.TgZ(3,"button",2),u._UZ(4,"span",3),u.qZA(),u.TgZ(5,"div",4),u.TgZ(6,"ul",5),u.TgZ(7,"li",6),u.TgZ(8,"a",7),u.NdJ("click",function(){return s.goToBusqueda()}),u._uU(9,"Peliculas"),u.qZA(),u.qZA(),u.TgZ(10,"li",6),u.TgZ(11,"a",7),u.NdJ("click",function(){return s.goToActorPelicula()}),u._uU(12,"Actores"),u.qZA(),u.qZA(),u.TgZ(13,"li",8),u.TgZ(14,"a",9),u.NdJ("click",function(){return s.dropTogle=!s.dropTogle}),u._uU(15," Alta "),u.qZA(),u.TgZ(16,"div",10),u.TgZ(17,"a",11),u.NdJ("click",function(){return s.goToAltaPelicula()}),u._uU(18,"Pelicula"),u.qZA(),u.TgZ(19,"a",11),u.NdJ("click",function(){return s.goToAltaActor()}),u._uU(20,"Actor"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&r&&(u.xp6(16),u.ekj("show",s.dropTogle))},directives:[Kx],styles:[""]}),i})();function lB(i,n){if(1&i){const r=u.EpF();u.TgZ(0,"li",4),u.NdJ("click",function(){const d=u.CHM(r).$implicit;return u.oxw().selectActor(d)}),u.TgZ(1,"div",5),u.TgZ(2,"span"),u._uU(3),u.qZA(),u.qZA(),u.TgZ(4,"div",6),u.TgZ(5,"span",1),u._uU(6),u.qZA(),u.qZA(),u.TgZ(7,"div",6),u.TgZ(8,"span",1),u._uU(9),u.qZA(),u.qZA(),u.qZA()}if(2&i){const r=n.$implicit;u.xp6(3),u.AsE(" ",r.actor.nombre," ",r.actor.apellido," "),u.xp6(3),u.AsE("Nacido el ",r.actor.nacimiento," en ",r.actor.pais,""),u.xp6(3),u.hij("G\xe9nero: ",r.actor.sexo,"")}}let tR=(()=>{class i{constructor(){this.actorSelected=new u.vpe}ngOnInit(){}selectActor(r){var s;null===(s=this.actorSelected)||void 0===s||s.emit(r)}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=u.Xpm({type:i,selectors:[["app-tabla-actor"]],inputs:{actors:"actors"},outputs:{actorSelected:"actorSelected"},decls:5,vars:1,consts:[[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-muted"],[1,"list-group","mb-3"],["class","list-group-item align-items-center lh-condensed",3,"click",4,"ngFor","ngForOf"],[1,"list-group-item","align-items-center","lh-condensed",3,"click"],[1,"row",2,"width","100%","text-transform","capitalize"],[1,"row"]],template:function(r,s){1&r&&(u.TgZ(0,"h4",0),u.TgZ(1,"span",1),u._uU(2,"Actores/Actr\xedces"),u.qZA(),u.qZA(),u.TgZ(3,"ul",2),u.YNc(4,lB,10,5,"li",3),u.qZA()),2&r&&(u.xp6(4),u.Q6J("ngForOf",s.actors))},directives:[vt],styles:["ul[_ngcontent-%COMP%]{max-height:300px;overflow-y:scroll}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;cursor:pointer}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{-webkit-user-drag:none}[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}"]}),i})();function uB(i,n){if(1&i&&(u.TgZ(0,"li",4),u.TgZ(1,"div",5),u.TgZ(2,"div",6),u._UZ(3,"img",7),u.qZA(),u.TgZ(4,"div",6),u.TgZ(5,"div",8),u.TgZ(6,"h5",9),u._uU(7),u.qZA(),u.TgZ(8,"span"),u._uU(9),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&i){const r=n.$implicit;u.xp6(3),u.s9C("src",r.movie.realUrl,u.LSH),u.xp6(4),u.Oqu(r.movie.nombre),u.xp6(2),u.hij("Estrenada el d\xeda ",r.movie.fecha_estreno,"")}}function cB(i,n){if(1&i&&(u.TgZ(0,"ul",2),u.YNc(1,uB,10,3,"li",3),u.qZA()),2&i){const r=u.oxw();u.xp6(1),u.Q6J("ngForOf",r.movies)}}let dB=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=u.Xpm({type:i,selectors:[["app-tabla-pelicula-fija"]],inputs:{movies:"movies",imagesLoaded:"imagesLoaded"},decls:4,vars:1,consts:[[1,"d-flex","justify-content-between","align-items-center","mb-3"],["class","list-group mb-3",4,"ngIf"],[1,"list-group","mb-3"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[1,"row","no-gutters"],[1,"col-md-6"],["alt","movie-cover",2,"max-width","8rem",3,"src"],[1,"card-body"],[1,"card-title"]],template:function(r,s){1&r&&(u.TgZ(0,"h4",0),u.TgZ(1,"legend"),u._uU(2,"Peliculas:"),u.qZA(),u.qZA(),u.YNc(3,cB,2,1,"ul",1)),2&r&&(u.xp6(3),u.Q6J("ngIf",s.imagesLoaded))},directives:[un,vt],styles:["ul[_ngcontent-%COMP%]{max-height:300px;overflow-y:scroll}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;cursor:pointer}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{-webkit-user-drag:none}[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}"]}),i})();function hB(i,n){if(1&i&&(u.TgZ(0,"div",3),u.TgZ(1,"div"),u._UZ(2,"img",4),u.qZA(),u.TgZ(3,"span"),u._uU(4),u.qZA(),u.qZA()),2&i){const r=u.oxw(2);u.xp6(2),u.MGl("src","https://www.countryflags.io/",null==r.pais?null:r.pais.img_code,"/shiny/64.png",u.LSH),u.xp6(2),u.Oqu(null==r.pais?null:r.pais.nombre)}}function fB(i,n){if(1&i&&(u.TgZ(0,"fieldset"),u.TgZ(1,"legend"),u._uU(2,"Nacionalidad:"),u.qZA(),u.YNc(3,hB,5,2,"div",2),u.qZA()),2&i){const r=u.oxw();u.xp6(3),u.Q6J("ngIf",r.pais)}}function pB(i,n){1&i&&(u.TgZ(0,"legend"),u._uU(1,"Nacionalidad:"),u.qZA())}let gB=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=u.Xpm({type:i,selectors:[["app-detalle-pais"]],inputs:{pais:"pais"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["span",""],["class","row mt-5",4,"ngIf"],[1,"row","mt-5"],[3,"src"]],template:function(r,s){if(1&r&&(u.YNc(0,fB,4,1,"fieldset",0),u.YNc(1,pB,2,0,"ng-template",null,1,u.W1O)),2&r){const l=u.MAs(2);u.Q6J("ngIf",s.pais)("ngIfElse",l)}},directives:[un],styles:[""]}),i})();function mB(i,n){if(1&i&&(u.TgZ(0,"fieldset"),u.TgZ(1,"legend"),u._uU(2),u.qZA(),u.TgZ(3,"div",2),u.TgZ(4,"label",3),u._uU(5,"Nacido el: "),u.TgZ(6,"strong"),u._uU(7),u.qZA(),u.qZA(),u.qZA(),u.TgZ(8,"div",4),u.TgZ(9,"label",3),u._uU(10,"Edad: "),u.TgZ(11,"strong"),u._uU(12),u.qZA(),u.qZA(),u.qZA(),u.TgZ(13,"div",4),u.TgZ(14,"label",3),u._uU(15,"G\xe9nero: "),u.TgZ(16,"strong"),u._uU(17),u.qZA(),u.qZA(),u.qZA(),u._UZ(18,"hr",5),u.TgZ(19,"div",4),u.TgZ(20,"label",3),u._uU(21,"Biograf\xeda: "),u.TgZ(22,"strong"),u._uU(23),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&i){const r=u.oxw();u.xp6(2),u.AsE("",null==r.actor||null==r.actor.actor?null:r.actor.actor.nombre," ",null==r.actor||null==r.actor.actor?null:r.actor.actor.apellido,""),u.xp6(5),u.Oqu(null==r.actor||null==r.actor.actor?null:r.actor.actor.nacimiento),u.xp6(5),u.hij("",r.getEdad(null==r.actor||null==r.actor.actor?null:r.actor.actor.nacimiento)," A\xf1os"),u.xp6(5),u.Oqu(null==r.actor||null==r.actor.actor?null:r.actor.actor.sexo),u.xp6(6),u.Oqu(null==r.actor||null==r.actor.actor?null:r.actor.actor.biografia)}}function _B(i,n){1&i&&(u.TgZ(0,"legend"),u._uU(1,"Datos:"),u.qZA())}let yB=(()=>{class i{constructor(){}ngOnInit(){}getEdad(r){if(r){let s=((new Date).getTime()-new Date(r).getTime())/31536e6;return Math.floor(s).toString()}return""}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=u.Xpm({type:i,selectors:[["app-detalle-actor"]],inputs:{actor:"actor"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["span",""],[1,"row","mt-5"],["for","firstName"],[1,"row","mt-2"],[1,"mb-4","m-0"]],template:function(r,s){if(1&r&&(u.YNc(0,mB,24,6,"fieldset",0),u.YNc(1,_B,2,0,"ng-template",null,1,u.W1O)),2&r){const l=u.MAs(2);u.Q6J("ngIf",s.actor)("ngIfElse",l)}},directives:[un],styles:[""]}),i})(),vB=(()=>{class i{constructor(r,s){this.db=r,this.fl=s,this.actors=[],this.movies=[],this.imagesLoaded=!1,this.getActors()}ngOnInit(){}selectActor(r){this.imagesLoaded=!1,this.actor=r,this.db.getCountryByName(r.actor.pais).then(s=>{this.pais=s}),this.db.getMoviesByActorId(r.id).then(s=>{this.movies=s,this.fl.getMoviePicUrl(this.movies),setTimeout(()=>{this.imagesLoaded=!0},1e3)})}getActors(){this.db.getObserver(wp).onSnapshot(r=>{this.actors=[],r.forEach(s=>{this.actors.push({id:s.id,actor:s.data()})})})}}return i.\u0275fac=function(r){return new(r||i)(u.Y36(Hy),u.Y36(P))},i.\u0275cmp=u.Xpm({type:i,selectors:[["app-actores-peliculas"]],decls:17,vars:5,consts:[["role","main"],[1,"jumbotron","p-0"],[2,"display","table","width","100%",3,"actors","actorSelected"],[1,"container"],[1,"row"],[1,"col-md-4"],[3,"imagesLoaded","movies"],[3,"pais"],[3,"actor"]],template:function(r,s){1&r&&(u._UZ(0,"app-nav"),u._uU(1,">\n"),u.TgZ(2,"main",0),u.TgZ(3,"div",1),u.TgZ(4,"app-tabla-actor",2),u.NdJ("actorSelected",function(d){return s.selectActor(d)}),u.qZA(),u.qZA(),u.TgZ(5,"div",3),u.TgZ(6,"div",4),u.TgZ(7,"div",5),u._UZ(8,"app-tabla-pelicula-fija",6),u.qZA(),u.TgZ(9,"div",5),u._UZ(10,"app-detalle-pais",7),u.qZA(),u.TgZ(11,"div",5),u._UZ(12,"app-detalle-actor",8),u.qZA(),u.qZA(),u._UZ(13,"hr"),u.qZA(),u.qZA(),u.TgZ(14,"footer",3),u.TgZ(15,"p"),u._uU(16,"\xa9 Company 2017-2021"),u.qZA(),u.qZA()),2&r&&(u.xp6(4),u.Q6J("actors",s.actors),u.xp6(4),u.Q6J("imagesLoaded",s.imagesLoaded)("movies",s.movies),u.xp6(2),u.Q6J("pais",s.pais),u.xp6(2),u.Q6J("actor",s.actor))},directives:[aF,tR,dB,gB,yB],styles:["main[_ngcontent-%COMP%]{padding-top:3.5rem}.bd-placeholder-img[_ngcontent-%COMP%]{font-size:1.125rem;text-anchor:middle;-webkit-user-select:none;user-select:none}.form-inline[_ngcontent-%COMP%]{display:flex}nav[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{justify-content:space-between}@media (min-width: 768px){.bd-placeholder-img-lg[_ngcontent-%COMP%]{font-size:3.5rem}}"]}),i})();function bB(i,n){1&i&&(u.O4$(),u.kcU(),u.TgZ(0,"div",10),u._uU(1," *El formato de fecha no es v\xe1lido* "),u.qZA())}let lF=(()=>{class i{constructor(){this.change=!1,this.valid=!1,this.dateSelected=new u.vpe}ngOnInit(){}dateChange(r){this.change=!0,/^(0[1-9]|[12][0-9]|3[01])[- /.](0[1-9]|1[012])[- /.](19|20)\d\d$/.test(("0"+(null==r?void 0:r.day)).slice(-2)+"/"+("0"+(null==r?void 0:r.month)).slice(-2)+"/"+(null==r?void 0:r.year))?(this.valid=!0,this.dateSelected.emit((null==r?void 0:r.day)+"/"+(null==r?void 0:r.month)+"/"+(null==r?void 0:r.year))):this.valid=!1}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=u.Xpm({type:i,selectors:[["app-date-picker"]],outputs:{dateSelected:"dateSelected"},decls:10,vars:2,consts:[[1,"form-group"],[1,"input-group"],["placeholder","yyyy-mm-dd","name","dp","ngbDatepicker","","required","",1,"form-control",3,"ngModel","ngModelChange"],["d","ngbDatepicker"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary","calendar",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-calendar3"],["d","M14 0H2a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zM1 3.857C1 3.384 1.448 3 2 3h12c.552 0 1 .384 1 .857v10.286c0 .473-.448.857-1 .857H2c-.552 0-1-.384-1-.857V3.857z"],["d","M6.5 7a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm-9 3a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm-9 3a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"],["class","invalid-feedback d-block","style","width: 100%;",4,"ngIf"],[1,"invalid-feedback","d-block",2,"width","100%"]],template:function(r,s){if(1&r){const l=u.EpF();u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"input",2,3),u.NdJ("ngModelChange",function(g){return s.model=g})("ngModelChange",function(g){return s.dateChange(g)}),u.qZA(),u.TgZ(4,"div",4),u.TgZ(5,"button",5),u.NdJ("click",function(){return u.CHM(l),u.MAs(3).toggle()}),u.O4$(),u.TgZ(6,"svg",6),u._UZ(7,"path",7),u._UZ(8,"path",8),u.qZA(),u.qZA(),u.qZA(),u.YNc(9,bB,2,0,"div",9),u.qZA(),u.qZA()}2&r&&(u.xp6(2),u.Q6J("ngModel",s.model),u.xp6(7),u.Q6J("ngIf",s.change&&!s.valid))},directives:[a3,sv,lv,PI,Rx,un],styles:[""]}),i})();function wB(i,n){if(1&i){const r=u.EpF();u.TgZ(0,"li",4),u.NdJ("click",function(){const d=u.CHM(r).$implicit;return u.oxw().selectCountry(d)}),u.TgZ(1,"div"),u._UZ(2,"img",5),u.qZA(),u.TgZ(3,"span",1),u._uU(4),u.qZA(),u.qZA()}if(2&i){const r=n.$implicit;u.xp6(2),u.MGl("src","https://www.countryflags.io/",r.img_code,"/shiny/64.png",u.LSH),u.xp6(2),u.Oqu(r.nombre)}}let EB=(()=>{class i{constructor(r){this.db=r,this.countries=[],this.countrySelected=new u.vpe,this.db.getObserver("paises").onSnapshot(s=>{this.countries=[],s.forEach(l=>{this.countries.push(l.data())})})}ngOnInit(){}selectCountry(r){var s;null===(s=this.countrySelected)||void 0===s||s.emit(r)}}return i.\u0275fac=function(r){return new(r||i)(u.Y36(Hy))},i.\u0275cmp=u.Xpm({type:i,selectors:[["app-tabla-paises"]],outputs:{countrySelected:"countrySelected"},decls:5,vars:1,consts:[[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-muted"],[1,"list-group","mb-3"],["class","list-group-item d-flex justify-content-between align-items-center lh-condensed",3,"click",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-between","align-items-center","lh-condensed",3,"click"],[3,"src"]],template:function(r,s){1&r&&(u.TgZ(0,"h4",0),u.TgZ(1,"span",1),u._uU(2,"Pa\xeds"),u.qZA(),u.qZA(),u.TgZ(3,"ul",2),u.YNc(4,wB,5,2,"li",3),u.qZA()),2&r&&(u.xp6(4),u.Q6J("ngForOf",s.countries))},directives:[vt],styles:["ul[_ngcontent-%COMP%]{max-height:300px;overflow-y:scroll}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;cursor:pointer}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{-webkit-user-drag:none}[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}"]}),i})();function CB(i,n){1&i&&(u.TgZ(0,"div",15),u.TgZ(1,"div",16),u.TgZ(2,"span",17),u._uU(3,"Loading..."),u.qZA(),u.qZA(),u.qZA())}function DB(i,n){1&i&&u._UZ(0,"div")}function TB(i,n){1&i&&u._UZ(0,"div")}function IB(i,n){1&i&&u._UZ(0,"div")}function AB(i,n){1&i&&u._UZ(0,"div")}function SB(i,n){if(1&i&&(u.TgZ(0,"div"),u.YNc(1,DB,1,0,"div",47),u.YNc(2,TB,1,0,"div",47),u.YNc(3,IB,1,0,"div",47),u.YNc(4,AB,1,0,"div",47),u.qZA()),2&i){const r=u.oxw(2),s=u.MAs(21),l=u.MAs(23),d=u.MAs(25);u.xp6(1),u.Q6J("ngIf",!(null!=r.form.controls.nombre.errors&&r.form.controls.nombre.errors.required))("ngIfElse",s),u.xp6(1),u.Q6J("ngIf",!(null!=r.form.controls.nombre.errors&&r.form.controls.nombre.errors.pattern))("ngIfElse",l),u.xp6(1),u.Q6J("ngIf",!(null!=r.form.controls.nombre.errors&&r.form.controls.nombre.errors.minlength))("ngIfElse",d),u.xp6(1),u.Q6J("ngIf",!(null!=r.form.controls.nombre.errors&&r.form.controls.nombre.errors.maxlength))("ngIfElse",d)}}function NB(i,n){1&i&&u._UZ(0,"div")}function MB(i,n){1&i&&u._UZ(0,"div")}function xB(i,n){1&i&&u._UZ(0,"div")}function RB(i,n){1&i&&u._UZ(0,"div")}function kB(i,n){if(1&i&&(u.TgZ(0,"div"),u.YNc(1,NB,1,0,"div",47),u.YNc(2,MB,1,0,"div",47),u.YNc(3,xB,1,0,"div",47),u.YNc(4,RB,1,0,"div",47),u.qZA()),2&i){const r=u.oxw(2),s=u.MAs(21),l=u.MAs(23),d=u.MAs(25);u.xp6(1),u.Q6J("ngIf",!(null!=r.form.controls.apellido.errors&&r.form.controls.apellido.errors.required))("ngIfElse",s),u.xp6(1),u.Q6J("ngIf",!(null!=r.form.controls.apellido.errors&&r.form.controls.apellido.errors.pattern))("ngIfElse",l),u.xp6(1),u.Q6J("ngIf",!(null!=r.form.controls.apellido.errors&&r.form.controls.apellido.errors.minlength))("ngIfElse",d),u.xp6(1),u.Q6J("ngIf",!(null!=r.form.controls.apellido.errors&&r.form.controls.apellido.errors.maxlength))("ngIfElse",d)}}function OB(i,n){1&i&&u._UZ(0,"div")}function PB(i,n){if(1&i&&(u.TgZ(0,"div"),u.YNc(1,OB,1,0,"div",47),u.qZA()),2&i){const r=u.oxw(2),s=u.MAs(21);u.xp6(1),u.Q6J("ngIf",!(null!=r.form.controls.nacimiento.errors&&r.form.controls.nacimiento.errors.required))("ngIfElse",s)}}function FB(i,n){1&i&&u._UZ(0,"div")}function LB(i,n){if(1&i&&(u.TgZ(0,"div"),u.YNc(1,FB,1,0,"div",47),u.qZA()),2&i){const r=u.oxw(2),s=u.MAs(21);u.xp6(1),u.Q6J("ngIf",!(null!=r.form.controls.pais.errors&&r.form.controls.pais.errors.required))("ngIfElse",s)}}function VB(i,n){1&i&&u._UZ(0,"div")}function UB(i,n){1&i&&u._UZ(0,"div")}function BB(i,n){if(1&i&&(u.TgZ(0,"div"),u.YNc(1,VB,1,0,"div",47),u.YNc(2,UB,1,0,"div",47),u.qZA()),2&i){const r=u.oxw(2),s=u.MAs(21),l=u.MAs(23);u.xp6(1),u.Q6J("ngIf",!(null!=r.form.controls.sexo.errors&&r.form.controls.sexo.errors.required))("ngIfElse",s),u.xp6(1),u.Q6J("ngIf",!(null!=r.form.controls.sexo.errors&&r.form.controls.sexo.errors.pattern))("ngIfElse",l)}}function jB(i,n){if(1&i){const r=u.EpF();u.TgZ(0,"div",18),u.TgZ(1,"div",19),u.TgZ(2,"form",20),u.NdJ("ngSubmit",function(){return u.CHM(r),u.oxw().send()}),u.TgZ(3,"div",18),u.TgZ(4,"div",21),u.TgZ(5,"label",22),u._uU(6,"Nombre"),u.qZA(),u._UZ(7,"input",23),u.YNc(8,SB,5,8,"div",24),u.qZA(),u.TgZ(9,"div",21),u.TgZ(10,"label",25),u._uU(11,"Apellido"),u.qZA(),u._UZ(12,"input",26),u.YNc(13,kB,5,8,"div",24),u.qZA(),u.qZA(),u.TgZ(14,"div",2),u.TgZ(15,"label",27),u._uU(16,"Biograf\xeda"),u.qZA(),u.TgZ(17,"div",28),u._UZ(18,"textarea",29),u.qZA(),u.qZA(),u._UZ(19,"hr",3),u.TgZ(20,"div",18),u.TgZ(21,"div",30),u.TgZ(22,"label",31),u._uU(23,"Nacimiento"),u.qZA(),u.TgZ(24,"app-date-picker",32),u.NdJ("dateSelected",function(l){return u.CHM(r),u.oxw().form.controls.nacimiento.setValue(l)}),u.qZA(),u.YNc(25,PB,2,2,"div",24),u.qZA(),u.TgZ(26,"div",30),u.TgZ(27,"label",33),u._uU(28,"Nacionalidad"),u.qZA(),u._UZ(29,"input",34),u.YNc(30,LB,2,2,"div",24),u.qZA(),u.TgZ(31,"div",30),u.TgZ(32,"label",35),u._uU(33,"Sexo"),u.qZA(),u.TgZ(34,"select",36),u.TgZ(35,"option",37),u._uU(36,"-- Elegir sexo --"),u.qZA(),u.TgZ(37,"option",38),u._uU(38,"Masculino"),u.qZA(),u.TgZ(39,"option",39),u._uU(40,"Femenino"),u.qZA(),u.TgZ(41,"option",40),u._uU(42,"No Binario"),u.qZA(),u.qZA(),u.YNc(43,BB,3,4,"div",24),u.qZA(),u.qZA(),u.TgZ(44,"div",41),u.TgZ(45,"div",42),u.TgZ(46,"strong",43),u._uU(47),u.qZA(),u.qZA(),u.qZA(),u._UZ(48,"hr",3),u.TgZ(49,"button",44),u._uU(50,"Enviar"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(51,"div",45),u.TgZ(52,"app-tabla-paises",46),u.NdJ("countrySelected",function(l){return u.CHM(r),u.oxw().form.controls.pais.setValue(l.nombre)}),u.qZA(),u.qZA(),u.qZA()}if(2&i){const r=u.oxw();u.xp6(2),u.Q6J("formGroup",r.form),u.xp6(6),u.Q6J("ngIf",r.form.controls.nombre.invalid&&(r.sended||r.form.controls.nombre.touched)),u.xp6(5),u.Q6J("ngIf",r.form.controls.apellido.invalid&&(r.sended||r.form.controls.apellido.touched)),u.xp6(12),u.Q6J("ngIf",r.form.controls.nacimiento.invalid&&(r.sended||r.form.controls.nacimiento.touched)),u.xp6(5),u.Q6J("ngIf",r.form.controls.pais.invalid&&(r.sended||r.form.controls.pais.touched)),u.xp6(5),u.Q6J("selected",1),u.xp6(8),u.Q6J("ngIf",r.form.controls.sexo.invalid&&(r.sended||r.form.controls.sexo.touched)),u.xp6(4),u.hij(" ",r.respuesta," ")}}function $B(i,n){1&i&&(u.TgZ(0,"div",48),u._uU(1," *Este campo es obligatorio* "),u.qZA())}function HB(i,n){1&i&&(u.TgZ(0,"div",48),u._uU(1," *El formato del campo es incorrecto* "),u.qZA())}function GB(i,n){1&i&&(u.TgZ(0,"div",48),u._uU(1," *El valor de este campo es muy corto/bajo* "),u.qZA())}function qB(i,n){1&i&&(u.TgZ(0,"div",48),u._uU(1," *El valor de este campo es muy largo/alto* "),u.qZA())}let ZB=(()=>{class i{constructor(r,s){this.fb=r,this.db=s,this.sended=!1,this.spinner=!1,this.respuesta="",this.form=this.fb.group({nombre:["",_u.required],apellido:["",_u.required],biografia:[""],nacimiento:["",_u.required],pais:["",_u.required],sexo:["",_u.required]})}send(){this.sended=!0,this.form.valid&&(this.spinner=!0,this.db.set(wp,this.form.value).then(()=>{this.showResponse("Cargado correctamente")}).catch(s=>{this.showResponse(s)}).finally(()=>{this.spinner=!1}))}showResponse(r){this.respuesta=r,setTimeout(()=>{this.respuesta=""},3e3)}}return i.\u0275fac=function(r){return new(r||i)(u.Y36(YO),u.Y36(Hy))},i.\u0275cmp=u.Xpm({type:i,selectors:[["app-alta-actores"]],decls:28,vars:2,consts:[[1,"container"],[1,"row","mt-3","p-3"],[1,"mb-3"],[1,"mb-4"],["class","row justify-content-center pt-5",4,"ngIf"],["class","row",4,"ngIf"],[1,"my-5","pt-5","text-muted","text-center","text-small"],[1,"mb-1"],[1,"list-inline"],[1,"list-inline-item"],["href","#"],["reqError",""],["patError",""],["minError",""],["maxError",""],[1,"row","justify-content-center","pt-5"],["role","status",1,"spinner-border","text-align-center",2,"width","3rem","height","3rem"],[1,"sr-only"],[1,"row"],[1,"col-md-8","order-md-1"],[1,"needs-validation",3,"formGroup","ngSubmit"],[1,"col-md-6","mb-3"],["for","firstName"],["pattern","[a-zA-Z ]*","minlength","3","maxlength","25","formControlName","nombre","type","text","placeholder","","value","","required","",1,"form-control"],[4,"ngIf"],["for","lastName"],["pattern","[a-zA-Z ]*","minlength","3","maxlength","25","formControlName","apellido","type","text","placeholder","","value","","required","",1,"form-control"],["for","bio"],[1,"input-group"],["formControlName","biografia","type","text","placeholder","Biograf\xeda...",1,"form-control"],[1,"col-md-4","mb-3"],["for","d"],[3,"dateSelected"],["for","country"],["formControlName","pais","type","text","placeholder","","value","","required","","readonly","",1,"form-control"],["for","sexo"],["formControlName","sexo","aria-label","sexo",1,"form-select"],["disabled","",3,"selected"],["value","Masculino"],["value","Femenino"],["value","No Binario"],[1,"card"],[1,"card-body","invalid-feedback","d-block","text-center"],[2,"width","100%","font-size","medium"],["type","submit",1,"offset-md-4","col-md-4","col-sm-6","btn","btn-primary","btn-lg","btn-block"],[1,"col-md-4","order-md-2","mb-4"],[3,"countrySelected"],[4,"ngIf","ngIfElse"],[1,"invalid-feedback","d-block",2,"width","100%"]],template:function(r,s){1&r&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"h3",2),u._uU(3,"Alta de Actor/Actriz"),u.qZA(),u.qZA(),u._UZ(4,"hr",3),u.YNc(5,CB,4,0,"div",4),u.YNc(6,jB,53,8,"div",5),u.TgZ(7,"footer",6),u.TgZ(8,"p",7),u._uU(9,"\xa9 2017-2021 Company Name"),u.qZA(),u.TgZ(10,"ul",8),u.TgZ(11,"li",9),u.TgZ(12,"a",10),u._uU(13,"Privacy"),u.qZA(),u.qZA(),u.TgZ(14,"li",9),u.TgZ(15,"a",10),u._uU(16,"Terms"),u.qZA(),u.qZA(),u.TgZ(17,"li",9),u.TgZ(18,"a",10),u._uU(19,"Support"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.YNc(20,$B,2,0,"ng-template",null,11,u.W1O),u.YNc(22,HB,2,0,"ng-template",null,12,u.W1O),u.YNc(24,GB,2,0,"ng-template",null,13,u.W1O),u.YNc(26,qB,2,0,"ng-template",null,14,u.W1O)),2&r&&(u.xp6(5),u.Q6J("ngIf",s.spinner),u.xp6(1),u.Q6J("ngIf",!s.spinner))},directives:[un,kx,bx,$w,sv,Lx,zI,WI,PI,GI,lv,lF,Hw,qI,ZI,EB],styles:[".container[_ngcontent-%COMP%]{max-width:960px}.lh-condensed[_ngcontent-%COMP%]{line-height:1.25}mat-form-field[_ngcontent-%COMP%]{margin-right:12px}"]}),i})();function zB(i,n){1&i&&(u.TgZ(0,"div",15),u.TgZ(1,"div",16),u.TgZ(2,"span",17),u._uU(3,"Loading..."),u.qZA(),u.qZA(),u.qZA())}function WB(i,n){1&i&&u._UZ(0,"div")}function YB(i,n){1&i&&u._UZ(0,"div")}function KB(i,n){1&i&&u._UZ(0,"div")}function QB(i,n){if(1&i&&(u.TgZ(0,"div"),u.YNc(1,WB,1,0,"div",43),u.YNc(2,YB,1,0,"div",43),u.YNc(3,KB,1,0,"div",43),u.qZA()),2&i){const r=u.oxw(2),s=u.MAs(21),l=u.MAs(25),d=u.MAs(27);u.xp6(1),u.Q6J("ngIf",!(null!=r.form.controls.nombre.errors&&r.form.controls.nombre.errors.required))("ngIfElse",s),u.xp6(1),u.Q6J("ngIf",!(null!=r.form.controls.nombre.errors&&r.form.controls.nombre.errors.minlength))("ngIfElse",l),u.xp6(1),u.Q6J("ngIf",!(null!=r.form.controls.nombre.errors&&r.form.controls.nombre.errors.maxlength))("ngIfElse",d)}}function JB(i,n){1&i&&u._UZ(0,"div")}function XB(i,n){if(1&i&&(u.TgZ(0,"div"),u.YNc(1,JB,1,0,"div",43),u.qZA()),2&i){const r=u.oxw(2),s=u.MAs(21);u.xp6(1),u.Q6J("ngIf",!(null!=r.form.controls.tipo.errors&&r.form.controls.tipo.errors.required))("ngIfElse",s)}}function e6(i,n){1&i&&u._UZ(0,"div")}function t6(i,n){1&i&&u._UZ(0,"div")}function n6(i,n){1&i&&u._UZ(0,"div")}function r6(i,n){if(1&i&&(u.TgZ(0,"div"),u.YNc(1,e6,1,0,"div",43),u.YNc(2,t6,1,0,"div",43),u.YNc(3,n6,1,0,"div",43),u.qZA()),2&i){const r=u.oxw(2),s=u.MAs(21),l=u.MAs(25),d=u.MAs(27);u.xp6(1),u.Q6J("ngIf",!(null!=r.form.controls.resumen.errors&&r.form.controls.resumen.errors.required))("ngIfElse",s),u.xp6(1),u.Q6J("ngIf",!(null!=r.form.controls.resumen.errors&&r.form.controls.resumen.errors.minlength))("ngIfElse",l),u.xp6(1),u.Q6J("ngIf",!(null!=r.form.controls.resumen.errors&&r.form.controls.resumen.errors.maxlength))("ngIfElse",d)}}function i6(i,n){1&i&&u._UZ(0,"div")}function s6(i,n){if(1&i&&(u.TgZ(0,"div"),u.YNc(1,i6,1,0,"div",43),u.qZA()),2&i){const r=u.oxw(2),s=u.MAs(21);u.xp6(1),u.Q6J("ngIf",!(null!=r.form.controls.fecha_estreno.errors&&r.form.controls.fecha_estreno.errors.required))("ngIfElse",s)}}function o6(i,n){1&i&&u._UZ(0,"div")}function a6(i,n){if(1&i&&(u.TgZ(0,"li",52),u.TgZ(1,"option",53),u._uU(2),u.qZA(),u.qZA()),2&i){const r=n.$implicit;u.xp6(1),u.Q6J("ngValue",r.id),u.xp6(1),u.Oqu(r.actor.nombre)}}function l6(i,n){1&i&&(u.TgZ(0,"div",55),u._uU(1," *Se requiere al menos un actor por pel\xedcula* "),u.qZA())}function u6(i,n){if(1&i&&(u.TgZ(0,"div"),u.YNc(1,l6,2,0,"div",54),u.qZA()),2&i){const r=u.oxw(2);u.xp6(1),u.Q6J("ngIf",0===r.form.controls.actores.value.length)}}function c6(i,n){if(1&i&&(u.TgZ(0,"div",56),u.TgZ(1,"div",57),u.TgZ(2,"strong",58),u._uU(3),u.qZA(),u.qZA(),u.qZA()),2&i){const r=u.oxw(2);u.xp6(3),u.hij(" ",r.respuesta," ")}}function d6(i,n){if(1&i){const r=u.EpF();u.TgZ(0,"div",18),u.TgZ(1,"div",19),u.TgZ(2,"form",20),u.NdJ("ngSubmit",function(){return u.CHM(r),u.oxw().send()}),u.TgZ(3,"div",18),u.TgZ(4,"div",21),u.TgZ(5,"label",22),u._uU(6,"Titulo de la pel\xedcula"),u.qZA(),u._UZ(7,"input",23),u.YNc(8,QB,4,6,"div",24),u.qZA(),u.TgZ(9,"div",25),u.TgZ(10,"label",26),u._uU(11,"G\xe9nero"),u.qZA(),u.TgZ(12,"select",27),u.TgZ(13,"option",28),u._uU(14,"-- Elegir g\xe9nero --"),u.qZA(),u.TgZ(15,"option",29),u._uU(16,"Terror"),u.qZA(),u.TgZ(17,"option",30),u._uU(18,"Comedia"),u.qZA(),u.TgZ(19,"option",31),u._uU(20,"Amor"),u.qZA(),u.TgZ(21,"option",32),u._uU(22,"Acci\xf3n"),u.qZA(),u.TgZ(23,"option",33),u._uU(24,"Otro"),u.qZA(),u.qZA(),u.YNc(25,XB,2,2,"div",24),u.qZA(),u.qZA(),u.TgZ(26,"div",2),u.TgZ(27,"label",34),u._uU(28,"Resumen"),u.qZA(),u.TgZ(29,"div",35),u.TgZ(30,"div",36),u._UZ(31,"textarea",37),u.qZA(),u.YNc(32,r6,4,6,"div",24),u.qZA(),u.qZA(),u._UZ(33,"hr",3),u.TgZ(34,"div",18),u.TgZ(35,"div",25),u.TgZ(36,"label"),u._uU(37,"Fecha de Estreno"),u.qZA(),u.TgZ(38,"app-date-picker",38),u.NdJ("dateSelected",function(l){return u.CHM(r),u.oxw().form.controls.fecha_estreno.setValue(l)}),u.qZA(),u.YNc(39,s6,2,2,"div",24),u.qZA(),u.TgZ(40,"div",21),u.TgZ(41,"label",39),u._uU(42,"Portada"),u.qZA(),u.TgZ(43,"label",40),u.TgZ(44,"input",41,42),u.NdJ("input",function(l){return u.CHM(r),u.oxw().getImage(l)}),u.qZA(),u.qZA(),u.YNc(46,o6,1,0,"div",43),u.qZA(),u.qZA(),u.TgZ(47,"div",44),u.TgZ(48,"label",45),u._uU(49,"Elenco:"),u.qZA(),u.TgZ(50,"ul",46),u.YNc(51,a6,3,2,"li",47),u.qZA(),u.YNc(52,u6,2,1,"div",24),u.qZA(),u.YNc(53,c6,4,1,"div",48),u._UZ(54,"hr",3),u.TgZ(55,"button",49),u._uU(56,"Enviar"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(57,"div",50),u.TgZ(58,"app-tabla-actor",51),u.NdJ("actorSelected",function(l){return u.CHM(r),u.oxw().getActor(l)}),u.qZA(),u.qZA(),u.qZA()}if(2&i){const r=u.oxw(),s=u.MAs(21);u.xp6(2),u.Q6J("formGroup",r.form),u.xp6(6),u.Q6J("ngIf",r.form.controls.nombre.invalid&&(r.sended||r.form.controls.nombre.touched)),u.xp6(5),u.Q6J("selected",1),u.xp6(12),u.Q6J("ngIf",r.form.controls.tipo.invalid&&(r.sended||r.form.controls.tipo.touched)),u.xp6(7),u.Q6J("ngIf",r.form.controls.resumen.invalid&&(r.sended||r.form.controls.resumen.touched)),u.xp6(7),u.Q6J("ngIf",r.form.controls.fecha_estreno.invalid&&(r.sended||r.form.controls.fecha_estreno.touched)),u.xp6(7),u.Q6J("ngIf",!(!r.form.controls.foto_path.valid&&r.sended))("ngIfElse",s),u.xp6(5),u.Q6J("ngForOf",r.actors),u.xp6(1),u.Q6J("ngIf",r.sended||r.form.controls.actores.touched),u.xp6(1),u.Q6J("ngIf",r.respuesta),u.xp6(5),u.Q6J("actors",r.fullActorsList)}}function h6(i,n){1&i&&(u.TgZ(0,"div",55),u._uU(1," *Este campo es obligatorio* "),u.qZA())}function f6(i,n){1&i&&(u.TgZ(0,"div",55),u._uU(1," *El formato del campo es incorrecto* "),u.qZA())}function p6(i,n){1&i&&(u.TgZ(0,"div",55),u._uU(1," *El valor de este campo es muy corto/bajo* "),u.qZA())}function g6(i,n){1&i&&(u.TgZ(0,"div",55),u._uU(1," *El valor de este campo es muy largo/alto* "),u.qZA())}let m6=(()=>{class i{constructor(r,s,l){this.fb=r,this.db=s,this.fireStorage=l,this.actors=[],this.sended=!1,this.spinner=!1,this.respuesta="",this.basePath_covers="/portadas",this.fullActorsList=[],this.form=this.fb.group({nombre:["",_u.required],tipo:["",_u.required],resumen:["",_u.required],fecha_estreno:["",_u.required],foto_path:["",_u.required],actores:this.fb.array([])}),this.db.getObserver(wp).onSnapshot(d=>{this.fullActorsList=[],d.forEach(g=>{this.fullActorsList.push({id:g.id,actor:g.data()})})})}getActor(r){this.form.controls.actores.value.push(r.id),this.actors.push(r)}getImage(r){var s,l;this.file=r.target.files[0],this.form.controls.foto_path.setValue(null!==(l=null===(s=r.target.files[0])||void 0===s?void 0:s.name)&&void 0!==l?l:"")}send(){var r=this;return(0,ge.Z)(function*(){if(r.sended=!0,r.form.valid){r.spinner=!0,r.task=r.fireStorage.upload(`${r.basePath_covers}/${r.form.controls.foto_path.value}`,r.file);let l={id:"",movie:r.form.value};yield r.db.set(h0,l.movie).then(()=>{r.showResponse("Cargado correctamente")}).catch(d=>{r.showResponse(d)}).finally(()=>{r.spinner=!1})}})()}showResponse(r){this.respuesta=r,setTimeout(()=>{this.respuesta=""},3e3)}}return i.\u0275fac=function(r){return new(r||i)(u.Y36(YO),u.Y36(Hy),u.Y36(T))},i.\u0275cmp=u.Xpm({type:i,selectors:[["app-alta-pelicula"]],decls:28,vars:2,consts:[[1,"container"],[1,"row","mt-3","p-3"],[1,"mb-3"],[1,"mb-4"],["class","row justify-content-center pt-5",4,"ngIf"],["class","row",4,"ngIf"],[1,"my-5","pt-5","text-muted","text-center","text-small"],[1,"mb-1"],[1,"list-inline"],[1,"list-inline-item"],["href","#"],["reqError",""],["patError",""],["minError",""],["maxError",""],[1,"row","justify-content-center","pt-5"],["role","status",1,"spinner-border","text-align-center",2,"width","3rem","height","3rem"],[1,"sr-only"],[1,"row"],[1,"col-md-8","order-md-1"],[1,"needs-validation",3,"formGroup","ngSubmit"],[1,"col-md-8","mb-3"],["for","nombre"],["minlength","2","maxlength","25","formControlName","nombre","type","text","placeholder","","value","","required","",1,"form-control"],[4,"ngIf"],[1,"col-md-4","mb-3"],["for","tipo"],["formControlName","tipo","aria-label","tipo",1,"form-select"],["disabled","",3,"selected"],["value","Terror"],["value","Comedia"],["value","Amor"],["value","Acci\xf3n"],["value","Otro"],["for","resumen"],[1,"input-group"],[1,"col-12","p-0"],["minlength","10","maxlength","35","formControlName","resumen","type","text","placeholder","Resumen...",1,"form-control"],[3,"dateSelected"],["for","portada",2,"width","100%"],[1,"image-upload-container",2,"width","100%"],["type","file","accept",".jpeg,.jpg,.png",1,"file-input","form-control",3,"input"],["imageInput",""],[4,"ngIf","ngIfElse"],["formArrayName","actores",1,"row"],["for","actors"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],["class","card",4,"ngIf"],["type","submit",1,"offset-md-4","col-md-4","col-sm-6","btn","btn-primary","btn-lg","btn-block"],[1,"col-md-4","order-md-2","mb-4"],[3,"actors","actorSelected"],[1,"list-group-item"],[3,"ngValue"],["class","invalid-feedback d-block","style","width: 100%;",4,"ngIf"],[1,"invalid-feedback","d-block",2,"width","100%"],[1,"card"],[1,"card-body","invalid-feedback","d-block","text-center"],[2,"width","100%","font-size","medium"]],template:function(r,s){1&r&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"h3",2),u._uU(3,"Alta de Actor/Actriz"),u.qZA(),u.qZA(),u._UZ(4,"hr",3),u.YNc(5,zB,4,0,"div",4),u.YNc(6,d6,59,12,"div",5),u.TgZ(7,"footer",6),u.TgZ(8,"p",7),u._uU(9,"\xa9 2017-2021 Company Name"),u.qZA(),u.TgZ(10,"ul",8),u.TgZ(11,"li",9),u.TgZ(12,"a",10),u._uU(13,"Privacy"),u.qZA(),u.qZA(),u.TgZ(14,"li",9),u.TgZ(15,"a",10),u._uU(16,"Terms"),u.qZA(),u.qZA(),u.TgZ(17,"li",9),u.TgZ(18,"a",10),u._uU(19,"Support"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.YNc(20,h6,2,0,"ng-template",null,11,u.W1O),u.YNc(22,f6,2,0,"ng-template",null,12,u.W1O),u.YNc(24,p6,2,0,"ng-template",null,13,u.W1O),u.YNc(26,g6,2,0,"ng-template",null,14,u.W1O)),2&r&&(u.xp6(5),u.Q6J("ngIf",s.spinner),u.xp6(1),u.Q6J("ngIf",!s.spinner))},directives:[un,kx,bx,$w,sv,zI,WI,PI,GI,lv,Hw,qI,ZI,lF,HI,vt,tR],styles:[".container[_ngcontent-%COMP%]{max-width:960px}.lh-condensed[_ngcontent-%COMP%]{line-height:1.25}mat-form-field[_ngcontent-%COMP%]{margin-right:12px}"]}),i})(),_6=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=u.Xpm({type:i,selectors:[["app-detalle-pelicula"]],inputs:{movie:"movie"},decls:32,vars:5,consts:[[1,"row","mt-3"],["for","firstName"],[1,"row","mt-2"],[1,"mb-4"],[1,"row","mt-2","d-flex","align-items-center"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-film",2,"width","15%"],["d","M0 1a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V1zm4 0v6h8V1H4zm8 8H4v6h8V9zM1 1v2h2V1H1zm2 3H1v2h2V4zM1 7v2h2V7H1zm2 3H1v2h2v-2zm-2 3v2h2v-2H1zM15 1h-2v2h2V1zm-2 3v2h2V4h-2zm2 3h-2v2h2V7zm-2 3v2h2v-2h-2zm2 3h-2v2h2v-2z"],["for","firstName",1,"col-md-10",2,"width","75%"]],template:function(r,s){1&r&&(u.TgZ(0,"fieldset"),u.TgZ(1,"legend"),u._uU(2,"Detalle"),u.qZA(),u.TgZ(3,"div",0),u.TgZ(4,"label",1),u._uU(5," T\xedtulo: "),u.TgZ(6,"strong"),u._uU(7),u.qZA(),u.qZA(),u.qZA(),u.TgZ(8,"div",2),u.TgZ(9,"label",1),u._uU(10,"Categor\xeda: "),u.TgZ(11,"strong"),u._uU(12),u.qZA(),u.qZA(),u.qZA(),u.TgZ(13,"div",2),u.TgZ(14,"label",1),u._uU(15,"Trama: "),u.TgZ(16,"strong"),u._uU(17),u.qZA(),u.qZA(),u.qZA(),u.TgZ(18,"div",2),u.TgZ(19,"label",1),u._uU(20,"Fecha Estreno: "),u.TgZ(21,"strong"),u._uU(22),u.qZA(),u.qZA(),u.qZA(),u._UZ(23,"hr",3),u.TgZ(24,"div",4),u.O4$(),u.TgZ(25,"svg",5),u._UZ(26,"path",6),u.qZA(),u.kcU(),u.TgZ(27,"label",7),u.TgZ(28,"strong"),u._uU(29),u.qZA(),u.qZA(),u.qZA(),u.TgZ(30,"span",1),u._uU(31,"Visualizaciones"),u.qZA(),u.qZA()),2&r&&(u.xp6(7),u.Oqu(null==s.movie||null==s.movie.movie?null:s.movie.movie.nombre),u.xp6(5),u.Oqu(null==s.movie||null==s.movie.movie?null:s.movie.movie.tipo),u.xp6(5),u.Oqu(null==s.movie||null==s.movie.movie?null:s.movie.movie.resumen),u.xp6(5),u.Oqu(null==s.movie||null==s.movie.movie?null:s.movie.movie.fecha_estreno),u.xp6(7),u.Oqu(null==s.movie||null==s.movie.movie?null:s.movie.movie.cantidad_publico))},styles:["span[_ngcontent-%COMP%]{font-size:smaller;color:gray}fieldset[_ngcontent-%COMP%]{border:1px solid grey;background-color:#bbbbbb45}fieldset[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]{margin:0;font-size:small}"]}),i})();const y6=["content"];function v6(i,n){if(1&i){const r=u.EpF();u.TgZ(0,"li",10),u.TgZ(1,"img",11),u.NdJ("click",function(){const d=u.CHM(r).$implicit;return u.oxw().selectMovie(d)}),u.qZA(),u.qZA()}if(2&i){const r=n.$implicit;u.xp6(1),u.Q6J("src",r.movie.realUrl,u.LSH)}}let b6=(()=>{class i{constructor(r){this.rd=r,this.movieSelected=new u.vpe,this.margin=0}swipe(r){"r"==r?this.margin-=150:this.margin+=150,this.margin>=0&&(this.margin=0),this.margin<=-250*(this.movies.length-3)&&(this.margin=-250*(this.movies.length-3)),console.log(this.margin),this.rd.setStyle(this.content.nativeElement,"margin-left",this.margin+"px")}selectMovie(r){var s;null===(s=this.movieSelected)||void 0===s||s.emit(r)}}return i.\u0275fac=function(r){return new(r||i)(u.Y36(u.Qsj))},i.\u0275cmp=u.Xpm({type:i,selectors:[["app-tabla-pelicula"]],viewQuery:function(r,s){if(1&r&&u.Gf(y6,5),2&r){let l;u.iGM(l=u.CRH())&&(s.content=l.first)}},inputs:{movies:"movies"},outputs:{movieSelected:"movieSelected"},decls:13,vars:1,consts:[["id","wrapper"],["role","button","aria-label","See Previous Modules",1,"left-controls",3,"mouseover"],["xmlns","http://www.w3.org/2000/svg","width","32","height","32","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-arrow-bar-left"],["fill-rule","evenodd","d","M12.5 15a.5.5 0 0 1-.5-.5v-13a.5.5 0 0 1 1 0v13a.5.5 0 0 1-.5.5zM10 8a.5.5 0 0 1-.5.5H3.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L3.707 7.5H9.5a.5.5 0 0 1 .5.5z"],[1,"module-section","clearfix"],["content",""],["class","card effect1",4,"ngFor","ngForOf"],["role","button","aria-label","See Previous Modules",1,"right-controls",3,"mouseover"],["xmlns","http://www.w3.org/2000/svg","width","32","height","32","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-arrow-bar-right"],["fill-rule","evenodd","d","M6 8a.5.5 0 0 0 .5.5h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L12.293 7.5H6.5A.5.5 0 0 0 6 8zm-2.5 7a.5.5 0 0 1-.5-.5v-13a.5.5 0 0 1 1 0v13a.5.5 0 0 1-.5.5z"],[1,"card","effect1"],["alt","cover-pelicula",3,"src","click"]],template:function(r,s){1&r&&(u.TgZ(0,"div",0),u.TgZ(1,"span",1),u.NdJ("mouseover",function(){return s.swipe("l")}),u.O4$(),u.TgZ(2,"svg",2),u._UZ(3,"path",3),u.qZA(),u.qZA(),u.kcU(),u.TgZ(4,"h3"),u._uU(5," Tendencias "),u.qZA(),u.TgZ(6,"div",4),u.TgZ(7,"ul",null,5),u.YNc(9,v6,2,1,"li",6),u.qZA(),u.qZA(),u.TgZ(10,"span",7),u.NdJ("mouseover",function(){return s.swipe("r")}),u.O4$(),u.TgZ(11,"svg",8),u._UZ(12,"path",9),u.qZA(),u.qZA(),u.qZA()),2&r&&(u.xp6(9),u.Q6J("ngForOf",s.movies))},directives:[vt],styles:["body[_ngcontent-%COMP%]{background:#aaaaaa}html[_ngcontent-%COMP%]{overflow:scroll;overflow-x:hidden}[_ngcontent-%COMP%]::-webkit-scrollbar{width:0px;background:transparent}#wrapper[_ngcontent-%COMP%]{max-width:100%;padding:1rem 2rem;position:relative}#wrapper[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{padding:0 3rem}button[_ngcontent-%COMP%]:focus{outline:0!important}.fa-chevron-left-extra[_ngcontent-%COMP%]{align-self:center;position:relative;height:auto;top:-250px;transform-origin:55% 50%;font-style:normal;font-weight:400;line-height:1;font-feature-settings:normal;font-variant:normal;text-transform:none;font-size:2.5vw;transition:transform .1s ease-out 0s;transition-property:transform;transition-duration:.1s;transition-timing-function:ease-out;transition-delay:0s;color:#00f;opacity:.1}.left-controls[_ngcontent-%COMP%], .right-controls[_ngcontent-%COMP%]{position:absolute;top:15em;width:4%;z-index:40;background:#fff;opacity:1;cursor:pointer;text-align:center;justify-content:center;display:ms flexbox;display:flex;color:#fff}.left-controls[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .right-controls[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#000}.left-controls[_ngcontent-%COMP%]{left:0}.right-controls[_ngcontent-%COMP%]{right:0}.fa-chevron-right-extra[_ngcontent-%COMP%]{align-self:center;position:relative;height:auto;top:-250px;transform-origin:55% 50%;font-style:normal;font-weight:400;line-height:1;font-feature-settings:normal;font-variant:normal;text-transform:none;font-size:2.5vw;transition:transform .1s ease-out 0s;transition-property:transform;transition-duration:.1s;transition-timing-function:ease-out;transition-delay:0s;color:#00f;opacity:.1}.title[_ngcontent-%COMP%]{color:#eee}.module-section[_ngcontent-%COMP%]{max-width:100%;overflow:hidden;overflow-x:scroll;border-left:1px solid #fff;border-right:1px solid #fff}ul[_ngcontent-%COMP%]{width:600em;list-style-type:none;padding:1rem 0}#content[_ngcontent-%COMP%]{position:relative}.arrow-guides[_ngcontent-%COMP%], .arrow-guides[_ngcontent-%COMP%]:hover{font-size:29px;font-style:normal;font-weight:normal;float:left;position:relative;top:80px;left:-10px;padding:10px 5px 5px 2px;background:#a93232;color:#801b1b}.arrow-guides-right[_ngcontent-%COMP%], .arrow-guides-right[_ngcontent-%COMP%]:hover{font-size:29px;font-style:normal;font-weight:normal;float:right;position:relative;bottom:185px;right:-40px;padding:10px 2px 5px 5px;background:#999;color:#fff}.card[_ngcontent-%COMP%]{height:350px;background:#fff;float:left;margin-right:10px;margin-bottom:50px;cursor:pointer;transform:scale(1);visibility:visible;box-shadow:0 1px 5px #676767}.card[_ngcontent-%COMP%]:hover{cursor:pointer;transform:scale(1);visibility:visible;transition:all .2s ease-in-out;transform:scale(1.1);z-index:100;position:relative;transition-timing-function:cubic-bezier(.5,0,.1,1);transition-duration:.4s}.clearfix[_ngcontent-%COMP%]{overflow:auto;zoom:1}img[_ngcontent-%COMP%]{max-width:250px}"]}),i})();function w6(i,n){if(1&i){const r=u.EpF();u.TgZ(0,"app-tabla-pelicula",9),u.NdJ("movieSelected",function(l){return u.CHM(r),u.oxw().selectMovie(l)}),u.qZA()}if(2&i){const r=u.oxw();u.Q6J("movies",r.movies)}}const E6=[{path:"home",component:(()=>{class i{constructor(r,s){this.db=r,this.fl=s,this.movies=[],this.actors=[],this.imagesLoaded=!1,this.getMovies()}ngOnInit(){}selectMovie(r){this.movie=r,this.getActorsForMovie(r.movie.actores)}getMovies(){this.db.getObserver(h0).onSnapshot(r=>{this.movies=[],r.forEach(s=>{this.movies.push({id:s.id,movie:s.data()})}),this.fl.getMoviePicUrl(this.movies),setTimeout(()=>{this.imagesLoaded=!0},1e3)})}getActorsForMovie(r){this.db.getActorsOfMovie(r).then(s=>{this.actors=s})}}return i.\u0275fac=function(r){return new(r||i)(u.Y36(Hy),u.Y36(P))},i.\u0275cmp=u.Xpm({type:i,selectors:[["app-busqueda"]],decls:14,vars:3,consts:[["role","main"],[1,"jumbotron","p-0"],[3,"movies","movieSelected",4,"ngIf"],[1,"container"],[1,"row"],[1,"col-md-8"],[3,"actors"],[1,"col-md-4"],[3,"movie"],[3,"movies","movieSelected"]],template:function(r,s){1&r&&(u._UZ(0,"app-nav"),u.TgZ(1,"main",0),u.TgZ(2,"div",1),u.YNc(3,w6,1,1,"app-tabla-pelicula",2),u.qZA(),u.TgZ(4,"div",3),u.TgZ(5,"div",4),u.TgZ(6,"div",5),u._UZ(7,"app-tabla-actor",6),u.qZA(),u.TgZ(8,"div",7),u._UZ(9,"app-detalle-pelicula",8),u.qZA(),u.qZA(),u._UZ(10,"hr"),u.qZA(),u.qZA(),u.TgZ(11,"footer",3),u.TgZ(12,"p"),u._uU(13,"\xa9 Company 2017-2021"),u.qZA(),u.qZA()),2&r&&(u.xp6(3),u.Q6J("ngIf",s.imagesLoaded),u.xp6(4),u.Q6J("actors",s.actors),u.xp6(2),u.Q6J("movie",s.movie))},directives:[aF,un,tR,_6,b6],styles:["main[_ngcontent-%COMP%]{padding-top:3.5rem}.bd-placeholder-img[_ngcontent-%COMP%]{font-size:1.125rem;text-anchor:middle;-webkit-user-select:none;user-select:none}.form-inline[_ngcontent-%COMP%]{display:flex}nav[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{justify-content:space-between}@media (min-width: 768px){.bd-placeholder-img-lg[_ngcontent-%COMP%]{font-size:3.5rem}}"]}),i})()},{path:"actor/alta",component:ZB},{path:"pelicula/alta",component:m6},{path:"actor/actorpelicula",component:vB},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",component:(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=u.Xpm({type:i,selectors:[["app-error"]],decls:11,vars:0,consts:[[1,"page"],[1,"page-wrap","d-flex","flex-row","align-items-center"],[1,"container"],[1,"row","justify-content-center"],[1,"col-md-12","text-center"],[1,"display-1","d-block"],[1,"mb-4","lead"],["routerLink","../home",1,"btn","btn-link"]],template:function(r,s){1&r&&(u.TgZ(0,"section",0),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u.TgZ(3,"div",3),u.TgZ(4,"div",4),u.TgZ(5,"span",5),u._uU(6,"Error 404"),u.qZA(),u.TgZ(7,"div",6),u._uU(8,"No se encontr\xf3 el sitio. Probablemente te fuiste de la p\xe1gina."),u.qZA(),u.TgZ(9,"a",7),u._uU(10,"Volver a la p\xe1gina principal"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA())},directives:[bp],styles:[".page[_ngcontent-%COMP%]{background:#dedede}.page-wrap[_ngcontent-%COMP%]{min-height:100vh}"]}),i})()}];let C6=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[[u0.forRoot(E6)],u0]}),i})(),D6=(()=>{class i{constructor(){this.title="SPP-LaboIV"}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=u.Xpm({type:i,selectors:[["app-root"]],decls:1,vars:0,template:function(r,s){1&r&&u._UZ(0,"router-outlet")},directives:[Yd],styles:[""]}),i})();const uF_firebaseConfig={apiKey:"AIzaSyAj1W7ewAdmJjKqZE_X7xqjN8CZhNC4tQs",authDomain:"spp-laboiv.firebaseapp.com",projectId:"spp-laboiv",storageBucket:"spp-laboiv.appspot.com",messagingSenderId:"1087147527722",appId:"1:1087147527722:web:ac03932a742207a15c7d53"};class cF{}const nd="*";function dF(i,n=null){return{type:2,steps:i,options:n}}function hF(i){return{type:6,styles:i,offset:null}}function fF(i){Promise.resolve(null).then(i)}class gv{constructor(n=0,r=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+r}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._onStartFns.push(n)}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){fF(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const r="start"==n?this._onStartFns:this._onDoneFns;r.forEach(s=>s()),r.length=0}}class pF{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let r=0,s=0,l=0;const d=this.players.length;0==d?fF(()=>this._onFinish()):this.players.forEach(g=>{g.onDone(()=>{++r==d&&this._onFinish()}),g.onDestroy(()=>{++s==d&&this._onDestroy()}),g.onStart(()=>{++l==d&&this._onStart()})}),this.totalTime=this.players.reduce((g,y)=>Math.max(g,y.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const r=n*this.totalTime;this.players.forEach(s=>{const l=s.totalTime?Math.min(1,r/s.totalTime):1;s.setPosition(l)})}getPosition(){const n=this.players.reduce((r,s)=>null===r||s.totalTime>r.totalTime?s:r,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const r="start"==n?this._onStartFns:this._onDoneFns;r.forEach(s=>s()),r.length=0}}function gF(){return"undefined"!=typeof window&&void 0!==window.document}function rR(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function ff(i){switch(i.length){case 0:return new gv;case 1:return i[0];default:return new pF(i)}}function mF(i,n,r,s,l={},d={}){const g=[],y=[];let E=-1,I=null;if(s.forEach(S=>{const x=S.offset,O=x==E,V=O&&I||{};Object.keys(S).forEach(q=>{let te=q,me=S[q];if("offset"!==q)switch(te=n.normalizePropertyName(te,g),me){case"!":me=l[q];break;case nd:me=d[q];break;default:me=n.normalizeStyleValue(q,te,me,g)}V[te]=me}),O||y.push(V),I=V,E=x}),g.length){const S="\n - ";throw new Error(`Unable to animate due to the following errors:${S}${g.join(S)}`)}return y}function iR(i,n,r,s){switch(n){case"start":i.onStart(()=>s(r&&sR(r,"start",i)));break;case"done":i.onDone(()=>s(r&&sR(r,"done",i)));break;case"destroy":i.onDestroy(()=>s(r&&sR(r,"destroy",i)))}}function sR(i,n,r){const s=r.totalTime,d=oR(i.element,i.triggerName,i.fromState,i.toState,n||i.phaseName,null==s?i.totalTime:s,!!r.disabled),g=i._data;return null!=g&&(d._data=g),d}function oR(i,n,r,s,l="",d=0,g){return{element:i,triggerName:n,fromState:r,toState:s,phaseName:l,totalTime:d,disabled:!!g}}function fo(i,n,r){let s;return i instanceof Map?(s=i.get(n),s||i.set(n,s=r)):(s=i[n],s||(s=i[n]=r)),s}function _F(i){const n=i.indexOf(":");return[i.substring(1,n),i.substr(n+1)]}let aR=(i,n)=>!1,lR=(i,n)=>!1,yF=(i,n,r)=>[];const vF=rR();(vF||"undefined"!=typeof Element)&&(aR=gF()?(i,n)=>{for(;n&&n!==document.documentElement;){if(n===i)return!0;n=n.parentNode||n.host}return!1}:(i,n)=>i.contains(n),lR=(()=>{if(vF||Element.prototype.matches)return(i,n)=>i.matches(n);{const i=Element.prototype,n=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector;return n?(r,s)=>n.apply(r,[s]):lR}})(),yF=(i,n,r)=>{let s=[];if(r){const l=i.querySelectorAll(n);for(let d=0;d<l.length;d++)s.push(l[d])}else{const l=i.querySelector(n);l&&s.push(l)}return s});let $g=null,bF=!1;function uR(i){$g||($g=("undefined"!=typeof document?document.body:null)||{},bF=!!$g.style&&"WebkitAppearance"in $g.style);let n=!0;return $g.style&&!function(i){return"ebkit"==i.substring(1,6)}(i)&&(n=i in $g.style,!n&&bF&&(n="Webkit"+i.charAt(0).toUpperCase()+i.substr(1)in $g.style)),n}const cR=lR,dR=aR,hR=yF;let EF=(()=>{class i{validateStyleProperty(r){return uR(r)}matchesElement(r,s){return cR(r,s)}containsElement(r,s){return dR(r,s)}query(r,s,l){return hR(r,s,l)}computeStyle(r,s,l){return l||""}animate(r,s,l,d,g,y=[],E){return new gv(l,d)}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac}),i})(),fR=(()=>{class i{}return i.NOOP=new EF,i})();const pR="ng-enter",aA="ng-leave",lA="ng-trigger",uA=".ng-trigger",DF="ng-animating",gR=".ng-animating";function Hg(i){if("number"==typeof i)return i;const n=i.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:mR(parseFloat(n[1]),n[2])}function mR(i,n){switch(n){case"s":return 1e3*i;default:return i}}function cA(i,n,r){return i.hasOwnProperty("duration")?i:function(i,n,r){let l,d=0,g="";if("string"==typeof i){const y=i.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===y)return n.push(`The provided timing value "${i}" is invalid.`),{duration:0,delay:0,easing:""};l=mR(parseFloat(y[1]),y[2]);const E=y[3];null!=E&&(d=mR(parseFloat(E),y[4]));const I=y[5];I&&(g=I)}else l=i;if(!r){let y=!1,E=n.length;l<0&&(n.push("Duration values below 0 are not allowed for this animation step."),y=!0),d<0&&(n.push("Delay values below 0 are not allowed for this animation step."),y=!0),y&&n.splice(E,0,`The provided timing value "${i}" is invalid.`)}return{duration:l,delay:d,easing:g}}(i,n,r)}function mv(i,n={}){return Object.keys(i).forEach(r=>{n[r]=i[r]}),n}function pf(i,n,r={}){if(n)for(let s in i)r[s]=i[s];else mv(i,r);return r}function IF(i,n,r){return r?n+":"+r+";":""}function AF(i){let n="";for(let r=0;r<i.style.length;r++){const s=i.style.item(r);n+=IF(0,s,i.style.getPropertyValue(s))}for(const r in i.style)i.style.hasOwnProperty(r)&&!r.startsWith("_")&&(n+=IF(0,k6(r),i.style[r]));i.setAttribute("style",n)}function yu(i,n,r){i.style&&(Object.keys(n).forEach(s=>{const l=yR(s);r&&!r.hasOwnProperty(s)&&(r[s]=i.style[l]),i.style[l]=n[s]}),rR()&&AF(i))}function Gg(i,n){i.style&&(Object.keys(n).forEach(r=>{const s=yR(r);i.style[s]=""}),rR()&&AF(i))}function Jw(i){return Array.isArray(i)?1==i.length?i[0]:dF(i):i}const _R=new RegExp("{{\\s*(.+?)\\s*}}","g");function SF(i){let n=[];if("string"==typeof i){let r;for(;r=_R.exec(i);)n.push(r[1]);_R.lastIndex=0}return n}function dA(i,n,r){const s=i.toString(),l=s.replace(_R,(d,g)=>{let y=n[g];return n.hasOwnProperty(g)||(r.push(`Please provide a value for the animation param ${g}`),y=""),y.toString()});return l==s?i:l}function hA(i){const n=[];let r=i.next();for(;!r.done;)n.push(r.value),r=i.next();return n}const R6=/-+([a-z0-9])/g;function yR(i){return i.replace(R6,(...n)=>n[1].toUpperCase())}function k6(i){return i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function po(i,n,r){switch(n.type){case 7:return i.visitTrigger(n,r);case 0:return i.visitState(n,r);case 1:return i.visitTransition(n,r);case 2:return i.visitSequence(n,r);case 3:return i.visitGroup(n,r);case 4:return i.visitAnimate(n,r);case 5:return i.visitKeyframes(n,r);case 6:return i.visitStyle(n,r);case 8:return i.visitReference(n,r);case 9:return i.visitAnimateChild(n,r);case 10:return i.visitAnimateRef(n,r);case 11:return i.visitQuery(n,r);case 12:return i.visitStagger(n,r);default:throw new Error(`Unable to resolve animation metadata node #${n.type}`)}}function O6(i,n){const r=[];return"string"==typeof i?i.split(/\s*,\s*/).forEach(s=>function(i,n,r){if(":"==i[0]){const E=function(i,n){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(r,s)=>parseFloat(s)>parseFloat(r);case":decrement":return(r,s)=>parseFloat(s)<parseFloat(r);default:return n.push(`The transition alias value "${i}" is not supported`),"* => *"}}(i,r);if("function"==typeof E)return void n.push(E);i=E}const s=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==s||s.length<4)return r.push(`The provided transition expression "${i}" is not supported`),n;const l=s[1],d=s[2],g=s[3];n.push(xF(l,g));"<"==d[0]&&!("*"==l&&"*"==g)&&n.push(xF(g,l))}(s,r,n)):r.push(i),r}const pA=new Set(["true","1"]),gA=new Set(["false","0"]);function xF(i,n){const r=pA.has(i)||gA.has(i),s=pA.has(n)||gA.has(n);return(l,d)=>{let g="*"==i||i==l,y="*"==n||n==d;return!g&&r&&"boolean"==typeof l&&(g=l?pA.has(i):gA.has(i)),!y&&s&&"boolean"==typeof d&&(y=d?pA.has(n):gA.has(n)),g&&y}}const L6=new RegExp("s*:selfs*,?","g");function bR(i,n,r){return new V6(i).build(n,r)}class V6{constructor(n){this._driver=n}build(n,r){const s=new j6(r);return this._resetContextStyleTimingState(s),po(this,Jw(n),s)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles={},n.collectedStyles[""]={},n.currentTime=0}visitTrigger(n,r){let s=r.queryCount=0,l=r.depCount=0;const d=[],g=[];return"@"==n.name.charAt(0)&&r.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),n.definitions.forEach(y=>{if(this._resetContextStyleTimingState(r),0==y.type){const E=y,I=E.name;I.toString().split(/\s*,\s*/).forEach(S=>{E.name=S,d.push(this.visitState(E,r))}),E.name=I}else if(1==y.type){const E=this.visitTransition(y,r);s+=E.queryCount,l+=E.depCount,g.push(E)}else r.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:n.name,states:d,transitions:g,queryCount:s,depCount:l,options:null}}visitState(n,r){const s=this.visitStyle(n.styles,r),l=n.options&&n.options.params||null;if(s.containsDynamicStyles){const d=new Set,g=l||{};if(s.styles.forEach(y=>{if(mA(y)){const E=y;Object.keys(E).forEach(I=>{SF(E[I]).forEach(S=>{g.hasOwnProperty(S)||d.add(S)})})}}),d.size){const y=hA(d.values());r.errors.push(`state("${n.name}", ...) must define default values for all the following style substitutions: ${y.join(", ")}`)}}return{type:0,name:n.name,style:s,options:l?{params:l}:null}}visitTransition(n,r){r.queryCount=0,r.depCount=0;const s=po(this,Jw(n.animation),r);return{type:1,matchers:O6(n.expr,r.errors),animation:s,queryCount:r.queryCount,depCount:r.depCount,options:qg(n.options)}}visitSequence(n,r){return{type:2,steps:n.steps.map(s=>po(this,s,r)),options:qg(n.options)}}visitGroup(n,r){const s=r.currentTime;let l=0;const d=n.steps.map(g=>{r.currentTime=s;const y=po(this,g,r);return l=Math.max(l,r.currentTime),y});return r.currentTime=l,{type:3,steps:d,options:qg(n.options)}}visitAnimate(n,r){const s=function(i,n){let r=null;if(i.hasOwnProperty("duration"))r=i;else if("number"==typeof i)return wR(cA(i,n).duration,0,"");const s=i;if(s.split(/\s+/).some(d=>"{"==d.charAt(0)&&"{"==d.charAt(1))){const d=wR(0,0,"");return d.dynamic=!0,d.strValue=s,d}return r=r||cA(s,n),wR(r.duration,r.delay,r.easing)}(n.timings,r.errors);r.currentAnimateTimings=s;let l,d=n.styles?n.styles:hF({});if(5==d.type)l=this.visitKeyframes(d,r);else{let g=n.styles,y=!1;if(!g){y=!0;const I={};s.easing&&(I.easing=s.easing),g=hF(I)}r.currentTime+=s.duration+s.delay;const E=this.visitStyle(g,r);E.isEmptyStep=y,l=E}return r.currentAnimateTimings=null,{type:4,timings:s,style:l,options:null}}visitStyle(n,r){const s=this._makeStyleAst(n,r);return this._validateStyleAst(s,r),s}_makeStyleAst(n,r){const s=[];Array.isArray(n.styles)?n.styles.forEach(g=>{"string"==typeof g?g==nd?s.push(g):r.errors.push(`The provided style string value ${g} is not allowed.`):s.push(g)}):s.push(n.styles);let l=!1,d=null;return s.forEach(g=>{if(mA(g)){const y=g,E=y.easing;if(E&&(d=E,delete y.easing),!l)for(let I in y)if(y[I].toString().indexOf("{{")>=0){l=!0;break}}}),{type:6,styles:s,easing:d,offset:n.offset,containsDynamicStyles:l,options:null}}_validateStyleAst(n,r){const s=r.currentAnimateTimings;let l=r.currentTime,d=r.currentTime;s&&d>0&&(d-=s.duration+s.delay),n.styles.forEach(g=>{"string"!=typeof g&&Object.keys(g).forEach(y=>{if(!this._driver.validateStyleProperty(y))return void r.errors.push(`The provided animation property "${y}" is not a supported CSS property for animations`);const E=r.collectedStyles[r.currentQuerySelector],I=E[y];let S=!0;I&&(d!=l&&d>=I.startTime&&l<=I.endTime&&(r.errors.push(`The CSS property "${y}" that exists between the times of "${I.startTime}ms" and "${I.endTime}ms" is also being animated in a parallel animation between the times of "${d}ms" and "${l}ms"`),S=!1),d=I.startTime),S&&(E[y]={startTime:d,endTime:l}),r.options&&function(i,n,r){const s=n.params||{},l=SF(i);l.length&&l.forEach(d=>{s.hasOwnProperty(d)||r.push(`Unable to resolve the local animation param ${d} in the given list of values`)})}(g[y],r.options,r.errors)})})}visitKeyframes(n,r){const s={type:5,styles:[],options:null};if(!r.currentAnimateTimings)return r.errors.push("keyframes() must be placed inside of a call to animate()"),s;let d=0;const g=[];let y=!1,E=!1,I=0;const S=n.steps.map(Oe=>{const Pe=this._makeStyleAst(Oe,r);let je=null!=Pe.offset?Pe.offset:function(i){if("string"==typeof i)return null;let n=null;if(Array.isArray(i))i.forEach(r=>{if(mA(r)&&r.hasOwnProperty("offset")){const s=r;n=parseFloat(s.offset),delete s.offset}});else if(mA(i)&&i.hasOwnProperty("offset")){const r=i;n=parseFloat(r.offset),delete r.offset}return n}(Pe.styles),He=0;return null!=je&&(d++,He=Pe.offset=je),E=E||He<0||He>1,y=y||He<I,I=He,g.push(He),Pe});E&&r.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),y&&r.errors.push("Please ensure that all keyframe offsets are in order");const x=n.steps.length;let O=0;d>0&&d<x?r.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==d&&(O=1/(x-1));const V=x-1,q=r.currentTime,te=r.currentAnimateTimings,me=te.duration;return S.forEach((Oe,Pe)=>{const je=O>0?Pe==V?1:O*Pe:g[Pe],He=je*me;r.currentTime=q+te.delay+He,te.duration=He,this._validateStyleAst(Oe,r),Oe.offset=je,s.styles.push(Oe)}),s}visitReference(n,r){return{type:8,animation:po(this,Jw(n.animation),r),options:qg(n.options)}}visitAnimateChild(n,r){return r.depCount++,{type:9,options:qg(n.options)}}visitAnimateRef(n,r){return{type:10,animation:this.visitReference(n.animation,r),options:qg(n.options)}}visitQuery(n,r){const s=r.currentQuerySelector,l=n.options||{};r.queryCount++,r.currentQuery=n;const[d,g]=function(i){const n=!!i.split(/\s*,\s*/).find(r=>":self"==r);return n&&(i=i.replace(L6,"")),[i=i.replace(/@\*/g,uA).replace(/@\w+/g,r=>uA+"-"+r.substr(1)).replace(/:animating/g,gR),n]}(n.selector);r.currentQuerySelector=s.length?s+" "+d:d,fo(r.collectedStyles,r.currentQuerySelector,{});const y=po(this,Jw(n.animation),r);return r.currentQuery=null,r.currentQuerySelector=s,{type:11,selector:d,limit:l.limit||0,optional:!!l.optional,includeSelf:g,animation:y,originalSelector:n.selector,options:qg(n.options)}}visitStagger(n,r){r.currentQuery||r.errors.push("stagger() can only be used inside of query()");const s="full"===n.timings?{duration:0,delay:0,easing:"full"}:cA(n.timings,r.errors,!0);return{type:12,animation:po(this,Jw(n.animation),r),timings:s,options:null}}}class j6{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function mA(i){return!Array.isArray(i)&&"object"==typeof i}function qg(i){return i?(i=mv(i)).params&&(i.params=function(i){return i?mv(i):null}(i.params)):i={},i}function wR(i,n,r){return{duration:i,delay:n,easing:r}}function ER(i,n,r,s,l,d,g=null,y=!1){return{type:1,element:i,keyframes:n,preStyleProps:r,postStyleProps:s,duration:l,delay:d,totalTime:l+d,easing:g,subTimeline:y}}class _A{constructor(){this._map=new Map}consume(n){let r=this._map.get(n);return r?this._map.delete(n):r=[],r}append(n,r){let s=this._map.get(n);s||this._map.set(n,s=[]),s.push(...r)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const Z6=new RegExp(":enter","g"),W6=new RegExp(":leave","g");function CR(i,n,r,s,l,d={},g={},y,E,I=[]){return(new Y6).buildKeyframes(i,n,r,s,l,d,g,y,E,I)}class Y6{buildKeyframes(n,r,s,l,d,g,y,E,I,S=[]){I=I||new _A;const x=new DR(n,r,I,l,d,S,[]);x.options=E,x.currentTimeline.setStyles([g],null,x.errors,E),po(this,s,x);const O=x.timelines.filter(V=>V.containsAnimation());if(O.length&&Object.keys(y).length){const V=O[O.length-1];V.allowOnlyTimelineStyles()||V.setStyles([y],null,x.errors,E)}return O.length?O.map(V=>V.buildKeyframes()):[ER(r,[],[],[],0,0,"",!1)]}visitTrigger(n,r){}visitState(n,r){}visitTransition(n,r){}visitAnimateChild(n,r){const s=r.subInstructions.consume(r.element);if(s){const l=r.createSubContext(n.options),d=r.currentTimeline.currentTime,g=this._visitSubInstructions(s,l,l.options);d!=g&&r.transformIntoNewTimeline(g)}r.previousNode=n}visitAnimateRef(n,r){const s=r.createSubContext(n.options);s.transformIntoNewTimeline(),this.visitReference(n.animation,s),r.transformIntoNewTimeline(s.currentTimeline.currentTime),r.previousNode=n}_visitSubInstructions(n,r,s){let d=r.currentTimeline.currentTime;const g=null!=s.duration?Hg(s.duration):null,y=null!=s.delay?Hg(s.delay):null;return 0!==g&&n.forEach(E=>{const I=r.appendInstructionToTimeline(E,g,y);d=Math.max(d,I.duration+I.delay)}),d}visitReference(n,r){r.updateOptions(n.options,!0),po(this,n.animation,r),r.previousNode=n}visitSequence(n,r){const s=r.subContextCount;let l=r;const d=n.options;if(d&&(d.params||d.delay)&&(l=r.createSubContext(d),l.transformIntoNewTimeline(),null!=d.delay)){6==l.previousNode.type&&(l.currentTimeline.snapshotCurrentStyles(),l.previousNode=yA);const g=Hg(d.delay);l.delayNextStep(g)}n.steps.length&&(n.steps.forEach(g=>po(this,g,l)),l.currentTimeline.applyStylesToKeyframe(),l.subContextCount>s&&l.transformIntoNewTimeline()),r.previousNode=n}visitGroup(n,r){const s=[];let l=r.currentTimeline.currentTime;const d=n.options&&n.options.delay?Hg(n.options.delay):0;n.steps.forEach(g=>{const y=r.createSubContext(n.options);d&&y.delayNextStep(d),po(this,g,y),l=Math.max(l,y.currentTimeline.currentTime),s.push(y.currentTimeline)}),s.forEach(g=>r.currentTimeline.mergeTimelineCollectedStyles(g)),r.transformIntoNewTimeline(l),r.previousNode=n}_visitTiming(n,r){if(n.dynamic){const s=n.strValue;return cA(r.params?dA(s,r.params,r.errors):s,r.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,r){const s=r.currentAnimateTimings=this._visitTiming(n.timings,r),l=r.currentTimeline;s.delay&&(r.incrementTime(s.delay),l.snapshotCurrentStyles());const d=n.style;5==d.type?this.visitKeyframes(d,r):(r.incrementTime(s.duration),this.visitStyle(d,r),l.applyStylesToKeyframe()),r.currentAnimateTimings=null,r.previousNode=n}visitStyle(n,r){const s=r.currentTimeline,l=r.currentAnimateTimings;!l&&s.getCurrentStyleProperties().length&&s.forwardFrame();const d=l&&l.easing||n.easing;n.isEmptyStep?s.applyEmptyStep(d):s.setStyles(n.styles,d,r.errors,r.options),r.previousNode=n}visitKeyframes(n,r){const s=r.currentAnimateTimings,l=r.currentTimeline.duration,d=s.duration,y=r.createSubContext().currentTimeline;y.easing=s.easing,n.styles.forEach(E=>{y.forwardTime((E.offset||0)*d),y.setStyles(E.styles,E.easing,r.errors,r.options),y.applyStylesToKeyframe()}),r.currentTimeline.mergeTimelineCollectedStyles(y),r.transformIntoNewTimeline(l+d),r.previousNode=n}visitQuery(n,r){const s=r.currentTimeline.currentTime,l=n.options||{},d=l.delay?Hg(l.delay):0;d&&(6===r.previousNode.type||0==s&&r.currentTimeline.getCurrentStyleProperties().length)&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=yA);let g=s;const y=r.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!l.optional,r.errors);r.currentQueryTotal=y.length;let E=null;y.forEach((I,S)=>{r.currentQueryIndex=S;const x=r.createSubContext(n.options,I);d&&x.delayNextStep(d),I===r.element&&(E=x.currentTimeline),po(this,n.animation,x),x.currentTimeline.applyStylesToKeyframe(),g=Math.max(g,x.currentTimeline.currentTime)}),r.currentQueryIndex=0,r.currentQueryTotal=0,r.transformIntoNewTimeline(g),E&&(r.currentTimeline.mergeTimelineCollectedStyles(E),r.currentTimeline.snapshotCurrentStyles()),r.previousNode=n}visitStagger(n,r){const s=r.parentContext,l=r.currentTimeline,d=n.timings,g=Math.abs(d.duration),y=g*(r.currentQueryTotal-1);let E=g*r.currentQueryIndex;switch(d.duration<0?"reverse":d.easing){case"reverse":E=y-E;break;case"full":E=s.currentStaggerTime}const S=r.currentTimeline;E&&S.delayNextStep(E);const x=S.currentTime;po(this,n.animation,r),r.previousNode=n,s.currentStaggerTime=l.currentTime-x+(l.startTime-s.currentTimeline.startTime)}}const yA={};class DR{constructor(n,r,s,l,d,g,y,E){this._driver=n,this.element=r,this.subInstructions=s,this._enterClassName=l,this._leaveClassName=d,this.errors=g,this.timelines=y,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=yA,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=E||new vA(this._driver,r,0),y.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,r){if(!n)return;const s=n;let l=this.options;null!=s.duration&&(l.duration=Hg(s.duration)),null!=s.delay&&(l.delay=Hg(s.delay));const d=s.params;if(d){let g=l.params;g||(g=this.options.params={}),Object.keys(d).forEach(y=>{(!r||!g.hasOwnProperty(y))&&(g[y]=dA(d[y],g,this.errors))})}}_copyOptions(){const n={};if(this.options){const r=this.options.params;if(r){const s=n.params={};Object.keys(r).forEach(l=>{s[l]=r[l]})}}return n}createSubContext(n=null,r,s){const l=r||this.element,d=new DR(this._driver,l,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(l,s||0));return d.previousNode=this.previousNode,d.currentAnimateTimings=this.currentAnimateTimings,d.options=this._copyOptions(),d.updateOptions(n),d.currentQueryIndex=this.currentQueryIndex,d.currentQueryTotal=this.currentQueryTotal,d.parentContext=this,this.subContextCount++,d}transformIntoNewTimeline(n){return this.previousNode=yA,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,r,s){const l={duration:null!=r?r:n.duration,delay:this.currentTimeline.currentTime+(null!=s?s:0)+n.delay,easing:""},d=new K6(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,l,n.stretchStartingKeyframe);return this.timelines.push(d),l}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,r,s,l,d,g){let y=[];if(l&&y.push(this.element),n.length>0){n=(n=n.replace(Z6,"."+this._enterClassName)).replace(W6,"."+this._leaveClassName);let I=this._driver.query(this.element,n,1!=s);0!==s&&(I=s<0?I.slice(I.length+s,I.length):I.slice(0,s)),y.push(...I)}return!d&&0==y.length&&g.push(`\`query("${r}")\` returned zero elements. (Use \`query("${r}", { optional: true })\` if you wish to allow this.)`),y}}class vA{constructor(n,r,s,l){this._driver=n,this.element=r,this.startTime=s,this._elementTimelineStylesLookup=l,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(r),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(r,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const r=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||r?(this.forwardTime(this.currentTime+n),r&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,r){return this.applyStylesToKeyframe(),new vA(this._driver,n,r||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,r){this._localTimelineStyles[n]=r,this._globalTimelineStyles[n]=r,this._styleSummary[n]={time:this.currentTime,value:r}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&(this._previousKeyframe.easing=n),Object.keys(this._globalTimelineStyles).forEach(r=>{this._backFill[r]=this._globalTimelineStyles[r]||nd,this._currentKeyframe[r]=nd}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,r,s,l){r&&(this._previousKeyframe.easing=r);const d=l&&l.params||{},g=function(i,n){const r={};let s;return i.forEach(l=>{"*"===l?(s=s||Object.keys(n),s.forEach(d=>{r[d]=nd})):pf(l,!1,r)}),r}(n,this._globalTimelineStyles);Object.keys(g).forEach(y=>{const E=dA(g[y],d,s);this._pendingStyles[y]=E,this._localTimelineStyles.hasOwnProperty(y)||(this._backFill[y]=this._globalTimelineStyles.hasOwnProperty(y)?this._globalTimelineStyles[y]:nd),this._updateStyle(y,E)})}applyStylesToKeyframe(){const n=this._pendingStyles,r=Object.keys(n);0!=r.length&&(this._pendingStyles={},r.forEach(s=>{this._currentKeyframe[s]=n[s]}),Object.keys(this._localTimelineStyles).forEach(s=>{this._currentKeyframe.hasOwnProperty(s)||(this._currentKeyframe[s]=this._localTimelineStyles[s])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(n=>{const r=this._localTimelineStyles[n];this._pendingStyles[n]=r,this._updateStyle(n,r)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let r in this._currentKeyframe)n.push(r);return n}mergeTimelineCollectedStyles(n){Object.keys(n._styleSummary).forEach(r=>{const s=this._styleSummary[r],l=n._styleSummary[r];(!s||l.time>s.time)&&this._updateStyle(r,l.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,r=new Set,s=1===this._keyframes.size&&0===this.duration;let l=[];this._keyframes.forEach((y,E)=>{const I=pf(y,!0);Object.keys(I).forEach(S=>{const x=I[S];"!"==x?n.add(S):x==nd&&r.add(S)}),s||(I.offset=E/this.duration),l.push(I)});const d=n.size?hA(n.values()):[],g=r.size?hA(r.values()):[];if(s){const y=l[0],E=mv(y);y.offset=0,E.offset=1,l=[y,E]}return ER(this.element,l,d,g,this.duration,this.startTime,this.easing,!1)}}class K6 extends vA{constructor(n,r,s,l,d,g,y=!1){super(n,r,g.delay),this.keyframes=s,this.preStyleProps=l,this.postStyleProps=d,this._stretchStartingKeyframe=y,this.timings={duration:g.duration,delay:g.delay,easing:g.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:r,duration:s,easing:l}=this.timings;if(this._stretchStartingKeyframe&&r){const d=[],g=s+r,y=r/g,E=pf(n[0],!1);E.offset=0,d.push(E);const I=pf(n[0],!1);I.offset=OF(y),d.push(I);const S=n.length-1;for(let x=1;x<=S;x++){let O=pf(n[x],!1);O.offset=OF((r+O.offset*s)/g),d.push(O)}s=g,r=0,l="",n=d}return ER(this.element,n,this.preStyleProps,this.postStyleProps,s,r,l,!0)}}function OF(i,n=3){const r=Math.pow(10,n-1);return Math.round(i*r)/r}class TR{}class J6 extends TR{normalizePropertyName(n,r){return yR(n)}normalizeStyleValue(n,r,s,l){let d="";const g=s.toString().trim();if(X6[r]&&0!==s&&"0"!==s)if("number"==typeof s)d="px";else{const y=s.match(/^[+-]?[\d\.]+([a-z]*)$/);y&&0==y[1].length&&l.push(`Please provide a CSS unit value for ${n}:${s}`)}return g+d}}const X6=(()=>function(i){const n={};return i.forEach(r=>n[r]=!0),n}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function PF(i,n,r,s,l,d,g,y,E,I,S,x,O){return{type:0,element:i,triggerName:n,isRemovalTransition:l,fromState:r,fromStyles:d,toState:s,toStyles:g,timelines:y,queriedElements:E,preStyleProps:I,postStyleProps:S,totalTime:x,errors:O}}const IR={};class FF{constructor(n,r,s){this._triggerName=n,this.ast=r,this._stateStyles=s}match(n,r,s,l){return function(i,n,r,s,l){return i.some(d=>d(n,r,s,l))}(this.ast.matchers,n,r,s,l)}buildStyles(n,r,s){const l=this._stateStyles["*"],d=this._stateStyles[n],g=l?l.buildStyles(r,s):{};return d?d.buildStyles(r,s):g}build(n,r,s,l,d,g,y,E,I,S){const x=[],O=this.ast.options&&this.ast.options.params||IR,q=this.buildStyles(s,y&&y.params||IR,x),te=E&&E.params||IR,me=this.buildStyles(l,te,x),Oe=new Set,Pe=new Map,je=new Map,He="void"===l,Ht={params:Object.assign(Object.assign({},O),te)},Mn=S?[]:CR(n,r,this.ast.animation,d,g,q,me,Ht,I,x);let ir=0;if(Mn.forEach(go=>{ir=Math.max(go.duration+go.delay,ir)}),x.length)return PF(r,this._triggerName,s,l,He,q,me,[],[],Pe,je,ir,x);Mn.forEach(go=>{const rd=go.element,hL=fo(Pe,rd,{});go.preStyleProps.forEach(Zg=>hL[Zg]=!0);const eE=fo(je,rd,{});go.postStyleProps.forEach(Zg=>eE[Zg]=!0),rd!==r&&Oe.add(rd)});const jn=hA(Oe.values());return PF(r,this._triggerName,s,l,He,q,me,Mn,jn,Pe,je,ir)}}class nj{constructor(n,r,s){this.styles=n,this.defaultParams=r,this.normalizer=s}buildStyles(n,r){const s={},l=mv(this.defaultParams);return Object.keys(n).forEach(d=>{const g=n[d];null!=g&&(l[d]=g)}),this.styles.styles.forEach(d=>{if("string"!=typeof d){const g=d;Object.keys(g).forEach(y=>{let E=g[y];E.length>1&&(E=dA(E,l,r));const I=this.normalizer.normalizePropertyName(y,r);E=this.normalizer.normalizeStyleValue(y,I,E,r),s[I]=E})}}),s}}class ij{constructor(n,r,s){this.name=n,this.ast=r,this._normalizer=s,this.transitionFactories=[],this.states={},r.states.forEach(l=>{this.states[l.name]=new nj(l.style,l.options&&l.options.params||{},s)}),LF(this.states,"true","1"),LF(this.states,"false","0"),r.transitions.forEach(l=>{this.transitionFactories.push(new FF(n,l,this.states))}),this.fallbackTransition=function(i,n,r){return new FF(i,{type:1,animation:{type:2,steps:[],options:null},matchers:[(g,y)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,r,s,l){return this.transitionFactories.find(g=>g.match(n,r,s,l))||null}matchStyles(n,r,s){return this.fallbackTransition.buildStyles(n,r,s)}}function LF(i,n,r){i.hasOwnProperty(n)?i.hasOwnProperty(r)||(i[r]=i[n]):i.hasOwnProperty(r)&&(i[n]=i[r])}const oj=new _A;class aj{constructor(n,r,s){this.bodyNode=n,this._driver=r,this._normalizer=s,this._animations={},this._playersById={},this.players=[]}register(n,r){const s=[],l=bR(this._driver,r,s);if(s.length)throw new Error(`Unable to build the animation due to the following errors: ${s.join("\n")}`);this._animations[n]=l}_buildPlayer(n,r,s){const l=n.element,d=mF(0,this._normalizer,0,n.keyframes,r,s);return this._driver.animate(l,d,n.duration,n.delay,n.easing,[],!0)}create(n,r,s={}){const l=[],d=this._animations[n];let g;const y=new Map;if(d?(g=CR(this._driver,r,d,pR,aA,{},{},s,oj,l),g.forEach(S=>{const x=fo(y,S.element,{});S.postStyleProps.forEach(O=>x[O]=null)})):(l.push("The requested animation doesn't exist or has already been destroyed"),g=[]),l.length)throw new Error(`Unable to create the animation due to the following errors: ${l.join("\n")}`);y.forEach((S,x)=>{Object.keys(S).forEach(O=>{S[O]=this._driver.computeStyle(x,O,nd)})});const I=ff(g.map(S=>{const x=y.get(S.element);return this._buildPlayer(S,{},x)}));return this._playersById[n]=I,I.onDestroy(()=>this.destroy(n)),this.players.push(I),I}destroy(n){const r=this._getPlayer(n);r.destroy(),delete this._playersById[n];const s=this.players.indexOf(r);s>=0&&this.players.splice(s,1)}_getPlayer(n){const r=this._playersById[n];if(!r)throw new Error(`Unable to find the timeline player referenced by ${n}`);return r}listen(n,r,s,l){const d=oR(r,"","","");return iR(this._getPlayer(n),s,d,l),()=>{}}command(n,r,s,l){if("register"==s)return void this.register(n,l[0]);if("create"==s)return void this.create(n,r,l[0]||{});const d=this._getPlayer(n);switch(s){case"play":d.play();break;case"pause":d.pause();break;case"reset":d.reset();break;case"restart":d.restart();break;case"finish":d.finish();break;case"init":d.init();break;case"setPosition":d.setPosition(parseFloat(l[0]));break;case"destroy":this.destroy(n)}}}const VF="ng-animate-queued",UF="ng-animate-disabled",BF=".ng-animate-disabled",dj=[],jF={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},hj={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ea="__ng_removed";class AR{constructor(n,r=""){this.namespaceId=r;const s=n&&n.hasOwnProperty("value");if(this.value=function(i){return null!=i?i:null}(s?n.value:n),s){const d=mv(n);delete d.value,this.options=d}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(n){const r=n.params;if(r){const s=this.options.params;Object.keys(r).forEach(l=>{null==s[l]&&(s[l]=r[l])})}}}const Xw="void",SR=new AR(Xw);class fj{constructor(n,r,s){this.id=n,this.hostElement=r,this._engine=s,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,ta(r,this._hostClassName)}listen(n,r,s,l){if(!this._triggers.hasOwnProperty(r))throw new Error(`Unable to listen on the animation trigger event "${s}" because the animation trigger "${r}" doesn't exist!`);if(null==s||0==s.length)throw new Error(`Unable to listen on the animation trigger "${r}" because the provided event is undefined!`);if(!function(i){return"start"==i||"done"==i}(s))throw new Error(`The provided animation trigger event "${s}" for the animation trigger "${r}" is not supported!`);const d=fo(this._elementListeners,n,[]),g={name:r,phase:s,callback:l};d.push(g);const y=fo(this._engine.statesByElement,n,{});return y.hasOwnProperty(r)||(ta(n,lA),ta(n,lA+"-"+r),y[r]=SR),()=>{this._engine.afterFlush(()=>{const E=d.indexOf(g);E>=0&&d.splice(E,1),this._triggers[r]||delete y[r]})}}register(n,r){return!this._triggers[n]&&(this._triggers[n]=r,!0)}_getTrigger(n){const r=this._triggers[n];if(!r)throw new Error(`The provided animation trigger "${n}" has not been registered!`);return r}trigger(n,r,s,l=!0){const d=this._getTrigger(r),g=new NR(this.id,r,n);let y=this._engine.statesByElement.get(n);y||(ta(n,lA),ta(n,lA+"-"+r),this._engine.statesByElement.set(n,y={}));let E=y[r];const I=new AR(s,this.id);if(!(s&&s.hasOwnProperty("value"))&&E&&I.absorbOptions(E.options),y[r]=I,E||(E=SR),I.value!==Xw&&E.value===I.value){if(!function(i,n){const r=Object.keys(i),s=Object.keys(n);if(r.length!=s.length)return!1;for(let l=0;l<r.length;l++){const d=r[l];if(!n.hasOwnProperty(d)||i[d]!==n[d])return!1}return!0}(E.params,I.params)){const te=[],me=d.matchStyles(E.value,E.params,te),Oe=d.matchStyles(I.value,I.params,te);te.length?this._engine.reportError(te):this._engine.afterFlush(()=>{Gg(n,me),yu(n,Oe)})}return}const O=fo(this._engine.playersByElement,n,[]);O.forEach(te=>{te.namespaceId==this.id&&te.triggerName==r&&te.queued&&te.destroy()});let V=d.matchTransition(E.value,I.value,n,I.params),q=!1;if(!V){if(!l)return;V=d.fallbackTransition,q=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:r,transition:V,fromState:E,toState:I,player:g,isFallbackTransition:q}),q||(ta(n,VF),g.onStart(()=>{_v(n,VF)})),g.onDone(()=>{let te=this.players.indexOf(g);te>=0&&this.players.splice(te,1);const me=this._engine.playersByElement.get(n);if(me){let Oe=me.indexOf(g);Oe>=0&&me.splice(Oe,1)}}),this.players.push(g),O.push(g),g}deregister(n){delete this._triggers[n],this._engine.statesByElement.forEach((r,s)=>{delete r[n]}),this._elementListeners.forEach((r,s)=>{this._elementListeners.set(s,r.filter(l=>l.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const r=this._engine.playersByElement.get(n);r&&(r.forEach(s=>s.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,r){const s=this._engine.driver.query(n,uA,!0);s.forEach(l=>{if(l[ea])return;const d=this._engine.fetchNamespacesByElement(l);d.size?d.forEach(g=>g.triggerLeaveAnimation(l,r,!1,!0)):this.clearElementCache(l)}),this._engine.afterFlushAnimationsDone(()=>s.forEach(l=>this.clearElementCache(l)))}triggerLeaveAnimation(n,r,s,l){const d=this._engine.statesByElement.get(n);if(d){const g=[];if(Object.keys(d).forEach(y=>{if(this._triggers[y]){const E=this.trigger(n,y,Xw,l);E&&g.push(E)}}),g.length)return this._engine.markElementAsRemoved(this.id,n,!0,r),s&&ff(g).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const r=this._elementListeners.get(n),s=this._engine.statesByElement.get(n);if(r&&s){const l=new Set;r.forEach(d=>{const g=d.name;if(l.has(g))return;l.add(g);const E=this._triggers[g].fallbackTransition,I=s[g]||SR,S=new AR(Xw),x=new NR(this.id,g,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:g,transition:E,fromState:I,toState:S,player:x,isFallbackTransition:!0})})}}removeNode(n,r){const s=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,r),this.triggerLeaveAnimation(n,r,!0))return;let l=!1;if(s.totalAnimations){const d=s.players.length?s.playersByQueriedElement.get(n):[];if(d&&d.length)l=!0;else{let g=n;for(;g=g.parentNode;)if(s.statesByElement.get(g)){l=!0;break}}}if(this.prepareLeaveAnimationListeners(n),l)s.markElementAsRemoved(this.id,n,!1,r);else{const d=n[ea];(!d||d===jF)&&(s.afterFlush(()=>this.clearElementCache(n)),s.destroyInnerAnimations(n),s._onRemovalComplete(n,r))}}insertNode(n,r){ta(n,this._hostClassName)}drainQueuedTransitions(n){const r=[];return this._queue.forEach(s=>{const l=s.player;if(l.destroyed)return;const d=s.element,g=this._elementListeners.get(d);g&&g.forEach(y=>{if(y.name==s.triggerName){const E=oR(d,s.triggerName,s.fromState.value,s.toState.value);E._data=n,iR(s.player,y.phase,E,y.callback)}}),l.markedForDestroy?this._engine.afterFlush(()=>{l.destroy()}):r.push(s)}),this._queue=[],r.sort((s,l)=>{const d=s.transition.ast.depCount,g=l.transition.ast.depCount;return 0==d||0==g?d-g:this._engine.driver.containsElement(s.element,l.element)?1:-1})}destroy(n){this.players.forEach(r=>r.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}elementContainsData(n){let r=!1;return this._elementListeners.has(n)&&(r=!0),r=!!this._queue.find(s=>s.element===n)||r,r}}class pj{constructor(n,r,s){this.bodyNode=n,this.driver=r,this._normalizer=s,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(l,d)=>{}}_onRemovalComplete(n,r){this.onRemovalComplete(n,r)}get queuedPlayers(){const n=[];return this._namespaceList.forEach(r=>{r.players.forEach(s=>{s.queued&&n.push(s)})}),n}createNamespace(n,r){const s=new fj(n,r,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,r)?this._balanceNamespaceList(s,r):(this.newHostElements.set(r,s),this.collectEnterElement(r)),this._namespaceLookup[n]=s}_balanceNamespaceList(n,r){const s=this._namespaceList.length-1;if(s>=0){let l=!1;for(let d=s;d>=0;d--)if(this.driver.containsElement(this._namespaceList[d].hostElement,r)){this._namespaceList.splice(d+1,0,n),l=!0;break}l||this._namespaceList.splice(0,0,n)}else this._namespaceList.push(n);return this.namespacesByHostElement.set(r,n),n}register(n,r){let s=this._namespaceLookup[n];return s||(s=this.createNamespace(n,r)),s}registerTrigger(n,r,s){let l=this._namespaceLookup[n];l&&l.register(r,s)&&this.totalAnimations++}destroy(n,r){if(!n)return;const s=this._fetchNamespace(n);this.afterFlush(()=>{this.namespacesByHostElement.delete(s.hostElement),delete this._namespaceLookup[n];const l=this._namespaceList.indexOf(s);l>=0&&this._namespaceList.splice(l,1)}),this.afterFlushAnimationsDone(()=>s.destroy(r))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const r=new Set,s=this.statesByElement.get(n);if(s){const l=Object.keys(s);for(let d=0;d<l.length;d++){const g=s[l[d]].namespaceId;if(g){const y=this._fetchNamespace(g);y&&r.add(y)}}}return r}trigger(n,r,s,l){if(bA(r)){const d=this._fetchNamespace(n);if(d)return d.trigger(r,s,l),!0}return!1}insertNode(n,r,s,l){if(!bA(r))return;const d=r[ea];if(d&&d.setForRemoval){d.setForRemoval=!1,d.setForMove=!0;const g=this.collectedLeaveElements.indexOf(r);g>=0&&this.collectedLeaveElements.splice(g,1)}if(n){const g=this._fetchNamespace(n);g&&g.insertNode(r,s)}l&&this.collectEnterElement(r)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,r){r?this.disabledNodes.has(n)||(this.disabledNodes.add(n),ta(n,UF)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),_v(n,UF))}removeNode(n,r,s,l){if(bA(r)){const d=n?this._fetchNamespace(n):null;if(d?d.removeNode(r,l):this.markElementAsRemoved(n,r,!1,l),s){const g=this.namespacesByHostElement.get(r);g&&g.id!==n&&g.removeNode(r,l)}}else this._onRemovalComplete(r,l)}markElementAsRemoved(n,r,s,l){this.collectedLeaveElements.push(r),r[ea]={namespaceId:n,setForRemoval:l,hasAnimation:s,removedBeforeQueried:!1}}listen(n,r,s,l,d){return bA(r)?this._fetchNamespace(n).listen(r,s,l,d):()=>{}}_buildInstruction(n,r,s,l,d){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,s,l,n.fromState.options,n.toState.options,r,d)}destroyInnerAnimations(n){let r=this.driver.query(n,uA,!0);r.forEach(s=>this.destroyActiveAnimationsForElement(s)),0!=this.playersByQueriedElement.size&&(r=this.driver.query(n,gR,!0),r.forEach(s=>this.finishActiveQueriedAnimationOnElement(s)))}destroyActiveAnimationsForElement(n){const r=this.playersByElement.get(n);r&&r.forEach(s=>{s.queued?s.markedForDestroy=!0:s.destroy()})}finishActiveQueriedAnimationOnElement(n){const r=this.playersByQueriedElement.get(n);r&&r.forEach(s=>s.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return ff(this.players).onDone(()=>n());n()})}processLeaveNode(n){const r=n[ea];if(r&&r.setForRemoval){if(n[ea]=jF,r.namespaceId){this.destroyInnerAnimations(n);const s=this._fetchNamespace(r.namespaceId);s&&s.clearElementCache(n)}this._onRemovalComplete(n,r.setForRemoval)}this.driver.matchesElement(n,BF)&&this.markElementAsDisabled(n,!1),this.driver.query(n,BF,!0).forEach(s=>{this.markElementAsDisabled(s,!1)})}flush(n=-1){let r=[];if(this.newHostElements.size&&(this.newHostElements.forEach((s,l)=>this._balanceNamespaceList(s,l)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let s=0;s<this.collectedEnterElements.length;s++)ta(this.collectedEnterElements[s],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const s=[];try{r=this._flushAnimations(s,n)}finally{for(let l=0;l<s.length;l++)s[l]()}}else for(let s=0;s<this.collectedLeaveElements.length;s++)this.processLeaveNode(this.collectedLeaveElements[s]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(s=>s()),this._flushFns=[],this._whenQuietFns.length){const s=this._whenQuietFns;this._whenQuietFns=[],r.length?ff(r).onDone(()=>{s.forEach(l=>l())}):s.forEach(l=>l())}}reportError(n){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${n.join("\n")}`)}_flushAnimations(n,r){const s=new _A,l=[],d=new Map,g=[],y=new Map,E=new Map,I=new Map,S=new Set;this.disabledNodes.forEach(Ke=>{S.add(Ke);const lt=this.driver.query(Ke,".ng-animate-queued",!0);for(let Dt=0;Dt<lt.length;Dt++)S.add(lt[Dt])});const x=this.bodyNode,O=Array.from(this.statesByElement.keys()),V=GF(O,this.collectedEnterElements),q=new Map;let te=0;V.forEach((Ke,lt)=>{const Dt=pR+te++;q.set(lt,Dt),Ke.forEach(zt=>ta(zt,Dt))});const me=[],Oe=new Set,Pe=new Set;for(let Ke=0;Ke<this.collectedLeaveElements.length;Ke++){const lt=this.collectedLeaveElements[Ke],Dt=lt[ea];Dt&&Dt.setForRemoval&&(me.push(lt),Oe.add(lt),Dt.hasAnimation?this.driver.query(lt,".ng-star-inserted",!0).forEach(zt=>Oe.add(zt)):Pe.add(lt))}const je=new Map,He=GF(O,Array.from(Oe));He.forEach((Ke,lt)=>{const Dt=aA+te++;je.set(lt,Dt),Ke.forEach(zt=>ta(zt,Dt))}),n.push(()=>{V.forEach((Ke,lt)=>{const Dt=q.get(lt);Ke.forEach(zt=>_v(zt,Dt))}),He.forEach((Ke,lt)=>{const Dt=je.get(lt);Ke.forEach(zt=>_v(zt,Dt))}),me.forEach(Ke=>{this.processLeaveNode(Ke)})});const Ht=[],Mn=[];for(let Ke=this._namespaceList.length-1;Ke>=0;Ke--)this._namespaceList[Ke].drainQueuedTransitions(r).forEach(Dt=>{const zt=Dt.player,ci=Dt.element;if(Ht.push(zt),this.collectedEnterElements.length){const bu=ci[ea];if(bu&&bu.setForMove)return void zt.destroy()}const vu=!x||!this.driver.containsElement(x,ci),mo=je.get(ci),gf=q.get(ci),sr=this._buildInstruction(Dt,s,gf,mo,vu);if(sr.errors&&sr.errors.length)Mn.push(sr);else{if(vu)return zt.onStart(()=>Gg(ci,sr.fromStyles)),zt.onDestroy(()=>yu(ci,sr.toStyles)),void l.push(zt);if(Dt.isFallbackTransition)return zt.onStart(()=>Gg(ci,sr.fromStyles)),zt.onDestroy(()=>yu(ci,sr.toStyles)),void l.push(zt);sr.timelines.forEach(bu=>bu.stretchStartingKeyframe=!0),s.append(ci,sr.timelines),g.push({instruction:sr,player:zt,element:ci}),sr.queriedElements.forEach(bu=>fo(y,bu,[]).push(zt)),sr.preStyleProps.forEach((bu,tE)=>{const TA=Object.keys(bu);if(TA.length){let zg=E.get(tE);zg||E.set(tE,zg=new Set),TA.forEach(kR=>zg.add(kR))}}),sr.postStyleProps.forEach((bu,tE)=>{const TA=Object.keys(bu);let zg=I.get(tE);zg||I.set(tE,zg=new Set),TA.forEach(kR=>zg.add(kR))})}});if(Mn.length){const Ke=[];Mn.forEach(lt=>{Ke.push(`@${lt.triggerName} has failed due to:\n`),lt.errors.forEach(Dt=>Ke.push(`- ${Dt}\n`))}),Ht.forEach(lt=>lt.destroy()),this.reportError(Ke)}const ir=new Map,jn=new Map;g.forEach(Ke=>{const lt=Ke.element;s.has(lt)&&(jn.set(lt,lt),this._beforeAnimationBuild(Ke.player.namespaceId,Ke.instruction,ir))}),l.forEach(Ke=>{const lt=Ke.element;this._getPreviousPlayers(lt,!1,Ke.namespaceId,Ke.triggerName,null).forEach(zt=>{fo(ir,lt,[]).push(zt),zt.destroy()})});const go=me.filter(Ke=>ZF(Ke,E,I)),rd=new Map;HF(rd,this.driver,Pe,I,nd).forEach(Ke=>{ZF(Ke,E,I)&&go.push(Ke)});const eE=new Map;V.forEach((Ke,lt)=>{HF(eE,this.driver,new Set(Ke),E,"!")}),go.forEach(Ke=>{const lt=rd.get(Ke),Dt=eE.get(Ke);rd.set(Ke,Object.assign(Object.assign({},lt),Dt))});const Zg=[],fL=[],pL={};g.forEach(Ke=>{const{element:lt,player:Dt,instruction:zt}=Ke;if(s.has(lt)){if(S.has(lt))return Dt.onDestroy(()=>yu(lt,zt.toStyles)),Dt.disabled=!0,Dt.overrideTotalTime(zt.totalTime),void l.push(Dt);let ci=pL;if(jn.size>1){let mo=lt;const gf=[];for(;mo=mo.parentNode;){const sr=jn.get(mo);if(sr){ci=sr;break}gf.push(mo)}gf.forEach(sr=>jn.set(sr,ci))}const vu=this._buildAnimation(Dt.namespaceId,zt,ir,d,eE,rd);if(Dt.setRealPlayer(vu),ci===pL)Zg.push(Dt);else{const mo=this.playersByElement.get(ci);mo&&mo.length&&(Dt.parentPlayer=ff(mo)),l.push(Dt)}}else Gg(lt,zt.fromStyles),Dt.onDestroy(()=>yu(lt,zt.toStyles)),fL.push(Dt),S.has(lt)&&l.push(Dt)}),fL.forEach(Ke=>{const lt=d.get(Ke.element);if(lt&&lt.length){const Dt=ff(lt);Ke.setRealPlayer(Dt)}}),l.forEach(Ke=>{Ke.parentPlayer?Ke.syncPlayerEvents(Ke.parentPlayer):Ke.destroy()});for(let Ke=0;Ke<me.length;Ke++){const lt=me[Ke],Dt=lt[ea];if(_v(lt,aA),Dt&&Dt.hasAnimation)continue;let zt=[];if(y.size){let vu=y.get(lt);vu&&vu.length&&zt.push(...vu);let mo=this.driver.query(lt,gR,!0);for(let gf=0;gf<mo.length;gf++){let sr=y.get(mo[gf]);sr&&sr.length&&zt.push(...sr)}}const ci=zt.filter(vu=>!vu.destroyed);ci.length?yj(this,lt,ci):this.processLeaveNode(lt)}return me.length=0,Zg.forEach(Ke=>{this.players.push(Ke),Ke.onDone(()=>{Ke.destroy();const lt=this.players.indexOf(Ke);this.players.splice(lt,1)}),Ke.play()}),Zg}elementContainsData(n,r){let s=!1;const l=r[ea];return l&&l.setForRemoval&&(s=!0),this.playersByElement.has(r)&&(s=!0),this.playersByQueriedElement.has(r)&&(s=!0),this.statesByElement.has(r)&&(s=!0),this._fetchNamespace(n).elementContainsData(r)||s}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,r,s,l,d){let g=[];if(r){const y=this.playersByQueriedElement.get(n);y&&(g=y)}else{const y=this.playersByElement.get(n);if(y){const E=!d||d==Xw;y.forEach(I=>{I.queued||!E&&I.triggerName!=l||g.push(I)})}}return(s||l)&&(g=g.filter(y=>!(s&&s!=y.namespaceId||l&&l!=y.triggerName))),g}_beforeAnimationBuild(n,r,s){const d=r.element,g=r.isRemovalTransition?void 0:n,y=r.isRemovalTransition?void 0:r.triggerName;for(const E of r.timelines){const I=E.element,S=I!==d,x=fo(s,I,[]);this._getPreviousPlayers(I,S,g,y,r.toState).forEach(V=>{const q=V.getRealPlayer();q.beforeDestroy&&q.beforeDestroy(),V.destroy(),x.push(V)})}Gg(d,r.fromStyles)}_buildAnimation(n,r,s,l,d,g){const y=r.triggerName,E=r.element,I=[],S=new Set,x=new Set,O=r.timelines.map(q=>{const te=q.element;S.add(te);const me=te[ea];if(me&&me.removedBeforeQueried)return new gv(q.duration,q.delay);const Oe=te!==E,Pe=function(i){const n=[];return qF(i,n),n}((s.get(te)||dj).map(ir=>ir.getRealPlayer())).filter(ir=>!!ir.element&&ir.element===te),je=d.get(te),He=g.get(te),Ht=mF(0,this._normalizer,0,q.keyframes,je,He),Mn=this._buildPlayer(q,Ht,Pe);if(q.subTimeline&&l&&x.add(te),Oe){const ir=new NR(n,y,te);ir.setRealPlayer(Mn),I.push(ir)}return Mn});I.forEach(q=>{fo(this.playersByQueriedElement,q.element,[]).push(q),q.onDone(()=>function(i,n,r){let s;if(i instanceof Map){if(s=i.get(n),s){if(s.length){const l=s.indexOf(r);s.splice(l,1)}0==s.length&&i.delete(n)}}else if(s=i[n],s){if(s.length){const l=s.indexOf(r);s.splice(l,1)}0==s.length&&delete i[n]}return s}(this.playersByQueriedElement,q.element,q))}),S.forEach(q=>ta(q,DF));const V=ff(O);return V.onDestroy(()=>{S.forEach(q=>_v(q,DF)),yu(E,r.toStyles)}),x.forEach(q=>{fo(l,q,[]).push(V)}),V}_buildPlayer(n,r,s){return r.length>0?this.driver.animate(n.element,r,n.duration,n.delay,n.easing,s):new gv(n.duration,n.delay)}}class NR{constructor(n,r,s){this.namespaceId=n,this.triggerName=r,this.element=s,this._player=new gv,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,Object.keys(this._queuedCallbacks).forEach(r=>{this._queuedCallbacks[r].forEach(s=>iR(n,r,void 0,s))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const r=this._player;r.triggerCallback&&n.onStart(()=>r.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,r){fo(this._queuedCallbacks,n,[]).push(r)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const r=this._player;r.triggerCallback&&r.triggerCallback(n)}}function bA(i){return i&&1===i.nodeType}function $F(i,n){const r=i.style.display;return i.style.display=null!=n?n:"none",r}function HF(i,n,r,s,l){const d=[];r.forEach(E=>d.push($F(E)));const g=[];s.forEach((E,I)=>{const S={};E.forEach(x=>{const O=S[x]=n.computeStyle(I,x,l);(!O||0==O.length)&&(I[ea]=hj,g.push(I))}),i.set(I,S)});let y=0;return r.forEach(E=>$F(E,d[y++])),g}function GF(i,n){const r=new Map;if(i.forEach(y=>r.set(y,[])),0==n.length)return r;const l=new Set(n),d=new Map;function g(y){if(!y)return 1;let E=d.get(y);if(E)return E;const I=y.parentNode;return E=r.has(I)?I:l.has(I)?1:g(I),d.set(y,E),E}return n.forEach(y=>{const E=g(y);1!==E&&r.get(E).push(y)}),r}const wA="$$classes";function ta(i,n){if(i.classList)i.classList.add(n);else{let r=i[wA];r||(r=i[wA]={}),r[n]=!0}}function _v(i,n){if(i.classList)i.classList.remove(n);else{let r=i[wA];r&&delete r[n]}}function yj(i,n,r){ff(r).onDone(()=>i.processLeaveNode(n))}function qF(i,n){for(let r=0;r<i.length;r++){const s=i[r];s instanceof pF?qF(s.players,n):n.push(s)}}function ZF(i,n,r){const s=r.get(i);if(!s)return!1;let l=n.get(i);return l?s.forEach(d=>l.add(d)):n.set(i,s),r.delete(i),!0}class EA{constructor(n,r,s){this.bodyNode=n,this._driver=r,this._normalizer=s,this._triggerCache={},this.onRemovalComplete=(l,d)=>{},this._transitionEngine=new pj(n,r,s),this._timelineEngine=new aj(n,r,s),this._transitionEngine.onRemovalComplete=(l,d)=>this.onRemovalComplete(l,d)}registerTrigger(n,r,s,l,d){const g=n+"-"+l;let y=this._triggerCache[g];if(!y){const E=[],I=bR(this._driver,d,E);if(E.length)throw new Error(`The animation trigger "${l}" has failed to build due to the following errors:\n - ${E.join("\n - ")}`);y=function(i,n,r){return new ij(i,n,r)}(l,I,this._normalizer),this._triggerCache[g]=y}this._transitionEngine.registerTrigger(r,l,y)}register(n,r){this._transitionEngine.register(n,r)}destroy(n,r){this._transitionEngine.destroy(n,r)}onInsert(n,r,s,l){this._transitionEngine.insertNode(n,r,s,l)}onRemove(n,r,s,l){this._transitionEngine.removeNode(n,r,l||!1,s)}disableAnimations(n,r){this._transitionEngine.markElementAsDisabled(n,r)}process(n,r,s,l){if("@"==s.charAt(0)){const[d,g]=_F(s);this._timelineEngine.command(d,r,g,l)}else this._transitionEngine.trigger(n,r,s,l)}listen(n,r,s,l,d){if("@"==s.charAt(0)){const[g,y]=_F(s);return this._timelineEngine.listen(g,r,y,d)}return this._transitionEngine.listen(n,r,s,l,d)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Vj=(()=>{class i extends cF{constructor(r,s){super(),this._nextAnimationId=0,this._renderer=r.createRenderer(s.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(r){const s=this._nextAnimationId.toString();this._nextAnimationId++;const l=Array.isArray(r)?dF(r):r;return sL(this._renderer,null,s,"register",[l]),new Uj(s,this._renderer)}}return i.\u0275fac=function(r){return new(r||i)(u.LFG(u.FYo),u.LFG(ie))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac}),i})();class Uj extends class{}{constructor(n,r){super(),this._id=n,this._renderer=r}create(n,r){return new Bj(this._id,n,r||{},this._renderer)}}class Bj{constructor(n,r,s,l){this.id=n,this.element=r,this._renderer=l,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",s)}_listen(n,r){return this._renderer.listen(this.element,`@@${this.id}:${n}`,r)}_command(n,...r){return sL(this._renderer,this.element,this.id,n,r)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){var n,r;return null!==(r=null===(n=this._renderer.engine.players[+this.id])||void 0===n?void 0:n.getPosition())&&void 0!==r?r:0}}function sL(i,n,r,s,l){return i.setProperty(n,`@@${r}:${s}`,l)}const oL="@.disabled";let jj=(()=>{class i{constructor(r,s,l){this.delegate=r,this.engine=s,this._zone=l,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),s.onRemovalComplete=(d,g)=>{g&&g.parentNode(d)&&g.removeChild(d.parentNode,d)}}createRenderer(r,s){const d=this.delegate.createRenderer(r,s);if(!(r&&s&&s.data&&s.data.animation)){let S=this._rendererCache.get(d);return S||(S=new aL("",d,this.engine),this._rendererCache.set(d,S)),S}const g=s.id,y=s.id+"-"+this._currentId;this._currentId++,this.engine.register(y,r);const E=S=>{Array.isArray(S)?S.forEach(E):this.engine.registerTrigger(g,y,r,S.name,S)};return s.data.animation.forEach(E),new $j(this,y,d,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(r,s,l){r>=0&&r<this._microtaskId?this._zone.run(()=>s(l)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(d=>{const[g,y]=d;g(y)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([s,l]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return i.\u0275fac=function(r){return new(r||i)(u.LFG(u.FYo),u.LFG(EA),u.LFG(u.R0b))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac}),i})();class aL{constructor(n,r,s){this.namespaceId=n,this.delegate=r,this.engine=s,this.destroyNode=this.delegate.destroyNode?l=>r.destroyNode(l):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(n,r){return this.delegate.createElement(n,r)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,r){this.delegate.appendChild(n,r),this.engine.onInsert(this.namespaceId,r,n,!1)}insertBefore(n,r,s,l=!0){this.delegate.insertBefore(n,r,s),this.engine.onInsert(this.namespaceId,r,n,l)}removeChild(n,r,s){this.engine.onRemove(this.namespaceId,r,this.delegate,s)}selectRootElement(n,r){return this.delegate.selectRootElement(n,r)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,r,s,l){this.delegate.setAttribute(n,r,s,l)}removeAttribute(n,r,s){this.delegate.removeAttribute(n,r,s)}addClass(n,r){this.delegate.addClass(n,r)}removeClass(n,r){this.delegate.removeClass(n,r)}setStyle(n,r,s,l){this.delegate.setStyle(n,r,s,l)}removeStyle(n,r,s){this.delegate.removeStyle(n,r,s)}setProperty(n,r,s){"@"==r.charAt(0)&&r==oL?this.disableAnimations(n,!!s):this.delegate.setProperty(n,r,s)}setValue(n,r){this.delegate.setValue(n,r)}listen(n,r,s){return this.delegate.listen(n,r,s)}disableAnimations(n,r){this.engine.disableAnimations(n,r)}}class $j extends aL{constructor(n,r,s,l){super(r,s,l),this.factory=n,this.namespaceId=r}setProperty(n,r,s){"@"==r.charAt(0)?"."==r.charAt(1)&&r==oL?this.disableAnimations(n,s=void 0===s||!!s):this.engine.process(this.namespaceId,n,r.substr(1),s):this.delegate.setProperty(n,r,s)}listen(n,r,s){if("@"==r.charAt(0)){const l=function(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}(n);let d=r.substr(1),g="";return"@"!=d.charAt(0)&&([d,g]=function(i){const n=i.indexOf(".");return[i.substring(0,n),i.substr(n+1)]}(d)),this.engine.listen(this.namespaceId,l,d,g,y=>{this.factory.scheduleListenerCallback(y._data||-1,s,y)})}return this.delegate.listen(n,r,s)}}let qj=(()=>{class i extends EA{constructor(r,s,l){super(r.body,s,l)}ngOnDestroy(){this.flush()}}return i.\u0275fac=function(r){return new(r||i)(u.LFG(ie),u.LFG(fR),u.LFG(TR))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac}),i})();const dL=[{provide:fR,useClass:EF},{provide:new u.OlP("AnimationModuleType"),useValue:"NoopAnimations"},...[{provide:cF,useClass:Vj},{provide:TR,useFactory:function(){return new J6}},{provide:EA,useClass:qj},{provide:u.FYo,useFactory:function(i,n,r){return new jj(i,n,r)},deps:[zs,EA,u.R0b]}]];let Yj=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({providers:dL,imports:[Vf]}),i})(),Kj=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=u.oAB({type:i,bootstrap:[D6]}),i.\u0275inj=u.cJS({providers:[],imports:[[Vf,C6,Kn.hO.initializeApp(uF_firebaseConfig),Mk,TM,R,Yj,aB,zO,WO]]}),i})();(0,u.G48)(),Fu().bootstrapModule(Kj).catch(i=>console.error(i))},4762:(Ge,Ce,L)=>{"use strict";function ve(se,le){var _e={};for(var ae in se)Object.prototype.hasOwnProperty.call(se,ae)&&le.indexOf(ae)<0&&(_e[ae]=se[ae]);if(null!=se&&"function"==typeof Object.getOwnPropertySymbols){var ue=0;for(ae=Object.getOwnPropertySymbols(se);ue<ae.length;ue++)le.indexOf(ae[ue])<0&&Object.prototype.propertyIsEnumerable.call(se,ae[ue])&&(_e[ae[ue]]=se[ae[ue]])}return _e}function K(se,le,_e,ae){return new(_e||(_e=Promise))(function(ee,ke){function We(Je){try{rt(ae.next(Je))}catch(ut){ke(ut)}}function Ct(Je){try{rt(ae.throw(Je))}catch(ut){ke(ut)}}function rt(Je){Je.done?ee(Je.value):function(ee){return ee instanceof _e?ee:new _e(function(ke){ke(ee)})}(Je.value).then(We,Ct)}rt((ae=ae.apply(se,le||[])).next())})}function j(se,le){var ae,ue,ee,ke,_e={label:0,sent:function(){if(1&ee[0])throw ee[1];return ee[1]},trys:[],ops:[]};return ke={next:We(0),throw:We(1),return:We(2)},"function"==typeof Symbol&&(ke[Symbol.iterator]=function(){return this}),ke;function We(rt){return function(Je){return function(rt){if(ae)throw new TypeError("Generator is already executing.");for(;_e;)try{if(ae=1,ue&&(ee=2&rt[0]?ue.return:rt[0]?ue.throw||((ee=ue.return)&&ee.call(ue),0):ue.next)&&!(ee=ee.call(ue,rt[1])).done)return ee;switch(ue=0,ee&&(rt=[2&rt[0],ee.value]),rt[0]){case 0:case 1:ee=rt;break;case 4:return _e.label++,{value:rt[1],done:!1};case 5:_e.label++,ue=rt[1],rt=[0];continue;case 7:rt=_e.ops.pop(),_e.trys.pop();continue;default:if(!(ee=(ee=_e.trys).length>0&&ee[ee.length-1])&&(6===rt[0]||2===rt[0])){_e=0;continue}if(3===rt[0]&&(!ee||rt[1]>ee[0]&&rt[1]<ee[3])){_e.label=rt[1];break}if(6===rt[0]&&_e.label<ee[1]){_e.label=ee[1],ee=rt;break}if(ee&&_e.label<ee[2]){_e.label=ee[2],_e.ops.push(rt);break}ee[2]&&_e.ops.pop(),_e.trys.pop();continue}rt=le.call(se,_e)}catch(Je){rt=[6,Je],ue=0}finally{ae=ee=0}if(5&rt[0])throw rt[1];return{value:rt[0]?rt[1]:void 0,done:!0}}([rt,Je])}}}function $(se){var le="function"==typeof Symbol&&Symbol.iterator,_e=le&&se[le],ae=0;if(_e)return _e.call(se);if(se&&"number"==typeof se.length)return{next:function(){return se&&ae>=se.length&&(se=void 0),{value:se&&se[ae++],done:!se}}};throw new TypeError(le?"Object is not iterable.":"Symbol.iterator is not defined.")}function oe(se,le){var _e="function"==typeof Symbol&&se[Symbol.iterator];if(!_e)return se;var ue,ke,ae=_e.call(se),ee=[];try{for(;(void 0===le||le-- >0)&&!(ue=ae.next()).done;)ee.push(ue.value)}catch(We){ke={error:We}}finally{try{ue&&!ue.done&&(_e=ae.return)&&_e.call(ae)}finally{if(ke)throw ke.error}}return ee}function de(se,le,_e){if(_e||2===arguments.length)for(var ee,ae=0,ue=le.length;ae<ue;ae++)(ee||!(ae in le))&&(ee||(ee=Array.prototype.slice.call(le,0,ae)),ee[ae]=le[ae]);return se.concat(ee||Array.prototype.slice.call(le))}L.d(Ce,{_T:()=>ve,mG:()=>K,Jh:()=>j,XA:()=>$,CR:()=>oe,ev:()=>de})},8239:(Ge,Ce,L)=>{"use strict";function u(H,ve,fe,Q,ie,K,j){try{var F=H[K](j),U=F.value}catch($){return void fe($)}F.done?ve(U):Promise.resolve(U).then(Q,ie)}function X(H){return function(){var ve=this,fe=arguments;return new Promise(function(Q,ie){var K=H.apply(ve,fe);function j(U){u(K,Q,ie,j,F,"next",U)}function F(U){u(K,Q,ie,j,F,"throw",U)}j(void 0)})}}L.d(Ce,{Z:()=>X})}},Ge=>{Ge(Ge.s=1296)}]);